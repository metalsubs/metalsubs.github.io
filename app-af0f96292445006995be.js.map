{"version":3,"sources":["webpack:///./node_modules/mux.js/lib/aac/utils.js","webpack:///./node_modules/videojs-vtt.js/lib/vttregion.js","webpack:///./node_modules/gatsby-link/index.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/gatsby-react-router-scroll/session-storage.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/videojs-vtt.js/lib/vtt.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/url-toolkit/src/url-toolkit.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/m3u8-parser/dist/m3u8-parser.es.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./node_modules/xmldom/sax.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack:///./node_modules/mux.js/lib/tools/parse-tfdt.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./.cache/normalize-page-path.js","webpack:///./.cache/find-path.js","webpack:///./node_modules/mux.js/lib/tools/ts-inspector.js","webpack:///./node_modules/gatsby-react-router-scroll/use-scroll-restoration.js","webpack:///./node_modules/keycode/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./src/utils/videojs-ass-subtitles-switcher.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./.cache/emitter.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/gatsby-react-router-scroll/index.js","webpack:///./node_modules/global/document.js","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./.cache/react-lifecycles-compat.js","webpack:///./node_modules/core-js/modules/es.array.reduce-right.js","webpack:///./node_modules/@reach/router/es/lib/history.js","webpack:///./node_modules/gatsby-plugin-manifest/get-manifest-pathname.js","webpack:///./node_modules/libass-wasm/dist/js/subtitles-octopus.js","webpack:///./node_modules/@videojs/xhr/index.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/@videojs/vhs-utils/dist/stream.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/gatsby-react-router-scroll/scroll-handler.js","webpack:///./node_modules/mux.js/lib/mp4/find-box.js","webpack:///./src/utils/videojs-octopus.js","webpack:///./gatsby-browser.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./.cache/page-renderer.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/videojs-vtt.js/lib/browser-index.js","webpack:///./node_modules/mux.js/lib/mp4/probe.js","webpack:///./node_modules/@videojs/vhs-utils/dist/codecs.js","webpack:///./node_modules/xmldom/dom-parser.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/@reach/router/es/lib/utils.js","webpack:///./.cache/api-runner-browser-plugins.js","webpack:///./node_modules/@mikaelkristiansson/domready/ready.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./.cache/register-service-worker.js","webpack:///./.cache/_this_is_virtual_fs_path_/$virtual/async-requires.js","webpack:///./node_modules/mux.js/lib/utils/clock.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/invariant/browser.js","webpack:///./node_modules/mux.js/lib/m2ts/probe.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/mux.js/lib/utils/stream.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./.cache/route-announcer-props.js","webpack:///./.cache/navigation.js","webpack:///./node_modules/shallow-compare/es/index.js","webpack:///./.cache/ensure-resources.js","webpack:///./.cache/production-app.js","webpack:///./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./node_modules/@videojs/vhs-utils/dist/resolve-url.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/engine-is-node.js","webpack:///./node_modules/gatsby/dist/internal-plugins/bundle-optimisations/polyfills/object-assign.js","webpack:///./node_modules/@reach/router/es/index.js","webpack:///./node_modules/video.js/node_modules/global/window.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./.cache/strip-prefix.js","webpack:///./node_modules/gatsby-link/parse-path.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack:///./node_modules/xmldom/dom.js","webpack:///./node_modules/@videojs/vhs-utils/dist/containers.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./.cache/prefetch.js","webpack:///./.cache/loader.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/mux.js/lib/utils/bin.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/is-function/index.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/mux.js/lib/tools/parse-sidx.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/mpd-parser/dist/mpd-parser.es.js","webpack:///./node_modules/@videojs/vhs-utils/dist/decode-b64-to-uint8-array.js","webpack:///./node_modules/gatsby-react-router-scroll/scroll-container.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/mux.js/lib/tools/parse-trun.js","webpack:///./node_modules/safe-json-parse/tuple.js","webpack:///./node_modules/mux.js/lib/mp4/parse-type.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./.cache/public-page-renderer.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/gatsby-plugin-manifest/gatsby-browser.js","webpack:///./.cache/create-react-context.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/gatsby-plugin-google-analytics/gatsby-browser.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/@videojs/vhs-utils/dist/byte-helpers.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/mux.js/lib/m2ts/stream-types.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./node_modules/videojs-vtt.js/lib/vttcue.js","webpack:///./node_modules/@babel/runtime/helpers/construct.js","webpack:///./node_modules/@videojs/vhs-utils/dist/media-types.js","webpack:///./node_modules/global/window.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./.cache/api-runner-browser.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/mux.js/lib/tools/parse-tfhd.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/video.js/node_modules/global/document.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/mux.js/lib/tools/parse-sample-flags.js"],"names":["ADTS_SAMPLING_FREQUENCIES","parseId3TagSize","header","byteIndex","returnSize","parseSyncSafeInteger","data","module","exports","isLikelyAacData","offset","getId3Offset","length","charCodeAt","parseAdtsSize","lowThree","middle","parseType","parseSampleRate","packet","i","parseAacTimestamp","frameStart","frameSize","frame","subarray","String","fromCharCode","byteLength","unescape","bytes","start","end","result","toString","slice","percentEncode","d","size","scrollSetting","isValidPercentValue","value","_width","_lines","_regionAnchorX","_regionAnchorY","_viewportAnchorX","_viewportAnchorY","_scroll","Object","defineProperties","this","enumerable","get","set","Error","TypeError","setting","toLowerCase","findScrollSetting","console","warn","_interopRequireDefault","__esModule","withPrefix","withAssetPrefix","path","getGlobalPathPrefix","navigateTo","replace","push","navigate","default","_objectWithoutPropertiesLoose2","_assertThisInitialized2","_inheritsLoose2","_extends2","_propTypes","_react","_router","_utils","_parsePath","parsePath","isAbsolutePath","startsWith","prefix","_ref","_prefix","getGlobalBasePrefix","isLocalLink","base","endsWith","rewriteLinkPath","relativeTo","current","resolve","absolutify","NavLinkPropTypes","activeClassName","string","activeStyle","object","partiallyActive","bool","GatsbyLinkLocationWrapper","props","createElement","Location","_ref2","location","GatsbyLink","_location","_React$Component","_this","call","defaultGetProps","_ref3","isPartiallyCurrent","isCurrent","className","filter","Boolean","join","style","IOSupported","window","IntersectionObserver","state","handleRef","bind","_proto","prototype","_prefetch","currentPath","pathname","rewrittenPath","to","newPathName","___loader","enqueue","componentDidUpdate","prevProps","prevState","componentDidMount","componentWillUnmount","io","_this$io","instance","el","unobserve","disconnect","ref","cb","_this2","innerRef","hasOwnProperty","entries","forEach","entry","target","isIntersecting","intersectionRatio","observe","render","_this3","_this$props","_this$props$getProps","getProps","_onClick","onClick","_onMouseEnter","onMouseEnter","rest","prefixedTo","Link","e","hovering","button","defaultPrevented","metaKey","altKey","ctrlKey","shiftKey","preventDefault","shouldReplace","encodeURI","___navigate","href","Component","propTypes","func","isRequired","showDeprecationWarning","functionName","altFunctionName","version","_default","forwardRef","options","___push","___replace","IndexedObject","requireObjectCoercible","it","SessionStorage","read","key","stateKey","getStateKey","sessionStorage","getItem","JSON","parse","save","storedValue","stringify","setItem","stateKeyBase","document","_objCreate","create","F","o","arguments","ParsingError","errorData","message","name","code","parseTimeStamp","input","computeSeconds","h","m","s","f","match","Settings","values","parseOptions","callback","keyValueDelim","groupDelim","groups","split","kv","parseCue","cue","regionList","oInput","consumeTimeStamp","ts","Errors","BadTimeStamp","skipWhitespace","startTime","substr","endTime","settings","k","v","id","region","alt","vals","vals0","integer","percent","vertical","line","lineAlign","snapToLines","align","position","left","center","right","positionAlign","consumeCueSettings","constructor","BadSignature","dflt","defaultKey","has","a","n","test","parseInt","parseFloat","TEXTAREA_ELEMENT","TAG_NAME","c","b","u","ruby","rt","lang","DEFAULT_COLOR_CLASS","white","lime","cyan","red","yellow","magenta","blue","black","TAG_ANNOTATION","NEEDS_PARENT","parseContent","nextToken","shouldAdd","element","localName","type","annotation","tagName","trim","t","rootDiv","tagStack","appendChild","createTextNode","innerHTML","textContent","pop","parentNode","node","createProcessingInstruction","classes","cl","bgColor","colorName","propName","propValue","strongRTLRanges","isStrongRTLChar","charCode","currentRange","determineBidi","cueDiv","nodeStack","text","childNodes","pushNodes","nextTextNode","innerText","StyleBox","CueStyleBox","styleOptions","styles","color","backgroundColor","top","bottom","display","writingMode","unicodeBidi","applyStyles","div","direction","textAlign","font","whiteSpace","textPos","formatStyle","width","height","move","box","BoxPosition","obj","lh","offsetHeight","offsetWidth","offsetTop","rects","getClientRects","getBoundingClientRect","Math","max","lineHeight","undefined","moveBoxToLinePosition","styleBox","containerBox","boxPositions","boxPosition","linePos","track","textTrackList","mediaElement","trackList","count","mode","computeLinePos","axis","step","round","maxPosition","initialAxis","abs","ceil","reverse","calculatedPercentage","bestPosition","specifiedPosition","percentage","overlapsOppositeAxis","within","overlapsAny","p","intersectPercentage","findBestPosition","toCSSCompatValues","WebVTT","prop","val","unit","toMove","overlaps","b2","boxes","container","min","reference","getSimpleBoxPosition","StringDecoder","decode","decodeURIComponent","encodeURIComponent","convertCueToDOMTree","cuetext","processCues","cues","overlay","firstChild","removeChild","paddedOverlay","margin","hasBeenReset","displayState","shouldCompute","fontSize","Parser","vttjs","decoder","buffer","TextDecoder","reportOrThrowError","onparsingerror","self","collectNextLine","pos","parseHeader","ontimestampmap","parseTimestampMap","xy","anchor","VTTRegion","lines","regionAnchorX","regionAnchorY","viewportAnchorX","viewportAnchorY","scroll","onregion","parseRegion","stream","alreadyCollectedLine","VTTCue","indexOf","hasSubstring","oncue","flush","onflush","exec","error","global","aFunction","variable","namespace","method","URL_REGEX","FIRST_SEGMENT_REGEX","SLASH_DOT_REGEX","SLASH_DOT_DOT_REGEX","URLToolkit","buildAbsoluteURL","baseURL","relativeURL","opts","alwaysNormalize","basePartsForNormalise","parseURL","normalizePath","buildURLFromParts","relativeParts","scheme","baseParts","netLoc","pathParts","builtParts","params","query","fragment","baseURLPath","newPath","substring","lastIndexOf","url","parts","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","NASHORN_BUG","1","V","descriptor","LineStream","_Stream","nextNewline","trigger","parseAttributes","attributes","attr","attrs","RegExp","ParseStream","customParsers","tagMappers","event","reduce","acc","mapper","mappedLine","concat","newLine","tagType","duration","title","number","playlistType","allowed","URI","uri","BYTERANGE","_attributes$BYTERANGE","byterange","RESOLUTION","resolution","BANDWIDTH","dateTimeString","dateTimeObject","Date","IV","Uint32Array","PRECISE","addParser","expression","customType","dataParser","segment","addTagMapper","map","lineStream","parseStream","pipe","currentMap","_key","uris","currentUri","noop","defaultMediaGroups","currentTimeline","manifest","allowCache","discontinuityStarts","segments","lastByterangeEnd","on","mediaGroup","rendition","tag","endlist","endList","inf","mediaSequence","discontinuitySequence","METHOD","KEYFORMAT","KEYID","contentProtection","schemeIdUri","keyId","pssh","iv","isFinite","playlist","playlists","mediaGroups","media","TYPE","NAME","mediaGroupType","DEFAULT","autoselect","AUTOSELECT","LANGUAGE","language","instreamId","CHARACTERISTICS","characteristics","FORCED","forced","discontinuity","targetduration","targetDuration","totalduration","totalDuration","isNaN","timeOffset","precise","cueOut","cueOutCont","cueIn","timeline","comment","custom","chunk","toObject","toLength","createMethod","IS_RIGHT","that","callbackfn","argumentsLength","memo","O","index","nameStartChar","nameChar","source","tagNamePattern","XMLReader","copyLocator","lineNumber","columnNumber","parseElementStartPart","currentNSMap","entityReplacer","errorHandler","attrName","charAt","warning","add","setTagName","closed","appendElement","domBuilder","localNSMap","qName","nsp","nsPrefix","_copy","startPrefixMapping","ns","startElement","endElement","endPrefixMapping","parseHtmlSpecialContent","elStartEnd","elEndStart","characters","fixSelfClosed","closeMap","parseDCC","startCDATA","endCDATA","matchs","buf","reg","lastIndex","len","pubid","sysid","lastMatch","startDTD","endDTD","parseInstruction","processingInstruction","ElementAttributes","_set_proto_","thiz","parent","__proto__","defaultNSMap","entityMap","startDocument","defaultNSMapCopy","surrogate1","surrogate2","fixedFromCharCode","appendText","xt","locator","lineEnd","linePattern","lineStart","parseStack","tagStart","doc","currentElement","config","endMatch","fatalError","nbsp","locator2","_parse","endDocument","getLocalName","getLocator","getQName","getURI","getValue","_typeof","_getRequireWildcardCache","WeakMap","cache","newObj","hasPropertyDescriptor","defineProperty","desc","toUnsigned","flags","Uint8Array","baseMediaDecodeTime","pow","check","globalThis","Function","pathCache","Map","matchPaths","trimPathname","rawPathname","stripPrefix","__BASE_PATH__","URL","setMatchPaths","findMatchPath","trimmedPathname","cleanPath","pickPaths","matchPath","originalPath","pick","normalizePagePath","route","grabMatchParams","findPath","foundPath","StreamTypes","handleRollover","probe","aac","ONE_SECOND_IN_TS","parseAudioPes_","pmt","pesType","pusi","parsed","startIndex","endIndex","endLoop","pid","parsePesType","table","parsePayloadUnitStartIndicator","parsePesTime","audio","parseVideoPes_","pes","currentFrame","video","firstKeyFrame","shift","videoPacketContainsKeyFrame","inspectTs_","parsePat","parsePmt","parsePsi_","H264_STREAM_TYPE","ADTS_STREAM_TYPE","inspect","baseTimestamp","audioCount","sampleRate","timestamp","audioTimescale","dts","pts","inspectAac_","segmentInfo","audioBaseTimestamp","info","dtsTime","ptsTime","videoBaseTimestamp","adjustTimestamp_","useScrollRestoration","identifier","useLocation","useContext","_scrollHandler","ScrollContext","useRef","useLayoutEffect","scrollTo","onScroll","scrollTop","keyCode","searchInput","hasKeyCode","which","names","foundNamedKey","search","codes","aliases","isEventKey","nameOrCode","alias","Array","isArray","arr","Plugin","videojs","getPlugin","VideoJsMenuButton","getComponent","VideoJsMenu","VideoJsComponent","VideoJsMenuItem","VideoJsDom","dom","ConcreteButton","createMenu","menu","player","menuButton","options_","titleEl","createEl","tabIndex","titleComponent","addItem","items","createItems","ConcreteMenuItem","item","subtitleButton","plugin","label","selectable","selected","handleClick","setCurrentSubtitle","ASSSubtitlesSwitcher","subtitles","subtitleItems","setInitialSubtitle","createSubtitleButton","updateState","logState","dispose","log","selectedSubtitle","languageCode","localStorage","find","subtitle","currentSubtitle","setState","playing","paused","changed","placementIndex","controlBar","children","concreteButtonInstance","addChild","componentClass","_existingItem","levelItem","getSubtitleMenuItem","src","addClass","el_","displayCurrentSubtitle","setButtonInnerText","getCurrentSubtitle","icon","vjsIconClass","menuButton_","$","removeClass","update","Octopus","setTrackByUrl","emitter","all","handler","off","splice","emit","evt","mitt","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","keys","setPrototypeOf","subClass","superClass","writable","configurable","ScrollContainer","ScrollHandler","_scrollContainer","_useScrollRestoration","doccy","minDoc","topLevel","excluded","sourceKeys","shared","uid","polyfill","$reduceRight","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","proto","reduceRight","_extends","assign","getLocation","_source$location","hash","origin","protocol","host","hostname","port","canUseDOM","decodeURI","history","createHistory","listeners","transitioning","resolveTransition","_onTransitionComplete","listen","listener","popstateListener","action","addEventListener","removeEventListener","fn","_ref$replace","go","now","replaceState","pushState","transition","Promise","res","createMemorySource","initialPath","searchIndex","initialLocation","stack","states","_","_uri$split","_uri$split$","_uri$split2","_uri$split2$","newIndex","globalHistory","localizedManifests","localizedManifest","app","start_url","SubtitlesOctopusOnLoad","supportsWebAssembly","WebAssembly","instantiate","_module","Module","of","Instance","renderFrames","renderFramesData","beforeDrawTime","performance","ctx","clearRect","canvas","canvases","image","bufferCanvas","w","imageBuffer","Uint8ClampedArray","hasAlphaBug","j","imageData","ImageData","bufferCanvasCtx","putImageData","drawImage","x","y","debug","drawTime","spentTime","renderStart","renderFastFrames","bitmaps","bitmap","libassTime","decodeTime","lossyRender","isOurCanvas","canvasParent","fonts","availableFonts","onReadyEvent","onReady","workerUrl","legacyWorkerUrl","subUrl","subContent","onErrorEvent","onError","lastRenderTime","pixelRatio","devicePixelRatio","getContext","createImageData","workerError","init","Worker","worker","onmessage","onWorkerMessage","onerror","workerActive","createCanvas","setVideo","setSubUrl","postMessage","currentScript","preMain","fastRender","nextSibling","insertBefore","testBuf","testImage","prePut","getImageData","postPut","timeupdate","setCurrentTime","currentTime","setIsPaused","setRate","playbackRate","resizeWithTimeout","ResizeObserver","ro","videoWidth","resize","callee","getVideoPosition","videoRatio","videoHeight","realWidth","realHeight","floor","renderFrameData","frameId","content","apply","op","time","requestAnimationFrame","property","events","videoSize","pointerEvents","setTimeout","runBenchmark","customMessage","userData","setTrack","freeTrack","isPaused","rate","terminate","createEvent","getEvents","setEvent","removeEvent","createStyle","getStyles","setStyle","removeStyle","isFunction","initParams","createXHR","_createXHR","called","err","response","body","getBody","xhr","responseText","responseType","responseXML","firefoxBugTakenEffect","documentElement","nodeName","getXml","isJson","errorFunc","clearTimeout","timeoutTimer","statusCode","failureResponse","loadFunc","aborted","status","useXDR","headers","rawRequest","getAllResponseHeaders","row","parseHeaders","cors","XDomainRequest","XMLHttpRequest","sync","json","onreadystatechange","readyState","onload","onprogress","onabort","ontimeout","open","username","password","withCredentials","timeout","abort","setRequestHeader","isEmpty","beforeSend","send","array","iterator","forEachArray","toUpperCase","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","P","Stream","callbacks","args","_length","_i","destination","fails","$reduce","_interopRequireWildcard","React","_sessionStorage","createContext","displayName","_len","_stateStorage","scrollListener","scrollY","windowScroll","shouldUpdateScroll","scrollToHash","getElementById","scrollIntoView","prevRouterProps","routerProps","scrollPosition","_this$props$location","_this$props$location2","Provider","findBox","subresults","results","resizePlayerWithTimeout","resizePlayer","videoSelector","octopusOptions","videoElement","querySelector","createCanvasElement","x2","octopus","SubtitlesOctopus","configurePlayer","offsetLeft","require","level","registerPlugin","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","len2","encodeChunk","lookup","num","output","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","arg","encodingOrOffset","allocUnsafe","from","ArrayBuffer","byteOffset","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","isBuffer","checked","copy","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","Number","remaining","strLen","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","typedArraySupport","poolSize","_augment","Symbol","species","fill","allocUnsafeSlow","_isBuffer","compare","list","swap16","swap32","swap64","equals","thisStart","thisEnd","thisCopy","targetCopy","includes","toJSON","_arr","ret","out","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","stringtrim","base64clean","dst","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","noTargetGet","sham","toInteger","PageRenderer","pageResources","pageContext","__params","pathContext","pageElement","apiRunner","loader","publicLoader","component","page","internalObjectKeys","hiddenKeys","getOwnPropertyNames","TimestampRolloverStream","lastDTS","referenceDTS","type_","endTimeline","reset","_assertThisInitialized","ReferenceError","cueShim","regionShim","nativeVTTCue","nativeVTTRegion","shim","restore","timescale","compositionStartTime","getVideoTrackIds","getTracks","getTimescaleFromMediaHeader","toHexString","parseTfhd","parseTrun","parseTfdt","trak","tkhd","mdhd","trafs","baseTimes","traf","tfhd","scale","tfdt","timescales","trackId","trafBoxes","compositionTimeOffset","trun","parsedTrun","samples","traks","videoTrackIds","hdlrs","tkhds","hdlr","view","handlerType","DataView","getUint8","getUint32","tracks","tkhdVersion","stsd","sampleDescriptions","codec","codecConfig","codecBox","_interopDefaultLegacy","window__default","regexs","mp4","webm","ogg","muxerVideo","muxerAudio","translateLegacyCodec","orig","profile","avcLevel","translateLegacyCodecs","codecs","parseCodecs","codecString","details","isAudioCodec","getMimeForCodec","every","DEFAULT_AUDIO_CODEC","DEFAULT_VIDEO_CODEC","browserSupportsCodec","MediaSource","isTypeSupported","codecsFromDefault","master","audioGroupId","AUDIO","audioGroup","audioType","CODECS","isVideoCodec","mapLegacyAvcCodecs","muxerSupportsCodec","DOMParser","DOMHandler","cdata","_locator","l","systemId","_toString","chars","java","hander","parseFromString","mimeType","sax","xmlns","setDocumentLocator","errorImpl","isCallback","build","msg","buildErrorHandler","xml","DOMImplementation","createDocument","documentURI","namespaceURI","createElementNS","createAttributeNS","nodeValue","setAttributeNode","ins","ignorableWhitespace","ch","charNode","createCDATASection","skippedEntity","normalize","comm","createComment","publicId","impl","implementation","createDocumentType","dt","_error","XMLSerializer","userAgent","process","versions","v8","routes","default_","uriPathname","uriSegments","segmentize","isRootUri","ranked","rankRoutes","missed","routeSegments","routeSegment","uriSegment","isSplat","dynamicMatch","paramRe","reservedNames","_to$split","toPathname","toQuery","basePathname","toSegments","baseSegments","addQuery","allSegments","insertParams","_path$split","pathBase","_path$split$","constructedPath","_params$location","_params$location$sear","searchSplit","validateRedirect","isDynamic","sort","rankRoute","score","isRootSegment","SEGMENT_POINTS","q","shallowCompare","obj1","obj2","obj1Keys","ie10","navigator","appVersion","fns","hack","doScroll","loaded","definition","getBuiltIn","serviceWorker","register","then","installingWorker","installing","controller","___swUpdated","___failedResources","reload","catch","components","secondsToVideoTs","secondsToAudioTs","videoTsToSeconds","audioTsToSeconds","audioTsToVideoTs","videoTsToAudioTs","metadataTsToSeconds","seconds","timelineStartPts","keepOriginalTimestamps","_getPrototypeOf","getPrototypeOf","condition","format","argIndex","framesToPop","parsePid","parseAdaptionField","parseNalUnitType","pmtPid","programMapTable","payloadOffset","tableEnd","METADATA_STREAM_TYPE","ptsDtsFlags","frameBuffer","frameI","frameSyncPoint","foundKeyFrame","flushSource","partialFlush","classof","_setPrototypeOf","toAbsoluteIndex","IS_INCLUDES","$this","fromIndex","argument","RouteAnnouncerProps","padding","overflow","clip","border","redirectMap","redirects","redirect","fromPath","maybeRedirect","toPath","onPreRouteUpdate","prevLocation","onRouteUpdate","timeoutId","loadPage","PageResourceStatus","webpackCompilationHash","___webpackCompilationHash","gatsbyApi","reachNavigate","getSavedScrollPosition","RouteAnnouncer","announcementRef","createRef","nextProps","pageName","pageHeadings","querySelectorAll","newAnnouncement","RouteUpdates","shouldComponentUpdate","Fragment","shallowDiffers","EnsureResources","loadPageSync","getDerivedStateFromProps","loadResources","rawPath","nextState","ProdLoader","asyncRequires","setLoader","setApiRunner","___emitter","apiRunnerAsync","RouteHandler","baseuri","basepath","DataContext","GatsbyRoot","staticQueryResults","getStaticQueryResults","LocationHandler","Consumer","pagePath","browserLoc","SiteRoot","App","renderer","ReactDOM","hydrate","domReady","IS_PURE","store","copyright","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","anObject","getOwnPropertySymbols","prefetchPathname","StaticQueryContext","StaticQueryDataRenderer","staticQueryData","combinedStaticQueryData","GATSBY_EXPERIMENTAL_LAZY_DEVJS","finalData","StaticQuery","useStaticQuery","context","queryNotFound","graphql","URLToolkit__default","baseUrl","relativeUrl","_objectWithoutProperties","_classCallCheck","Constructor","_possibleConstructorReturn","_inherits","createNamedContext","defaultValue","Ctx","LocationContext","LocationProvider","_temp","refs","unlisten","_props$history","componentDidCatch","isRedirect","_navigate","unmounted","defaultProps","ServerLocation","BaseContext","Router","baseContext","locationContext","RouterImpl","_React$PureComponent","_props","_navigate2","primary","_props$component","domProps","Children","toArray","child","createRoute","clone","cloneElement","FocusWrapper","FocusHandler","wrapperProps","PureComponent","FocusContext","requestFocus","FocusHandlerImpl","initialRender","focusHandlerCount","_React$Component2","_temp2","_this4","_len2","_key2","shouldFocus","focus","myURIChanged","navigatedUpToMe","contains","activeElement","_this5","_props2","_props2$component","Comp","outline","C","_ref4","_ref5","_ref6","_props$getProps","anchorProps","encodedHref","shouldNavigate","_location$state","restState","RedirectRequest","redirectTo","RedirectImpl","_React$Component3","_props3","_props3$replace","noThrow","resolvedTo","_props4","Redirect","_ref7","Match","_ref8","_ref9","_ref10","resolvedPath","useNavigate","useParams","useMatch","stripSlashes","elementPath","win","assertThisInitialized","NATIVE_WEAK_MAP","isObject","objectHas","sharedKey","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","Reflect","construct","Proxy","inspectSource","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","hashIndex","_inheritsLoose","dest","Class","Super","pt","ppt","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","captureStackTrace","NodeList","LiveNodeList","refresh","_node","_refresh","_updateLiveList","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_nsMap","_onAddAttribute","_removeNamedNode","features","_features","feature","Node","_xmlEncoder","_visitNode","Document","remove","_onUpdateChild","newChild","cs","_removeChild","previous","previousSibling","next","lastChild","_insertBefore","nextChild","cp","nodeType","newFirst","newLast","pre","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","nodeSerializeToString","isHtml","nodeFilter","refNode","lookupPrefix","visibleNamespaces","serializeToString","needNamespaceDefine","isHTML","internalSubset","getNamedItem","setNamedItem","_ownerElement","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","qualifiedName","doctype","root","refChild","replaceChild","oldChild","hasChildNodes","cloneNode","deep","_cloneNode","node2","attrs2","appendData","isSupported","hasAttributes","lookupNamespaceURI","isDefaultNamespace","importNode","importedNode","_importNode","rtv","getAttribute","createDocumentFragment","createAttribute","specified","createEntityReference","pl","hasAttribute","getAttributeNode","setAttribute","removeAttribute","removeAttributeNode","_appendSingleChild","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","getElementsByTagNameNS","substringData","insertData","replaceData","deleteData","splitText","newText","newNode","$$length","getTextContent","toUint8","bytesToString","escape","id3Size","isLikely","mp3","flac","isLikelyTypes","isLikelyFn","detectContainerForBytes","isLikelyFmp4MediaSegment","_arrayLikeToArray","arr2","_toConsumableArray","iter","minLen","supportedPrefetchStrategy","fakeLink","relList","supports","support","reject","link","getElementsByName","req","preFetched","prefetch","Success","preferDefault","createPageDataUrl","doFetch","toPageResources","pageData","componentChunkName","staticQueryHashes","BaseLoader","loadComponent","inFlightNetworkRequests","pageDb","inFlightDb","staticQueryDb","pageDataDb","prefetchTriggered","Set","prefetchCompleted","memoizedGet","inFlightPromise","delete","prefetchDisabled","some","fetchPageDataJson","loadObj","retries","jsonPayload","payload","notFound","loadPageDataJson","loadAppData","allData","finalResult","componentChunkPromise","createdAt","staticQueryBatchPromise","staticQueryHash","staticQueryResultsMap","shouldPrefetch","connection","effectiveType","saveData","doesConnectionSupportPrefetch","realPath","doPrefetch","pageDataUrl","prefetchHelper","crossOrigin","as","getResourceURLsForPathname","createComponentUrls","isPageNotFound","appData","___chunkMapping","__PATH_PREFIX__","chunkName","componentUrls","_loader","getResourcesForPathname","getResourcesForPathnameSync","alert","confirm","prompt","references","referenceId","earliestPresentationTime","firstOffset","referenceCount","getUint16","referenceType","referencedSize","subsegmentDuration","startsWithSap","sapType","sapDeltaTime","merge","objects","flatten","lists","errors","urlTypeToSegment","_ref$baseUrl","_ref$source","_ref$range","range","_ref$indexRange","indexRange","resolvedUri","ranges","startRange","endRange","segmentRange","static","_attributes$timescale","sourceDuration","dynamic","NOW","clientOffset","availabilityStartTime","_attributes$timescale2","_attributes$start","_attributes$minimumUp","minimumUpdatePeriod","_attributes$timeShift","timeShiftBufferDepth","periodStartWC","periodDuration","segmentCount","availableStart","availableEnd","parseByDuration","_attributes$type","_attributes$timescale4","_segmentRange$type","_attributes$timescale3","periodIndex","_attributes$startNumb","startNumber","segmentsFromBase","_attributes$initializ","initialization","_attributes$indexRang","initSegment","sourceURL","segmentTimeInfo","addSegmentsToPlaylist","sidx","sidxByteRange","sidxEnd","mediaReferences","r","mergeDiscontiguousPlaylists","_acc$name$segments","addSegmentInfoFromSidx","sidxMapping","sidxKey","sidxMatch","formatAudioPlaylist","_attributes","bandwidth","formatVttPlaylist","_m3u8Attributes","m3u8Attributes","formatVideoPlaylist","_attributes2","SUBTITLES","toM3u8","dashPlaylists","locations","_mediaGroups","_dashPlaylists$0$attr","_dashPlaylists$0$attr2","suggestedPresentationDelay","videoPlaylists","contentType","audioPlaylists","vttPlaylists","VIDEO","mainPlaylist","formattedPlaylists","role","roleLabel","organizeAudioPlaylists","subs","organizeVttPlaylists","getLiveRValue","parseByTimeline","segmentTimeline","_attributes$minimumUp2","_attributes$media","sIndex","S","repeat","segmentTime","nextS","identifierPattern","constructTemplateUrl","identifierReplacement","segmentsFromTemplate","templateValues","RepresentationID","Bandwidth","mapSegment","parseTemplateInfo","Time","segmentsFromList","_attributes$segmentUr","segmentUrls","segmentUrlMap","segmentUrlObject","segmentUrl","mediaRange","SegmentURLToSegmentObject","generateSegments","segmentAttributes","segmentsFn","template","segmentsInfo","_segmentAttributes","_segmentAttributes$ti","findChildren","getContent","parseDuration","_match$slice","year","month","day","hour","minute","second","parsers","mediaPresentationDuration","parsedValue","parseFn","keySystemsMap","buildBaseUrls","referenceUrls","baseUrlElements","baseUrlElement","getSegmentInformation","adaptationSet","segmentTemplate","segmentList","segmentBase","segmentTimelineParentNode","segmentInitializationParentNode","segmentInitialization","toRepresentations","periodAttributes","periodBaseUrls","periodSegmentInfo","adaptationSetAttributes","adaptationSetBaseUrls","roleAttributes","keySystem","psshNode","psshBuffer","representations","adaptationSetSegmentInfo","representation","repBaseUrlElements","repBaseUrls","representationSegmentInfo","inheritBaseUrls","toAdaptationSets","mpdAttributes","mpdBaseUrls","period","periodAtt","parsedPeriodId","adaptationSets","stringToMpdXml","manifestString","mpd","parsedManifestInfo","_options","_options$manifestUri","manifestUri","_options$NOW","_options$clientOffset","periods","representationInfo","inheritAttributes","parseUTCTiming","UTCTimingNode","parseUTCTimingScheme","b64Text","decodedString","atob","_reactDom","scrollKey","ScrollContainerImplementation","findDOMNode","functionToString","parseSampleFlags","sample","dataOffsetPresent","firstSampleFlagsPresent","sampleDurationPresent","sampleSizePresent","sampleFlagsPresent","sampleCompositionTimeOffsetPresent","sampleCount","dataOffset","getInt32","reviver","postfix","random","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","LN2","replacement","detection","POLYFILL","NATIVE","nativeDefineProperty","Attributes","pluginOptions","ga","excludeGAPaths","rx","delay","pageTransitionDelay","METHOD_NAME","concatTypedArrays","buffers","totalLength","total","tempBuffer","isTypedArray","stringToBytes","stringIsBytes","thrower","ACCESSORS","argument0","argument1","ProdPageRenderer","InternalPageRenderer","directionSetting","alignSetting","findAlignSetting","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","findDirectionSetting","SyntaxError","getCueAsHTML","isNativeReflectConstruct","_construct","Parent","MPEGURL_REGEX","DASH_REGEX","simpleTypeFromSourceType","PREFERRED_STRING","valueOf","plugins","api","defaultReturn","argTransform","g","baseDataOffsetPresent","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","durationIsEmpty","defaultBaseIsMoof","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","baseDataOffsetIsMoof","EXISTS","_objectWithoutPropertiesLoose","isLeading","dependsOn","isDependedOn","hasRedundancy","paddingValue","isNonSyncSample","degradationPriority"],"mappings":"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","file":"app-af0f96292445006995be.js","sourcesContent":["/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about Aac data.\n */\n'use strict';\n\nvar ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\nvar parseId3TagSize = function parseId3TagSize(header, byteIndex) {\n  var returnSize = header[byteIndex + 6] << 21 | header[byteIndex + 7] << 14 | header[byteIndex + 8] << 7 | header[byteIndex + 9],\n      flags = header[byteIndex + 5],\n      footerPresent = (flags & 16) >> 4; // if we get a negative returnSize clamp it to 0\n\n  returnSize = returnSize >= 0 ? returnSize : 0;\n\n  if (footerPresent) {\n    return returnSize + 20;\n  }\n\n  return returnSize + 10;\n};\n\nvar getId3Offset = function getId3Offset(data, offset) {\n  if (data.length - offset < 10 || data[offset] !== 'I'.charCodeAt(0) || data[offset + 1] !== 'D'.charCodeAt(0) || data[offset + 2] !== '3'.charCodeAt(0)) {\n    return offset;\n  }\n\n  offset += parseId3TagSize(data, offset);\n  return getId3Offset(data, offset);\n}; // TODO: use vhs-utils\n\n\nvar isLikelyAacData = function isLikelyAacData(data) {\n  var offset = getId3Offset(data, 0);\n  return data.length >= offset + 2 && (data[offset] & 0xFF) === 0xFF && (data[offset + 1] & 0xF0) === 0xF0 && // verify that the 2 layer bits are 0, aka this\n  // is not mp3 data but aac data.\n  (data[offset + 1] & 0x16) === 0x10;\n};\n\nvar parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n  return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n}; // return a percent-encoded representation of the specified byte range\n// @see http://en.wikipedia.org/wiki/Percent-encoding\n\n\nvar percentEncode = function percentEncode(bytes, start, end) {\n  var i,\n      result = '';\n\n  for (i = start; i < end; i++) {\n    result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n  }\n\n  return result;\n}; // return the string representation of the specified byte range,\n// interpreted as ISO-8859-1.\n\n\nvar parseIso88591 = function parseIso88591(bytes, start, end) {\n  return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n};\n\nvar parseAdtsSize = function parseAdtsSize(header, byteIndex) {\n  var lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n      middle = header[byteIndex + 4] << 3,\n      highTwo = header[byteIndex + 3] & 0x3 << 11;\n  return highTwo | middle | lowThree;\n};\n\nvar parseType = function parseType(header, byteIndex) {\n  if (header[byteIndex] === 'I'.charCodeAt(0) && header[byteIndex + 1] === 'D'.charCodeAt(0) && header[byteIndex + 2] === '3'.charCodeAt(0)) {\n    return 'timed-metadata';\n  } else if (header[byteIndex] & 0xff === 0xff && (header[byteIndex + 1] & 0xf0) === 0xf0) {\n    return 'audio';\n  }\n\n  return null;\n};\n\nvar parseSampleRate = function parseSampleRate(packet) {\n  var i = 0;\n\n  while (i + 5 < packet.length) {\n    if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n      // If a valid header was not found,  jump one forward and attempt to\n      // find a valid ADTS header starting at the next byte\n      i++;\n      continue;\n    }\n\n    return ADTS_SAMPLING_FREQUENCIES[(packet[i + 2] & 0x3c) >>> 2];\n  }\n\n  return null;\n};\n\nvar parseAacTimestamp = function parseAacTimestamp(packet) {\n  var frameStart, frameSize, frame, frameHeader; // find the start of the first frame and the end of the tag\n\n  frameStart = 10;\n\n  if (packet[5] & 0x40) {\n    // advance the frame start past the extended header\n    frameStart += 4; // header size field\n\n    frameStart += parseSyncSafeInteger(packet.subarray(10, 14));\n  } // parse one or more ID3 frames\n  // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n  do {\n    // determine the number of bytes in this frame\n    frameSize = parseSyncSafeInteger(packet.subarray(frameStart + 4, frameStart + 8));\n\n    if (frameSize < 1) {\n      return null;\n    }\n\n    frameHeader = String.fromCharCode(packet[frameStart], packet[frameStart + 1], packet[frameStart + 2], packet[frameStart + 3]);\n\n    if (frameHeader === 'PRIV') {\n      frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n      for (var i = 0; i < frame.byteLength; i++) {\n        if (frame[i] === 0) {\n          var owner = parseIso88591(frame, 0, i);\n\n          if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n            var d = frame.subarray(i + 1);\n            var size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n            size *= 4;\n            size += d[7] & 0x03;\n            return size;\n          }\n\n          break;\n        }\n      }\n    }\n\n    frameStart += 10; // advance past the frame header\n\n    frameStart += frameSize; // advance past the frame body\n  } while (frameStart < packet.byteLength);\n\n  return null;\n};\n\nmodule.exports = {\n  isLikelyAacData: isLikelyAacData,\n  parseId3TagSize: parseId3TagSize,\n  parseAdtsSize: parseAdtsSize,\n  parseType: parseType,\n  parseSampleRate: parseSampleRate,\n  parseAacTimestamp: parseAacTimestamp\n};","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar scrollSetting = {\n  \"\": true,\n  \"up\": true\n};\n\nfunction findScrollSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  var scroll = scrollSetting[value.toLowerCase()];\n  return scroll ? value.toLowerCase() : false;\n}\n\nfunction isValidPercentValue(value) {\n  return typeof value === \"number\" && value >= 0 && value <= 100;\n} // VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\n\n\nfunction VTTRegion() {\n  var _width = 100;\n  var _lines = 3;\n  var _regionAnchorX = 0;\n  var _regionAnchorY = 100;\n  var _viewportAnchorX = 0;\n  var _viewportAnchorY = 100;\n  var _scroll = \"\";\n  Object.defineProperties(this, {\n    \"width\": {\n      enumerable: true,\n      get: function get() {\n        return _width;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"Width must be between 0 and 100.\");\n        }\n\n        _width = value;\n      }\n    },\n    \"lines\": {\n      enumerable: true,\n      get: function get() {\n        return _lines;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"Lines must be set to a number.\");\n        }\n\n        _lines = value;\n      }\n    },\n    \"regionAnchorY\": {\n      enumerable: true,\n      get: function get() {\n        return _regionAnchorY;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n        }\n\n        _regionAnchorY = value;\n      }\n    },\n    \"regionAnchorX\": {\n      enumerable: true,\n      get: function get() {\n        return _regionAnchorX;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n        }\n\n        _regionAnchorX = value;\n      }\n    },\n    \"viewportAnchorY\": {\n      enumerable: true,\n      get: function get() {\n        return _viewportAnchorY;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n        }\n\n        _viewportAnchorY = value;\n      }\n    },\n    \"viewportAnchorX\": {\n      enumerable: true,\n      get: function get() {\n        return _viewportAnchorX;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n        }\n\n        _viewportAnchorX = value;\n      }\n    },\n    \"scroll\": {\n      enumerable: true,\n      get: function get() {\n        return _scroll;\n      },\n      set: function set(value) {\n        var setting = findScrollSetting(value); // Have to check for false as an empty string is a legal value.\n\n        if (setting === false) {\n          console.warn(\"Scroll: an invalid or illegal string was specified.\");\n        } else {\n          _scroll = setting;\n        }\n      }\n    }\n  });\n}\n\nmodule.exports = VTTRegion;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.withPrefix = withPrefix;\nexports.withAssetPrefix = withAssetPrefix;\nexports.navigateTo = exports.replace = exports.push = exports.navigate = exports.default = void 0;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _router = require(\"@reach/router\");\n\nvar _utils = require(\"@reach/router/lib/utils\");\n\nvar _parsePath = require(\"./parse-path\");\n\nexports.parsePath = _parsePath.parsePath;\n\nvar isAbsolutePath = function isAbsolutePath(path) {\n  return path === null || path === void 0 ? void 0 : path.startsWith(\"/\");\n};\n\nfunction withPrefix(path, prefix) {\n  var _ref, _prefix;\n\n  if (prefix === void 0) {\n    prefix = getGlobalBasePrefix();\n  }\n\n  if (!isLocalLink(path)) {\n    return path;\n  }\n\n  if (path.startsWith(\"./\") || path.startsWith(\"../\")) {\n    return path;\n  }\n\n  var base = (_ref = (_prefix = prefix) !== null && _prefix !== void 0 ? _prefix : getGlobalPathPrefix()) !== null && _ref !== void 0 ? _ref : \"/\";\n  return \"\" + ((base === null || base === void 0 ? void 0 : base.endsWith(\"/\")) ? base.slice(0, -1) : base) + (path.startsWith(\"/\") ? path : \"/\" + path);\n} // These global values are wrapped in typeof clauses to ensure the values exist.\n// This is especially problematic in unit testing of this component.\n\n\nvar getGlobalPathPrefix = function getGlobalPathPrefix() {\n  return process.env.NODE_ENV !== \"production\" ? typeof __PATH_PREFIX__ !== \"undefined\" ? __PATH_PREFIX__ : undefined : __PATH_PREFIX__;\n};\n\nvar getGlobalBasePrefix = function getGlobalBasePrefix() {\n  return process.env.NODE_ENV !== \"production\" ? typeof __BASE_PATH__ !== \"undefined\" ? __BASE_PATH__ : undefined : __BASE_PATH__;\n};\n\nvar isLocalLink = function isLocalLink(path) {\n  return path && !path.startsWith(\"http://\") && !path.startsWith(\"https://\") && !path.startsWith(\"//\");\n};\n\nfunction withAssetPrefix(path) {\n  return withPrefix(path, getGlobalPathPrefix());\n}\n\nfunction absolutify(path, current) {\n  // If it's already absolute, return as-is\n  if (isAbsolutePath(path)) {\n    return path;\n  }\n\n  return (0, _utils.resolve)(path, current);\n}\n\nvar rewriteLinkPath = function rewriteLinkPath(path, relativeTo) {\n  if (typeof path === \"number\") {\n    return path;\n  }\n\n  if (!isLocalLink(path)) {\n    return path;\n  }\n\n  return isAbsolutePath(path) ? withPrefix(path) : absolutify(path, relativeTo);\n};\n\nvar NavLinkPropTypes = {\n  activeClassName: _propTypes.default.string,\n  activeStyle: _propTypes.default.object,\n  partiallyActive: _propTypes.default.bool\n}; // Set up IntersectionObserver\n\nvar createIntersectionObserver = function createIntersectionObserver(el, cb) {\n  var io = new window.IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      if (el === entry.target) {\n        // Check if element is within viewport, remove listener, destroy observer, and run link callback.\n        // MSEdge doesn't currently support isIntersecting, so also test for  an intersectionRatio > 0\n        if (entry.isIntersecting || entry.intersectionRatio > 0) {\n          io.unobserve(el);\n          io.disconnect();\n          cb();\n        }\n      }\n    });\n  }); // Add element to the observer\n\n  io.observe(el);\n  return {\n    instance: io,\n    el: el\n  };\n};\n\nfunction GatsbyLinkLocationWrapper(props) {\n  return /*#__PURE__*/_react.default.createElement(_router.Location, null, function (_ref2) {\n    var location = _ref2.location;\n    return /*#__PURE__*/_react.default.createElement(GatsbyLink, (0, _extends2.default)({}, props, {\n      _location: location\n    }));\n  });\n}\n\nvar GatsbyLink = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(GatsbyLink, _React$Component);\n\n  function GatsbyLink(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // Default to no support for IntersectionObserver\n\n    _this.defaultGetProps = function (_ref3) {\n      var isPartiallyCurrent = _ref3.isPartiallyCurrent,\n          isCurrent = _ref3.isCurrent;\n\n      if (_this.props.partiallyActive ? isPartiallyCurrent : isCurrent) {\n        return {\n          className: [_this.props.className, _this.props.activeClassName].filter(Boolean).join(\" \"),\n          style: (0, _extends2.default)({}, _this.props.style, _this.props.activeStyle)\n        };\n      }\n\n      return null;\n    };\n\n    var IOSupported = false;\n\n    if (typeof window !== \"undefined\" && window.IntersectionObserver) {\n      IOSupported = true;\n    }\n\n    _this.state = {\n      IOSupported: IOSupported\n    };\n    _this.handleRef = _this.handleRef.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  var _proto = GatsbyLink.prototype;\n\n  _proto._prefetch = function _prefetch() {\n    var currentPath = window.location.pathname; // reach router should have the correct state\n\n    if (this.props._location && this.props._location.pathname) {\n      currentPath = this.props._location.pathname;\n    }\n\n    var rewrittenPath = rewriteLinkPath(this.props.to, currentPath);\n    var newPathName = (0, _parsePath.parsePath)(rewrittenPath).pathname; // Prefech is used to speed up next navigations. When you use it on the current navigation,\n    // there could be a race-condition where Chrome uses the stale data instead of waiting for the network to complete\n\n    if (currentPath !== newPathName) {\n      ___loader.enqueue(newPathName);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // Preserve non IO functionality if no support\n    if (this.props.to !== prevProps.to && !this.state.IOSupported) {\n      this._prefetch();\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    // Preserve non IO functionality if no support\n    if (!this.state.IOSupported) {\n      this._prefetch();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (!this.io) {\n      return;\n    }\n\n    var _this$io = this.io,\n        instance = _this$io.instance,\n        el = _this$io.el;\n    instance.unobserve(el);\n    instance.disconnect();\n  };\n\n  _proto.handleRef = function handleRef(ref) {\n    var _this2 = this;\n\n    if (this.props.innerRef && this.props.innerRef.hasOwnProperty(\"current\")) {\n      this.props.innerRef.current = ref;\n    } else if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    if (this.state.IOSupported && ref) {\n      // If IO supported and element reference found, setup Observer functionality\n      this.io = createIntersectionObserver(ref, function () {\n        _this2._prefetch();\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var _this$props = this.props,\n        to = _this$props.to,\n        _this$props$getProps = _this$props.getProps,\n        getProps = _this$props$getProps === void 0 ? this.defaultGetProps : _this$props$getProps,\n        _onClick = _this$props.onClick,\n        _onMouseEnter = _this$props.onMouseEnter,\n        $activeClassName = _this$props.activeClassName,\n        $activeStyle = _this$props.activeStyle,\n        $innerRef = _this$props.innerRef,\n        partiallyActive = _this$props.partiallyActive,\n        state = _this$props.state,\n        replace = _this$props.replace,\n        _location = _this$props._location,\n        rest = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"to\", \"getProps\", \"onClick\", \"onMouseEnter\", \"activeClassName\", \"activeStyle\", \"innerRef\", \"partiallyActive\", \"state\", \"replace\", \"_location\"]);\n\n    if (process.env.NODE_ENV !== \"production\" && !isLocalLink(to)) {\n      console.warn(\"External link \" + to + \" was detected in a Link component. Use the Link component only for internal links. See: https://gatsby.dev/internal-links\");\n    }\n\n    var prefixedTo = rewriteLinkPath(to, _location.pathname);\n\n    if (!isLocalLink(prefixedTo)) {\n      return /*#__PURE__*/_react.default.createElement(\"a\", (0, _extends2.default)({\n        href: prefixedTo\n      }, rest));\n    }\n\n    return /*#__PURE__*/_react.default.createElement(_router.Link, (0, _extends2.default)({\n      to: prefixedTo,\n      state: state,\n      getProps: getProps,\n      innerRef: this.handleRef,\n      onMouseEnter: function onMouseEnter(e) {\n        if (_onMouseEnter) {\n          _onMouseEnter(e);\n        }\n\n        ___loader.hovering((0, _parsePath.parsePath)(prefixedTo).pathname);\n      },\n      onClick: function onClick(e) {\n        if (_onClick) {\n          _onClick(e);\n        }\n\n        if (e.button === 0 && // ignore right clicks\n        !_this3.props.target && // let browser handle \"target=_blank\"\n        !e.defaultPrevented && // onClick prevented default\n        !e.metaKey && // ignore clicks with modifier keys...\n        !e.altKey && !e.ctrlKey && !e.shiftKey) {\n          e.preventDefault();\n          var shouldReplace = replace;\n\n          var isCurrent = encodeURI(prefixedTo) === _location.pathname;\n\n          if (typeof replace !== \"boolean\" && isCurrent) {\n            shouldReplace = true;\n          } // Make sure the necessary scripts and data are\n          // loaded before continuing.\n\n\n          window.___navigate(prefixedTo, {\n            state: state,\n            replace: shouldReplace\n          });\n        }\n\n        return true;\n      }\n    }, rest));\n  };\n\n  return GatsbyLink;\n}(_react.default.Component);\n\nGatsbyLink.propTypes = (0, _extends2.default)({}, NavLinkPropTypes, {\n  onClick: _propTypes.default.func,\n  to: _propTypes.default.string.isRequired,\n  replace: _propTypes.default.bool,\n  state: _propTypes.default.object\n});\n\nvar showDeprecationWarning = function showDeprecationWarning(functionName, altFunctionName, version) {\n  return console.warn(\"The \\\"\" + functionName + \"\\\" method is now deprecated and will be removed in Gatsby v\" + version + \". Please use \\\"\" + altFunctionName + \"\\\" instead.\");\n};\n\nvar _default = /*#__PURE__*/_react.default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/_react.default.createElement(GatsbyLinkLocationWrapper, (0, _extends2.default)({\n    innerRef: ref\n  }, props));\n});\n\nexports.default = _default;\n\nvar navigate = function navigate(to, options) {\n  window.___navigate(rewriteLinkPath(to, window.location.pathname), options);\n};\n\nexports.navigate = navigate;\n\nvar push = function push(to) {\n  showDeprecationWarning(\"push\", \"navigate\", 3);\n\n  window.___push(rewriteLinkPath(to, window.location.pathname));\n};\n\nexports.push = push;\n\nvar replace = function replace(to) {\n  showDeprecationWarning(\"replace\", \"navigate\", 3);\n\n  window.___replace(rewriteLinkPath(to, window.location.pathname));\n}; // TODO: Remove navigateTo for Gatsby v3\n\n\nexports.replace = replace;\n\nvar navigateTo = function navigateTo(to) {\n  showDeprecationWarning(\"navigateTo\", \"navigate\", 3);\n  return push(to);\n};\n\nexports.navigateTo = navigateTo;","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","\"use strict\";\n\nexports.__esModule = true;\nexports.SessionStorage = void 0;\nvar STATE_KEY_PREFIX = \"@@scroll|\";\nvar GATSBY_ROUTER_SCROLL_STATE = \"___GATSBY_REACT_ROUTER_SCROLL\";\n\nvar SessionStorage = /*#__PURE__*/function () {\n  function SessionStorage() {}\n\n  var _proto = SessionStorage.prototype;\n\n  _proto.read = function read(location, key) {\n    var stateKey = this.getStateKey(location, key);\n\n    try {\n      var value = window.sessionStorage.getItem(stateKey);\n      return value ? JSON.parse(value) : 0;\n    } catch (e) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"[gatsby-react-router-scroll] Unable to access sessionStorage; sessionStorage is not available.\");\n      }\n\n      if (window && window[GATSBY_ROUTER_SCROLL_STATE] && window[GATSBY_ROUTER_SCROLL_STATE][stateKey]) {\n        return window[GATSBY_ROUTER_SCROLL_STATE][stateKey];\n      }\n\n      return 0;\n    }\n  };\n\n  _proto.save = function save(location, key, value) {\n    var stateKey = this.getStateKey(location, key);\n    var storedValue = JSON.stringify(value);\n\n    try {\n      window.sessionStorage.setItem(stateKey, storedValue);\n    } catch (e) {\n      if (window && window[GATSBY_ROUTER_SCROLL_STATE]) {\n        window[GATSBY_ROUTER_SCROLL_STATE][stateKey] = JSON.parse(storedValue);\n      } else {\n        window[GATSBY_ROUTER_SCROLL_STATE] = {};\n        window[GATSBY_ROUTER_SCROLL_STATE][stateKey] = JSON.parse(storedValue);\n      }\n\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"[gatsby-react-router-scroll] Unable to save state in sessionStorage; sessionStorage is not available.\");\n      }\n    }\n  };\n\n  _proto.getStateKey = function getStateKey(location, key) {\n    var stateKeyBase = \"\" + STATE_KEY_PREFIX + location.pathname;\n    return key === null || typeof key === \"undefined\" ? stateKeyBase : stateKeyBase + \"|\" + key;\n  };\n\n  return SessionStorage;\n}();\n\nexports.SessionStorage = SessionStorage;","module.exports = {};\n","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\nvar document = require('global/document');\n\nvar _objCreate = Object.create || function () {\n  function F() {}\n\n  return function (o) {\n    if (arguments.length !== 1) {\n      throw new Error('Object.create shim only accepts one parameter.');\n    }\n\n    F.prototype = o;\n    return new F();\n  };\n}(); // Creates a new ParserError object from an errorData object. The errorData\n// object should have default code and message properties. The default message\n// property can be overriden by passing in a message parameter.\n// See ParsingError.Errors below for acceptable errors.\n\n\nfunction ParsingError(errorData, message) {\n  this.name = \"ParsingError\";\n  this.code = errorData.code;\n  this.message = message || errorData.message;\n}\n\nParsingError.prototype = _objCreate(Error.prototype);\nParsingError.prototype.constructor = ParsingError; // ParsingError metadata for acceptable ParsingErrors.\n\nParsingError.Errors = {\n  BadSignature: {\n    code: 0,\n    message: \"Malformed WebVTT signature.\"\n  },\n  BadTimeStamp: {\n    code: 1,\n    message: \"Malformed time stamp.\"\n  }\n}; // Try to parse input as a time stamp.\n\nfunction parseTimeStamp(input) {\n  function computeSeconds(h, m, s, f) {\n    return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n  }\n\n  var m = input.match(/^(\\d+):(\\d{1,2})(:\\d{1,2})?\\.(\\d{3})/);\n\n  if (!m) {\n    return null;\n  }\n\n  if (m[3]) {\n    // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n    return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n  } else if (m[1] > 59) {\n    // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n    // First position is hours as it's over 59.\n    return computeSeconds(m[1], m[2], 0, m[4]);\n  } else {\n    // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n    return computeSeconds(0, m[1], m[2], m[4]);\n  }\n} // A settings object holds key/value pairs and will ignore anything but the first\n// assignment to a specific key.\n\n\nfunction Settings() {\n  this.values = _objCreate(null);\n}\n\nSettings.prototype = {\n  // Only accept the first assignment to any key.\n  set: function set(k, v) {\n    if (!this.get(k) && v !== \"\") {\n      this.values[k] = v;\n    }\n  },\n  // Return the value for a key, or a default value.\n  // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n  // a number of possible default values as properties where 'defaultKey' is\n  // the key of the property that will be chosen; otherwise it's assumed to be\n  // a single value.\n  get: function get(k, dflt, defaultKey) {\n    if (defaultKey) {\n      return this.has(k) ? this.values[k] : dflt[defaultKey];\n    }\n\n    return this.has(k) ? this.values[k] : dflt;\n  },\n  // Check whether we have a value for a key.\n  has: function has(k) {\n    return k in this.values;\n  },\n  // Accept a setting if its one of the given alternatives.\n  alt: function alt(k, v, a) {\n    for (var n = 0; n < a.length; ++n) {\n      if (v === a[n]) {\n        this.set(k, v);\n        break;\n      }\n    }\n  },\n  // Accept a setting if its a valid (signed) integer.\n  integer: function integer(k, v) {\n    if (/^-?\\d+$/.test(v)) {\n      // integer\n      this.set(k, parseInt(v, 10));\n    }\n  },\n  // Accept a setting if its a valid percentage.\n  percent: function percent(k, v) {\n    var m;\n\n    if (m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)) {\n      v = parseFloat(v);\n\n      if (v >= 0 && v <= 100) {\n        this.set(k, v);\n        return true;\n      }\n    }\n\n    return false;\n  }\n}; // Helper function to parse input into groups separated by 'groupDelim', and\n// interprete each group as a key/value pair separated by 'keyValueDelim'.\n\nfunction parseOptions(input, callback, keyValueDelim, groupDelim) {\n  var groups = groupDelim ? input.split(groupDelim) : [input];\n\n  for (var i in groups) {\n    if (typeof groups[i] !== \"string\") {\n      continue;\n    }\n\n    var kv = groups[i].split(keyValueDelim);\n\n    if (kv.length !== 2) {\n      continue;\n    }\n\n    var k = kv[0];\n    var v = kv[1];\n    callback(k, v);\n  }\n}\n\nfunction parseCue(input, cue, regionList) {\n  // Remember the original input if we need to throw an error.\n  var oInput = input; // 4.1 WebVTT timestamp\n\n  function consumeTimeStamp() {\n    var ts = parseTimeStamp(input);\n\n    if (ts === null) {\n      throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed timestamp: \" + oInput);\n    } // Remove time stamp from input.\n\n\n    input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n    return ts;\n  } // 4.4.2 WebVTT cue settings\n\n\n  function consumeCueSettings(input, cue) {\n    var settings = new Settings();\n    parseOptions(input, function (k, v) {\n      switch (k) {\n        case \"region\":\n          // Find the last region we parsed with the same region id.\n          for (var i = regionList.length - 1; i >= 0; i--) {\n            if (regionList[i].id === v) {\n              settings.set(k, regionList[i].region);\n              break;\n            }\n          }\n\n          break;\n\n        case \"vertical\":\n          settings.alt(k, v, [\"rl\", \"lr\"]);\n          break;\n\n        case \"line\":\n          var vals = v.split(\",\"),\n              vals0 = vals[0];\n          settings.integer(k, vals0);\n          settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n          settings.alt(k, vals0, [\"auto\"]);\n\n          if (vals.length === 2) {\n            settings.alt(\"lineAlign\", vals[1], [\"start\", \"center\", \"end\"]);\n          }\n\n          break;\n\n        case \"position\":\n          vals = v.split(\",\");\n          settings.percent(k, vals[0]);\n\n          if (vals.length === 2) {\n            settings.alt(\"positionAlign\", vals[1], [\"start\", \"center\", \"end\"]);\n          }\n\n          break;\n\n        case \"size\":\n          settings.percent(k, v);\n          break;\n\n        case \"align\":\n          settings.alt(k, v, [\"start\", \"center\", \"end\", \"left\", \"right\"]);\n          break;\n      }\n    }, /:/, /\\s/); // Apply default values for any missing fields.\n\n    cue.region = settings.get(\"region\", null);\n    cue.vertical = settings.get(\"vertical\", \"\");\n\n    try {\n      cue.line = settings.get(\"line\", \"auto\");\n    } catch (e) {}\n\n    cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n    cue.snapToLines = settings.get(\"snapToLines\", true);\n    cue.size = settings.get(\"size\", 100); // Safari still uses the old middle value and won't accept center\n\n    try {\n      cue.align = settings.get(\"align\", \"center\");\n    } catch (e) {\n      cue.align = settings.get(\"align\", \"middle\");\n    }\n\n    try {\n      cue.position = settings.get(\"position\", \"auto\");\n    } catch (e) {\n      cue.position = settings.get(\"position\", {\n        start: 0,\n        left: 0,\n        center: 50,\n        middle: 50,\n        end: 100,\n        right: 100\n      }, cue.align);\n    }\n\n    cue.positionAlign = settings.get(\"positionAlign\", {\n      start: \"start\",\n      left: \"start\",\n      center: \"center\",\n      middle: \"center\",\n      end: \"end\",\n      right: \"end\"\n    }, cue.align);\n  }\n\n  function skipWhitespace() {\n    input = input.replace(/^\\s+/, \"\");\n  } // 4.1 WebVTT cue timings.\n\n\n  skipWhitespace();\n  cue.startTime = consumeTimeStamp(); // (1) collect cue start time\n\n  skipWhitespace();\n\n  if (input.substr(0, 3) !== \"-->\") {\n    // (3) next characters must match \"-->\"\n    throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed time stamp (time stamps must be separated by '-->'): \" + oInput);\n  }\n\n  input = input.substr(3);\n  skipWhitespace();\n  cue.endTime = consumeTimeStamp(); // (5) collect cue end time\n  // 4.1 WebVTT cue settings list.\n\n  skipWhitespace();\n  consumeCueSettings(input, cue);\n}\n\nvar TEXTAREA_ELEMENT = document.createElement(\"textarea\");\nvar TAG_NAME = {\n  c: \"span\",\n  i: \"i\",\n  b: \"b\",\n  u: \"u\",\n  ruby: \"ruby\",\n  rt: \"rt\",\n  v: \"span\",\n  lang: \"span\"\n}; // 5.1 default text color\n// 5.2 default text background color is equivalent to text color with bg_ prefix\n\nvar DEFAULT_COLOR_CLASS = {\n  white: 'rgba(255,255,255,1)',\n  lime: 'rgba(0,255,0,1)',\n  cyan: 'rgba(0,255,255,1)',\n  red: 'rgba(255,0,0,1)',\n  yellow: 'rgba(255,255,0,1)',\n  magenta: 'rgba(255,0,255,1)',\n  blue: 'rgba(0,0,255,1)',\n  black: 'rgba(0,0,0,1)'\n};\nvar TAG_ANNOTATION = {\n  v: \"title\",\n  lang: \"lang\"\n};\nvar NEEDS_PARENT = {\n  rt: \"ruby\"\n}; // Parse content into a document fragment.\n\nfunction parseContent(window, input) {\n  function nextToken() {\n    // Check for end-of-string.\n    if (!input) {\n      return null;\n    } // Consume 'n' characters from the input.\n\n\n    function consume(result) {\n      input = input.substr(result.length);\n      return result;\n    }\n\n    var m = input.match(/^([^<]*)(<[^>]*>?)?/); // If there is some text before the next tag, return it, otherwise return\n    // the tag.\n\n    return consume(m[1] ? m[1] : m[2]);\n  }\n\n  function unescape(s) {\n    TEXTAREA_ELEMENT.innerHTML = s;\n    s = TEXTAREA_ELEMENT.textContent;\n    TEXTAREA_ELEMENT.textContent = \"\";\n    return s;\n  }\n\n  function shouldAdd(current, element) {\n    return !NEEDS_PARENT[element.localName] || NEEDS_PARENT[element.localName] === current.localName;\n  } // Create an element for this tag.\n\n\n  function createElement(type, annotation) {\n    var tagName = TAG_NAME[type];\n\n    if (!tagName) {\n      return null;\n    }\n\n    var element = window.document.createElement(tagName);\n    var name = TAG_ANNOTATION[type];\n\n    if (name && annotation) {\n      element[name] = annotation.trim();\n    }\n\n    return element;\n  }\n\n  var rootDiv = window.document.createElement(\"div\"),\n      current = rootDiv,\n      t,\n      tagStack = [];\n\n  while ((t = nextToken()) !== null) {\n    if (t[0] === '<') {\n      if (t[1] === \"/\") {\n        // If the closing tag matches, move back up to the parent node.\n        if (tagStack.length && tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n          tagStack.pop();\n          current = current.parentNode;\n        } // Otherwise just ignore the end tag.\n\n\n        continue;\n      }\n\n      var ts = parseTimeStamp(t.substr(1, t.length - 2));\n      var node;\n\n      if (ts) {\n        // Timestamps are lead nodes as well.\n        node = window.document.createProcessingInstruction(\"timestamp\", ts);\n        current.appendChild(node);\n        continue;\n      }\n\n      var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/); // If we can't parse the tag, skip to the next tag.\n\n      if (!m) {\n        continue;\n      } // Try to construct an element, and ignore the tag if we couldn't.\n\n\n      node = createElement(m[1], m[3]);\n\n      if (!node) {\n        continue;\n      } // Determine if the tag should be added based on the context of where it\n      // is placed in the cuetext.\n\n\n      if (!shouldAdd(current, node)) {\n        continue;\n      } // Set the class list (as a list of classes, separated by space).\n\n\n      if (m[2]) {\n        var classes = m[2].split('.');\n        classes.forEach(function (cl) {\n          var bgColor = /^bg_/.test(cl); // slice out `bg_` if it's a background color\n\n          var colorName = bgColor ? cl.slice(3) : cl;\n\n          if (DEFAULT_COLOR_CLASS.hasOwnProperty(colorName)) {\n            var propName = bgColor ? 'background-color' : 'color';\n            var propValue = DEFAULT_COLOR_CLASS[colorName];\n            node.style[propName] = propValue;\n          }\n        });\n        node.className = classes.join(' ');\n      } // Append the node to the current node, and enter the scope of the new\n      // node.\n\n\n      tagStack.push(m[1]);\n      current.appendChild(node);\n      current = node;\n      continue;\n    } // Text nodes are leaf nodes.\n\n\n    current.appendChild(window.document.createTextNode(unescape(t)));\n  }\n\n  return rootDiv;\n} // This is a list of all the Unicode characters that have a strong\n// right-to-left category. What this means is that these characters are\n// written right-to-left for sure. It was generated by pulling all the strong\n// right-to-left characters out of the Unicode data table. That table can\n// found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n\n\nvar strongRTLRanges = [[0x5be, 0x5be], [0x5c0, 0x5c0], [0x5c3, 0x5c3], [0x5c6, 0x5c6], [0x5d0, 0x5ea], [0x5f0, 0x5f4], [0x608, 0x608], [0x60b, 0x60b], [0x60d, 0x60d], [0x61b, 0x61b], [0x61e, 0x64a], [0x66d, 0x66f], [0x671, 0x6d5], [0x6e5, 0x6e6], [0x6ee, 0x6ef], [0x6fa, 0x70d], [0x70f, 0x710], [0x712, 0x72f], [0x74d, 0x7a5], [0x7b1, 0x7b1], [0x7c0, 0x7ea], [0x7f4, 0x7f5], [0x7fa, 0x7fa], [0x800, 0x815], [0x81a, 0x81a], [0x824, 0x824], [0x828, 0x828], [0x830, 0x83e], [0x840, 0x858], [0x85e, 0x85e], [0x8a0, 0x8a0], [0x8a2, 0x8ac], [0x200f, 0x200f], [0xfb1d, 0xfb1d], [0xfb1f, 0xfb28], [0xfb2a, 0xfb36], [0xfb38, 0xfb3c], [0xfb3e, 0xfb3e], [0xfb40, 0xfb41], [0xfb43, 0xfb44], [0xfb46, 0xfbc1], [0xfbd3, 0xfd3d], [0xfd50, 0xfd8f], [0xfd92, 0xfdc7], [0xfdf0, 0xfdfc], [0xfe70, 0xfe74], [0xfe76, 0xfefc], [0x10800, 0x10805], [0x10808, 0x10808], [0x1080a, 0x10835], [0x10837, 0x10838], [0x1083c, 0x1083c], [0x1083f, 0x10855], [0x10857, 0x1085f], [0x10900, 0x1091b], [0x10920, 0x10939], [0x1093f, 0x1093f], [0x10980, 0x109b7], [0x109be, 0x109bf], [0x10a00, 0x10a00], [0x10a10, 0x10a13], [0x10a15, 0x10a17], [0x10a19, 0x10a33], [0x10a40, 0x10a47], [0x10a50, 0x10a58], [0x10a60, 0x10a7f], [0x10b00, 0x10b35], [0x10b40, 0x10b55], [0x10b58, 0x10b72], [0x10b78, 0x10b7f], [0x10c00, 0x10c48], [0x1ee00, 0x1ee03], [0x1ee05, 0x1ee1f], [0x1ee21, 0x1ee22], [0x1ee24, 0x1ee24], [0x1ee27, 0x1ee27], [0x1ee29, 0x1ee32], [0x1ee34, 0x1ee37], [0x1ee39, 0x1ee39], [0x1ee3b, 0x1ee3b], [0x1ee42, 0x1ee42], [0x1ee47, 0x1ee47], [0x1ee49, 0x1ee49], [0x1ee4b, 0x1ee4b], [0x1ee4d, 0x1ee4f], [0x1ee51, 0x1ee52], [0x1ee54, 0x1ee54], [0x1ee57, 0x1ee57], [0x1ee59, 0x1ee59], [0x1ee5b, 0x1ee5b], [0x1ee5d, 0x1ee5d], [0x1ee5f, 0x1ee5f], [0x1ee61, 0x1ee62], [0x1ee64, 0x1ee64], [0x1ee67, 0x1ee6a], [0x1ee6c, 0x1ee72], [0x1ee74, 0x1ee77], [0x1ee79, 0x1ee7c], [0x1ee7e, 0x1ee7e], [0x1ee80, 0x1ee89], [0x1ee8b, 0x1ee9b], [0x1eea1, 0x1eea3], [0x1eea5, 0x1eea9], [0x1eeab, 0x1eebb], [0x10fffd, 0x10fffd]];\n\nfunction isStrongRTLChar(charCode) {\n  for (var i = 0; i < strongRTLRanges.length; i++) {\n    var currentRange = strongRTLRanges[i];\n\n    if (charCode >= currentRange[0] && charCode <= currentRange[1]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction determineBidi(cueDiv) {\n  var nodeStack = [],\n      text = \"\",\n      charCode;\n\n  if (!cueDiv || !cueDiv.childNodes) {\n    return \"ltr\";\n  }\n\n  function pushNodes(nodeStack, node) {\n    for (var i = node.childNodes.length - 1; i >= 0; i--) {\n      nodeStack.push(node.childNodes[i]);\n    }\n  }\n\n  function nextTextNode(nodeStack) {\n    if (!nodeStack || !nodeStack.length) {\n      return null;\n    }\n\n    var node = nodeStack.pop(),\n        text = node.textContent || node.innerText;\n\n    if (text) {\n      // TODO: This should match all unicode type B characters (paragraph\n      // separator characters). See issue #115.\n      var m = text.match(/^.*(\\n|\\r)/);\n\n      if (m) {\n        nodeStack.length = 0;\n        return m[0];\n      }\n\n      return text;\n    }\n\n    if (node.tagName === \"ruby\") {\n      return nextTextNode(nodeStack);\n    }\n\n    if (node.childNodes) {\n      pushNodes(nodeStack, node);\n      return nextTextNode(nodeStack);\n    }\n  }\n\n  pushNodes(nodeStack, cueDiv);\n\n  while (text = nextTextNode(nodeStack)) {\n    for (var i = 0; i < text.length; i++) {\n      charCode = text.charCodeAt(i);\n\n      if (isStrongRTLChar(charCode)) {\n        return \"rtl\";\n      }\n    }\n  }\n\n  return \"ltr\";\n}\n\nfunction computeLinePos(cue) {\n  if (typeof cue.line === \"number\" && (cue.snapToLines || cue.line >= 0 && cue.line <= 100)) {\n    return cue.line;\n  }\n\n  if (!cue.track || !cue.track.textTrackList || !cue.track.textTrackList.mediaElement) {\n    return -1;\n  }\n\n  var track = cue.track,\n      trackList = track.textTrackList,\n      count = 0;\n\n  for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n    if (trackList[i].mode === \"showing\") {\n      count++;\n    }\n  }\n\n  return ++count * -1;\n}\n\nfunction StyleBox() {} // Apply styles to a div. If there is no div passed then it defaults to the\n// div on 'this'.\n\n\nStyleBox.prototype.applyStyles = function (styles, div) {\n  div = div || this.div;\n\n  for (var prop in styles) {\n    if (styles.hasOwnProperty(prop)) {\n      div.style[prop] = styles[prop];\n    }\n  }\n};\n\nStyleBox.prototype.formatStyle = function (val, unit) {\n  return val === 0 ? 0 : val + unit;\n}; // Constructs the computed display state of the cue (a div). Places the div\n// into the overlay which should be a block level element (usually a div).\n\n\nfunction CueStyleBox(window, cue, styleOptions) {\n  StyleBox.call(this);\n  this.cue = cue; // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n  // have inline positioning and will function as the cue background box.\n\n  this.cueDiv = parseContent(window, cue.text);\n  var styles = {\n    color: \"rgba(255, 255, 255, 1)\",\n    backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n    position: \"relative\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    display: \"inline\",\n    writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n    unicodeBidi: \"plaintext\"\n  };\n  this.applyStyles(styles, this.cueDiv); // Create an absolutely positioned div that will be used to position the cue\n  // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n  // mirrors of them except middle instead of center on Safari.\n\n  this.div = window.document.createElement(\"div\");\n  styles = {\n    direction: determineBidi(this.cueDiv),\n    writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n    unicodeBidi: \"plaintext\",\n    textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n    font: styleOptions.font,\n    whiteSpace: \"pre-line\",\n    position: \"absolute\"\n  };\n  this.applyStyles(styles);\n  this.div.appendChild(this.cueDiv); // Calculate the distance from the reference edge of the viewport to the text\n  // position of the cue box. The reference edge will be resolved later when\n  // the box orientation styles are applied.\n\n  var textPos = 0;\n\n  switch (cue.positionAlign) {\n    case \"start\":\n      textPos = cue.position;\n      break;\n\n    case \"center\":\n      textPos = cue.position - cue.size / 2;\n      break;\n\n    case \"end\":\n      textPos = cue.position - cue.size;\n      break;\n  } // Horizontal box orientation; textPos is the distance from the left edge of the\n  // area to the left edge of the box and cue.size is the distance extending to\n  // the right from there.\n\n\n  if (cue.vertical === \"\") {\n    this.applyStyles({\n      left: this.formatStyle(textPos, \"%\"),\n      width: this.formatStyle(cue.size, \"%\")\n    }); // Vertical box orientation; textPos is the distance from the top edge of the\n    // area to the top edge of the box and cue.size is the height extending\n    // downwards from there.\n  } else {\n    this.applyStyles({\n      top: this.formatStyle(textPos, \"%\"),\n      height: this.formatStyle(cue.size, \"%\")\n    });\n  }\n\n  this.move = function (box) {\n    this.applyStyles({\n      top: this.formatStyle(box.top, \"px\"),\n      bottom: this.formatStyle(box.bottom, \"px\"),\n      left: this.formatStyle(box.left, \"px\"),\n      right: this.formatStyle(box.right, \"px\"),\n      height: this.formatStyle(box.height, \"px\"),\n      width: this.formatStyle(box.width, \"px\")\n    });\n  };\n}\n\nCueStyleBox.prototype = _objCreate(StyleBox.prototype);\nCueStyleBox.prototype.constructor = CueStyleBox; // Represents the co-ordinates of an Element in a way that we can easily\n// compute things with such as if it overlaps or intersects with another Element.\n// Can initialize it with either a StyleBox or another BoxPosition.\n\nfunction BoxPosition(obj) {\n  // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n  // was passed in and we need to copy the results of 'getBoundingClientRect'\n  // as the object returned is readonly. All co-ordinate values are in reference\n  // to the viewport origin (top left).\n  var lh, height, width, top;\n\n  if (obj.div) {\n    height = obj.div.offsetHeight;\n    width = obj.div.offsetWidth;\n    top = obj.div.offsetTop;\n    var rects = (rects = obj.div.childNodes) && (rects = rects[0]) && rects.getClientRects && rects.getClientRects();\n    obj = obj.div.getBoundingClientRect(); // In certain cases the outter div will be slightly larger then the sum of\n    // the inner div's lines. This could be due to bold text, etc, on some platforms.\n    // In this case we should get the average line height and use that. This will\n    // result in the desired behaviour.\n\n    lh = rects ? Math.max(rects[0] && rects[0].height || 0, obj.height / rects.length) : 0;\n  }\n\n  this.left = obj.left;\n  this.right = obj.right;\n  this.top = obj.top || top;\n  this.height = obj.height || height;\n  this.bottom = obj.bottom || top + (obj.height || height);\n  this.width = obj.width || width;\n  this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n} // Move the box along a particular axis. Optionally pass in an amount to move\n// the box. If no amount is passed then the default is the line height of the\n// box.\n\n\nBoxPosition.prototype.move = function (axis, toMove) {\n  toMove = toMove !== undefined ? toMove : this.lineHeight;\n\n  switch (axis) {\n    case \"+x\":\n      this.left += toMove;\n      this.right += toMove;\n      break;\n\n    case \"-x\":\n      this.left -= toMove;\n      this.right -= toMove;\n      break;\n\n    case \"+y\":\n      this.top += toMove;\n      this.bottom += toMove;\n      break;\n\n    case \"-y\":\n      this.top -= toMove;\n      this.bottom -= toMove;\n      break;\n  }\n}; // Check if this box overlaps another box, b2.\n\n\nBoxPosition.prototype.overlaps = function (b2) {\n  return this.left < b2.right && this.right > b2.left && this.top < b2.bottom && this.bottom > b2.top;\n}; // Check if this box overlaps any other boxes in boxes.\n\n\nBoxPosition.prototype.overlapsAny = function (boxes) {\n  for (var i = 0; i < boxes.length; i++) {\n    if (this.overlaps(boxes[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}; // Check if this box is within another box.\n\n\nBoxPosition.prototype.within = function (container) {\n  return this.top >= container.top && this.bottom <= container.bottom && this.left >= container.left && this.right <= container.right;\n}; // Check if this box is entirely within the container or it is overlapping\n// on the edge opposite of the axis direction passed. For example, if \"+x\" is\n// passed and the box is overlapping on the left edge of the container, then\n// return true.\n\n\nBoxPosition.prototype.overlapsOppositeAxis = function (container, axis) {\n  switch (axis) {\n    case \"+x\":\n      return this.left < container.left;\n\n    case \"-x\":\n      return this.right > container.right;\n\n    case \"+y\":\n      return this.top < container.top;\n\n    case \"-y\":\n      return this.bottom > container.bottom;\n  }\n}; // Find the percentage of the area that this box is overlapping with another\n// box.\n\n\nBoxPosition.prototype.intersectPercentage = function (b2) {\n  var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n      y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n      intersectArea = x * y;\n  return intersectArea / (this.height * this.width);\n}; // Convert the positions from this box to CSS compatible positions using\n// the reference container's positions. This has to be done because this\n// box's positions are in reference to the viewport origin, whereas, CSS\n// values are in referecne to their respective edges.\n\n\nBoxPosition.prototype.toCSSCompatValues = function (reference) {\n  return {\n    top: this.top - reference.top,\n    bottom: reference.bottom - this.bottom,\n    left: this.left - reference.left,\n    right: reference.right - this.right,\n    height: this.height,\n    width: this.width\n  };\n}; // Get an object that represents the box's position without anything extra.\n// Can pass a StyleBox, HTMLElement, or another BoxPositon.\n\n\nBoxPosition.getSimpleBoxPosition = function (obj) {\n  var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n  var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n  var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n  obj = obj.div ? obj.div.getBoundingClientRect() : obj.tagName ? obj.getBoundingClientRect() : obj;\n  var ret = {\n    left: obj.left,\n    right: obj.right,\n    top: obj.top || top,\n    height: obj.height || height,\n    bottom: obj.bottom || top + (obj.height || height),\n    width: obj.width || width\n  };\n  return ret;\n}; // Move a StyleBox to its specified, or next best, position. The containerBox\n// is the box that contains the StyleBox, such as a div. boxPositions are\n// a list of other boxes that the styleBox can't overlap with.\n\n\nfunction moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n  // Find the best position for a cue box, b, on the video. The axis parameter\n  // is a list of axis, the order of which, it will move the box along. For example:\n  // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n  // direction. If it doesn't find a good position for it there it will then move\n  // it along the x axis in the negative direction.\n  function findBestPosition(b, axis) {\n    var bestPosition,\n        specifiedPosition = new BoxPosition(b),\n        percentage = 1; // Highest possible so the first thing we get is better.\n\n    for (var i = 0; i < axis.length; i++) {\n      while (b.overlapsOppositeAxis(containerBox, axis[i]) || b.within(containerBox) && b.overlapsAny(boxPositions)) {\n        b.move(axis[i]);\n      } // We found a spot where we aren't overlapping anything. This is our\n      // best position.\n\n\n      if (b.within(containerBox)) {\n        return b;\n      }\n\n      var p = b.intersectPercentage(containerBox); // If we're outside the container box less then we were on our last try\n      // then remember this position as the best position.\n\n      if (percentage > p) {\n        bestPosition = new BoxPosition(b);\n        percentage = p;\n      } // Reset the box position to the specified position.\n\n\n      b = new BoxPosition(specifiedPosition);\n    }\n\n    return bestPosition || specifiedPosition;\n  }\n\n  var boxPosition = new BoxPosition(styleBox),\n      cue = styleBox.cue,\n      linePos = computeLinePos(cue),\n      axis = []; // If we have a line number to align the cue to.\n\n  if (cue.snapToLines) {\n    var size;\n\n    switch (cue.vertical) {\n      case \"\":\n        axis = [\"+y\", \"-y\"];\n        size = \"height\";\n        break;\n\n      case \"rl\":\n        axis = [\"+x\", \"-x\"];\n        size = \"width\";\n        break;\n\n      case \"lr\":\n        axis = [\"-x\", \"+x\"];\n        size = \"width\";\n        break;\n    }\n\n    var step = boxPosition.lineHeight,\n        position = step * Math.round(linePos),\n        maxPosition = containerBox[size] + step,\n        initialAxis = axis[0]; // If the specified intial position is greater then the max position then\n    // clamp the box to the amount of steps it would take for the box to\n    // reach the max position.\n\n    if (Math.abs(position) > maxPosition) {\n      position = position < 0 ? -1 : 1;\n      position *= Math.ceil(maxPosition / step) * step;\n    } // If computed line position returns negative then line numbers are\n    // relative to the bottom of the video instead of the top. Therefore, we\n    // need to increase our initial position by the length or width of the\n    // video, depending on the writing direction, and reverse our axis directions.\n\n\n    if (linePos < 0) {\n      position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n      axis = axis.reverse();\n    } // Move the box to the specified position. This may not be its best\n    // position.\n\n\n    boxPosition.move(initialAxis, position);\n  } else {\n    // If we have a percentage line value for the cue.\n    var calculatedPercentage = boxPosition.lineHeight / containerBox.height * 100;\n\n    switch (cue.lineAlign) {\n      case \"center\":\n        linePos -= calculatedPercentage / 2;\n        break;\n\n      case \"end\":\n        linePos -= calculatedPercentage;\n        break;\n    } // Apply initial line position to the cue box.\n\n\n    switch (cue.vertical) {\n      case \"\":\n        styleBox.applyStyles({\n          top: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n\n      case \"rl\":\n        styleBox.applyStyles({\n          left: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n\n      case \"lr\":\n        styleBox.applyStyles({\n          right: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n    }\n\n    axis = [\"+y\", \"-x\", \"+x\", \"-y\"]; // Get the box position again after we've applied the specified positioning\n    // to it.\n\n    boxPosition = new BoxPosition(styleBox);\n  }\n\n  var bestPosition = findBestPosition(boxPosition, axis);\n  styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n}\n\nfunction WebVTT() {// Nothing\n} // Helper to allow strings to be decoded instead of the default binary utf8 data.\n\n\nWebVTT.StringDecoder = function () {\n  return {\n    decode: function decode(data) {\n      if (!data) {\n        return \"\";\n      }\n\n      if (typeof data !== \"string\") {\n        throw new Error(\"Error - expected string data.\");\n      }\n\n      return decodeURIComponent(encodeURIComponent(data));\n    }\n  };\n};\n\nWebVTT.convertCueToDOMTree = function (window, cuetext) {\n  if (!window || !cuetext) {\n    return null;\n  }\n\n  return parseContent(window, cuetext);\n};\n\nvar FONT_SIZE_PERCENT = 0.05;\nvar FONT_STYLE = \"sans-serif\";\nvar CUE_BACKGROUND_PADDING = \"1.5%\"; // Runs the processing model over the cues and regions passed to it.\n// @param overlay A block level element (usually a div) that the computed cues\n//                and regions will be placed into.\n\nWebVTT.processCues = function (window, cues, overlay) {\n  if (!window || !cues || !overlay) {\n    return null;\n  } // Remove all previous children.\n\n\n  while (overlay.firstChild) {\n    overlay.removeChild(overlay.firstChild);\n  }\n\n  var paddedOverlay = window.document.createElement(\"div\");\n  paddedOverlay.style.position = \"absolute\";\n  paddedOverlay.style.left = \"0\";\n  paddedOverlay.style.right = \"0\";\n  paddedOverlay.style.top = \"0\";\n  paddedOverlay.style.bottom = \"0\";\n  paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n  overlay.appendChild(paddedOverlay); // Determine if we need to compute the display states of the cues. This could\n  // be the case if a cue's state has been changed since the last computation or\n  // if it has not been computed yet.\n\n  function shouldCompute(cues) {\n    for (var i = 0; i < cues.length; i++) {\n      if (cues[i].hasBeenReset || !cues[i].displayState) {\n        return true;\n      }\n    }\n\n    return false;\n  } // We don't need to recompute the cues' display states. Just reuse them.\n\n\n  if (!shouldCompute(cues)) {\n    for (var i = 0; i < cues.length; i++) {\n      paddedOverlay.appendChild(cues[i].displayState);\n    }\n\n    return;\n  }\n\n  var boxPositions = [],\n      containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n      fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n  var styleOptions = {\n    font: fontSize + \"px \" + FONT_STYLE\n  };\n\n  (function () {\n    var styleBox, cue;\n\n    for (var i = 0; i < cues.length; i++) {\n      cue = cues[i]; // Compute the intial position and styles of the cue div.\n\n      styleBox = new CueStyleBox(window, cue, styleOptions);\n      paddedOverlay.appendChild(styleBox.div); // Move the cue div to it's correct line position.\n\n      moveBoxToLinePosition(window, styleBox, containerBox, boxPositions); // Remember the computed div so that we don't have to recompute it later\n      // if we don't have too.\n\n      cue.displayState = styleBox.div;\n      boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n    }\n  })();\n};\n\nWebVTT.Parser = function (window, vttjs, decoder) {\n  if (!decoder) {\n    decoder = vttjs;\n    vttjs = {};\n  }\n\n  if (!vttjs) {\n    vttjs = {};\n  }\n\n  this.window = window;\n  this.vttjs = vttjs;\n  this.state = \"INITIAL\";\n  this.buffer = \"\";\n  this.decoder = decoder || new TextDecoder(\"utf8\");\n  this.regionList = [];\n};\n\nWebVTT.Parser.prototype = {\n  // If the error is a ParsingError then report it to the consumer if\n  // possible. If it's not a ParsingError then throw it like normal.\n  reportOrThrowError: function reportOrThrowError(e) {\n    if (e instanceof ParsingError) {\n      this.onparsingerror && this.onparsingerror(e);\n    } else {\n      throw e;\n    }\n  },\n  parse: function parse(data) {\n    var self = this; // If there is no data then we won't decode it, but will just try to parse\n    // whatever is in buffer already. This may occur in circumstances, for\n    // example when flush() is called.\n\n    if (data) {\n      // Try to decode the data that we received.\n      self.buffer += self.decoder.decode(data, {\n        stream: true\n      });\n    }\n\n    function collectNextLine() {\n      var buffer = self.buffer;\n      var pos = 0;\n\n      while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n        ++pos;\n      }\n\n      var line = buffer.substr(0, pos); // Advance the buffer early in case we fail below.\n\n      if (buffer[pos] === '\\r') {\n        ++pos;\n      }\n\n      if (buffer[pos] === '\\n') {\n        ++pos;\n      }\n\n      self.buffer = buffer.substr(pos);\n      return line;\n    } // 3.4 WebVTT region and WebVTT region settings syntax\n\n\n    function parseRegion(input) {\n      var settings = new Settings();\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"id\":\n            settings.set(k, v);\n            break;\n\n          case \"width\":\n            settings.percent(k, v);\n            break;\n\n          case \"lines\":\n            settings.integer(k, v);\n            break;\n\n          case \"regionanchor\":\n          case \"viewportanchor\":\n            var xy = v.split(',');\n\n            if (xy.length !== 2) {\n              break;\n            } // We have to make sure both x and y parse, so use a temporary\n            // settings object here.\n\n\n            var anchor = new Settings();\n            anchor.percent(\"x\", xy[0]);\n            anchor.percent(\"y\", xy[1]);\n\n            if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n              break;\n            }\n\n            settings.set(k + \"X\", anchor.get(\"x\"));\n            settings.set(k + \"Y\", anchor.get(\"y\"));\n            break;\n\n          case \"scroll\":\n            settings.alt(k, v, [\"up\"]);\n            break;\n        }\n      }, /=/, /\\s/); // Create the region, using default values for any values that were not\n      // specified.\n\n      if (settings.has(\"id\")) {\n        var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n        region.width = settings.get(\"width\", 100);\n        region.lines = settings.get(\"lines\", 3);\n        region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n        region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n        region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n        region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n        region.scroll = settings.get(\"scroll\", \"\"); // Register the region.\n\n        self.onregion && self.onregion(region); // Remember the VTTRegion for later in case we parse any VTTCues that\n        // reference it.\n\n        self.regionList.push({\n          id: settings.get(\"id\"),\n          region: region\n        });\n      }\n    } // draft-pantos-http-live-streaming-20\n    // https://tools.ietf.org/html/draft-pantos-http-live-streaming-20#section-3.5\n    // 3.5 WebVTT\n\n\n    function parseTimestampMap(input) {\n      var settings = new Settings();\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"MPEGT\":\n            settings.integer(k + 'S', v);\n            break;\n\n          case \"LOCA\":\n            settings.set(k + 'L', parseTimeStamp(v));\n            break;\n        }\n      }, /[^\\d]:/, /,/);\n      self.ontimestampmap && self.ontimestampmap({\n        \"MPEGTS\": settings.get(\"MPEGTS\"),\n        \"LOCAL\": settings.get(\"LOCAL\")\n      });\n    } // 3.2 WebVTT metadata header syntax\n\n\n    function parseHeader(input) {\n      if (input.match(/X-TIMESTAMP-MAP/)) {\n        // This line contains HLS X-TIMESTAMP-MAP metadata\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"X-TIMESTAMP-MAP\":\n              parseTimestampMap(v);\n              break;\n          }\n        }, /=/);\n      } else {\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"Region\":\n              // 3.3 WebVTT region metadata header syntax\n              parseRegion(v);\n              break;\n          }\n        }, /:/);\n      }\n    } // 5.1 WebVTT file parsing.\n\n\n    try {\n      var line;\n\n      if (self.state === \"INITIAL\") {\n        // We can't start parsing until we have the first line.\n        if (!/\\r\\n|\\n/.test(self.buffer)) {\n          return this;\n        }\n\n        line = collectNextLine();\n        var m = line.match(/^WEBVTT([ \\t].*)?$/);\n\n        if (!m || !m[0]) {\n          throw new ParsingError(ParsingError.Errors.BadSignature);\n        }\n\n        self.state = \"HEADER\";\n      }\n\n      var alreadyCollectedLine = false;\n\n      while (self.buffer) {\n        // We can't parse a line until we have the full line.\n        if (!/\\r\\n|\\n/.test(self.buffer)) {\n          return this;\n        }\n\n        if (!alreadyCollectedLine) {\n          line = collectNextLine();\n        } else {\n          alreadyCollectedLine = false;\n        }\n\n        switch (self.state) {\n          case \"HEADER\":\n            // 13-18 - Allow a header (metadata) under the WEBVTT line.\n            if (/:/.test(line)) {\n              parseHeader(line);\n            } else if (!line) {\n              // An empty line terminates the header and starts the body (cues).\n              self.state = \"ID\";\n            }\n\n            continue;\n\n          case \"NOTE\":\n            // Ignore NOTE blocks.\n            if (!line) {\n              self.state = \"ID\";\n            }\n\n            continue;\n\n          case \"ID\":\n            // Check for the start of NOTE blocks.\n            if (/^NOTE($|[ \\t])/.test(line)) {\n              self.state = \"NOTE\";\n              break;\n            } // 19-29 - Allow any number of line terminators, then initialize new cue values.\n\n\n            if (!line) {\n              continue;\n            }\n\n            self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\"); // Safari still uses the old middle value and won't accept center\n\n            try {\n              self.cue.align = \"center\";\n            } catch (e) {\n              self.cue.align = \"middle\";\n            }\n\n            self.state = \"CUE\"; // 30-39 - Check if self line contains an optional identifier or timing data.\n\n            if (line.indexOf(\"-->\") === -1) {\n              self.cue.id = line;\n              continue;\n            }\n\n          // Process line as start of a cue.\n\n          /*falls through*/\n\n          case \"CUE\":\n            // 40 - Collect cue timings and settings.\n            try {\n              parseCue(line, self.cue, self.regionList);\n            } catch (e) {\n              self.reportOrThrowError(e); // In case of an error ignore rest of the cue.\n\n              self.cue = null;\n              self.state = \"BADCUE\";\n              continue;\n            }\n\n            self.state = \"CUETEXT\";\n            continue;\n\n          case \"CUETEXT\":\n            var hasSubstring = line.indexOf(\"-->\") !== -1; // 34 - If we have an empty line then report the cue.\n            // 35 - If we have the special substring '-->' then report the cue,\n            // but do not collect the line as we need to process the current\n            // one as a new cue.\n\n            if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n              // We are done parsing self cue.\n              self.oncue && self.oncue(self.cue);\n              self.cue = null;\n              self.state = \"ID\";\n              continue;\n            }\n\n            if (self.cue.text) {\n              self.cue.text += \"\\n\";\n            }\n\n            self.cue.text += line.replace(/\\u2028/g, '\\n').replace(/u2029/g, '\\n');\n            continue;\n\n          case \"BADCUE\":\n            // BADCUE\n            // 54-62 - Collect and discard the remaining cue.\n            if (!line) {\n              self.state = \"ID\";\n            }\n\n            continue;\n        }\n      }\n    } catch (e) {\n      self.reportOrThrowError(e); // If we are currently parsing a cue, report what we have.\n\n      if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n        self.oncue(self.cue);\n      }\n\n      self.cue = null; // Enter BADWEBVTT state if header was not parsed correctly otherwise\n      // another exception occurred so enter BADCUE state.\n\n      self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n    }\n\n    return this;\n  },\n  flush: function flush() {\n    var self = this;\n\n    try {\n      // Finish decoding the stream.\n      self.buffer += self.decoder.decode(); // Synthesize the end of the current cue or region.\n\n      if (self.cue || self.state === \"HEADER\") {\n        self.buffer += \"\\n\\n\";\n        self.parse();\n      } // If we've flushed, parsed, and we're still on the INITIAL state then\n      // that means we don't have enough of the stream to parse the first\n      // line.\n\n\n      if (self.state === \"INITIAL\") {\n        throw new ParsingError(ParsingError.Errors.BadSignature);\n      }\n    } catch (e) {\n      self.reportOrThrowError(e);\n    }\n\n    self.onflush && self.onflush();\n    return this;\n  }\n};\nmodule.exports = WebVTT;","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","// see https://tools.ietf.org/html/rfc1808\n(function (root) {\n  var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/?#]*\\/)*[^;?#]*)?(;[^?#]*)?(\\?[^#]*)?(#.*)?$/;\n  var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n  var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n  var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/)[^\\/]*(?=\\/)/g;\n  var URLToolkit = {\n    // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n    // E.g\n    // With opts.alwaysNormalize = false (default, spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n    // With opts.alwaysNormalize = true (not spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n    buildAbsoluteURL: function buildAbsoluteURL(baseURL, relativeURL, opts) {\n      opts = opts || {}; // remove any remaining space and CRLF\n\n      baseURL = baseURL.trim();\n      relativeURL = relativeURL.trim();\n\n      if (!relativeURL) {\n        // 2a) If the embedded URL is entirely empty, it inherits the\n        // entire base URL (i.e., is set equal to the base URL)\n        // and we are done.\n        if (!opts.alwaysNormalize) {\n          return baseURL;\n        }\n\n        var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n\n        if (!basePartsForNormalise) {\n          throw new Error('Error trying to parse base URL.');\n        }\n\n        basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n        return URLToolkit.buildURLFromParts(basePartsForNormalise);\n      }\n\n      var relativeParts = URLToolkit.parseURL(relativeURL);\n\n      if (!relativeParts) {\n        throw new Error('Error trying to parse relative URL.');\n      }\n\n      if (relativeParts.scheme) {\n        // 2b) If the embedded URL starts with a scheme name, it is\n        // interpreted as an absolute URL and we are done.\n        if (!opts.alwaysNormalize) {\n          return relativeURL;\n        }\n\n        relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n        return URLToolkit.buildURLFromParts(relativeParts);\n      }\n\n      var baseParts = URLToolkit.parseURL(baseURL);\n\n      if (!baseParts) {\n        throw new Error('Error trying to parse base URL.');\n      }\n\n      if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n        // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n        // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n        var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n        baseParts.netLoc = pathParts[1];\n        baseParts.path = pathParts[2];\n      }\n\n      if (baseParts.netLoc && !baseParts.path) {\n        baseParts.path = '/';\n      }\n\n      var builtParts = {\n        // 2c) Otherwise, the embedded URL inherits the scheme of\n        // the base URL.\n        scheme: baseParts.scheme,\n        netLoc: relativeParts.netLoc,\n        path: null,\n        params: relativeParts.params,\n        query: relativeParts.query,\n        fragment: relativeParts.fragment\n      };\n\n      if (!relativeParts.netLoc) {\n        // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n        // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n        // (if any) of the base URL.\n        builtParts.netLoc = baseParts.netLoc; // 4) If the embedded URL path is preceded by a slash \"/\", the\n        // path is not relative and we skip to Step 7.\n\n        if (relativeParts.path[0] !== '/') {\n          if (!relativeParts.path) {\n            // 5) If the embedded URL path is empty (and not preceded by a\n            // slash), then the embedded URL inherits the base URL path\n            builtParts.path = baseParts.path; // 5a) if the embedded URL's <params> is non-empty, we skip to\n            // step 7; otherwise, it inherits the <params> of the base\n            // URL (if any) and\n\n            if (!relativeParts.params) {\n              builtParts.params = baseParts.params; // 5b) if the embedded URL's <query> is non-empty, we skip to\n              // step 7; otherwise, it inherits the <query> of the base\n              // URL (if any) and we skip to step 7.\n\n              if (!relativeParts.query) {\n                builtParts.query = baseParts.query;\n              }\n            }\n          } else {\n            // 6) The last segment of the base URL's path (anything\n            // following the rightmost slash \"/\", or the entire path if no\n            // slash is present) is removed and the embedded URL's path is\n            // appended in its place.\n            var baseURLPath = baseParts.path;\n            var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n            builtParts.path = URLToolkit.normalizePath(newPath);\n          }\n        }\n      }\n\n      if (builtParts.path === null) {\n        builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n      }\n\n      return URLToolkit.buildURLFromParts(builtParts);\n    },\n    parseURL: function parseURL(url) {\n      var parts = URL_REGEX.exec(url);\n\n      if (!parts) {\n        return null;\n      }\n\n      return {\n        scheme: parts[1] || '',\n        netLoc: parts[2] || '',\n        path: parts[3] || '',\n        params: parts[4] || '',\n        query: parts[5] || '',\n        fragment: parts[6] || ''\n      };\n    },\n    normalizePath: function normalizePath(path) {\n      // The following operations are\n      // then applied, in order, to the new path:\n      // 6a) All occurrences of \"./\", where \".\" is a complete path\n      // segment, are removed.\n      // 6b) If the path ends with \".\" as a complete path segment,\n      // that \".\" is removed.\n      path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, ''); // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n      // complete path segment not equal to \"..\", are removed.\n      // Removal of these path segments is performed iteratively,\n      // removing the leftmost matching pattern on each iteration,\n      // until no matching pattern remains.\n      // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n      // complete path segment not equal to \"..\", that\n      // \"<segment>/..\" is removed.\n\n      while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {}\n\n      return path.split('').reverse().join('');\n    },\n    buildURLFromParts: function buildURLFromParts(parts) {\n      return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n    }\n  };\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = URLToolkit;else if (typeof define === 'function' && define.amd) define([], function () {\n    return URLToolkit;\n  });else if (typeof exports === 'object') exports['URLToolkit'] = URLToolkit;else root['URLToolkit'] = URLToolkit;\n})(this);","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","import \"core-js/modules/es.array.reduce\";\n\n/*! @name m3u8-parser @version 4.5.0 @license Apache-2.0 */\nimport _inheritsLoose from '@babel/runtime/helpers/inheritsLoose';\nimport Stream from '@videojs/vhs-utils/dist/stream.js';\nimport _extends from '@babel/runtime/helpers/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/assertThisInitialized';\nimport decodeB64ToUint8Array from '@videojs/vhs-utils/dist/decode-b64-to-uint8-array.js';\n/**\n * A stream that buffers string input and generates a `data` event for each\n * line.\n *\n * @class LineStream\n * @extends Stream\n */\n\nvar LineStream = /*#__PURE__*/function (_Stream) {\n  _inheritsLoose(LineStream, _Stream);\n\n  function LineStream() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.buffer = '';\n    return _this;\n  }\n  /**\n   * Add new data to be parsed.\n   *\n   * @param {string} data the text to process\n   */\n\n\n  var _proto = LineStream.prototype;\n\n  _proto.push = function push(data) {\n    var nextNewline;\n    this.buffer += data;\n    nextNewline = this.buffer.indexOf('\\n');\n\n    for (; nextNewline > -1; nextNewline = this.buffer.indexOf('\\n')) {\n      this.trigger('data', this.buffer.substring(0, nextNewline));\n      this.buffer = this.buffer.substring(nextNewline + 1);\n    }\n  };\n\n  return LineStream;\n}(Stream);\n/**\n * \"forgiving\" attribute list psuedo-grammar:\n * attributes -> keyvalue (',' keyvalue)*\n * keyvalue   -> key '=' value\n * key        -> [^=]*\n * value      -> '\"' [^\"]* '\"' | [^,]*\n */\n\n\nvar attributeSeparator = function attributeSeparator() {\n  var key = '[^=]*';\n  var value = '\"[^\"]*\"|[^,]*';\n  var keyvalue = '(?:' + key + ')=(?:' + value + ')';\n  return new RegExp('(?:^|,)(' + keyvalue + ')');\n};\n/**\n * Parse attributes from a line given the separator\n *\n * @param {string} attributes the attribute line to parse\n */\n\n\nvar parseAttributes = function parseAttributes(attributes) {\n  // split the string using attributes as the separator\n  var attrs = attributes.split(attributeSeparator());\n  var result = {};\n  var i = attrs.length;\n  var attr;\n\n  while (i--) {\n    // filter out unmatched portions of the string\n    if (attrs[i] === '') {\n      continue;\n    } // split the key and value\n\n\n    attr = /([^=]*)=(.*)/.exec(attrs[i]).slice(1); // trim whitespace and remove optional quotes around the value\n\n    attr[0] = attr[0].replace(/^\\s+|\\s+$/g, '');\n    attr[1] = attr[1].replace(/^\\s+|\\s+$/g, '');\n    attr[1] = attr[1].replace(/^['\"](.*)['\"]$/g, '$1');\n    result[attr[0]] = attr[1];\n  }\n\n  return result;\n};\n/**\n * A line-level M3U8 parser event stream. It expects to receive input one\n * line at a time and performs a context-free parse of its contents. A stream\n * interpretation of a manifest can be useful if the manifest is expected to\n * be too large to fit comfortably into memory or the entirety of the input\n * is not immediately available. Otherwise, it's probably much easier to work\n * with a regular `Parser` object.\n *\n * Produces `data` events with an object that captures the parser's\n * interpretation of the input. That object has a property `tag` that is one\n * of `uri`, `comment`, or `tag`. URIs only have a single additional\n * property, `line`, which captures the entirety of the input without\n * interpretation. Comments similarly have a single additional property\n * `text` which is the input without the leading `#`.\n *\n * Tags always have a property `tagType` which is the lower-cased version of\n * the M3U8 directive without the `#EXT` or `#EXT-X-` prefix. For instance,\n * `#EXT-X-MEDIA-SEQUENCE` becomes `media-sequence` when parsed. Unrecognized\n * tags are given the tag type `unknown` and a single additional property\n * `data` with the remainder of the input.\n *\n * @class ParseStream\n * @extends Stream\n */\n\n\nvar ParseStream = /*#__PURE__*/function (_Stream) {\n  _inheritsLoose(ParseStream, _Stream);\n\n  function ParseStream() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.customParsers = [];\n    _this.tagMappers = [];\n    return _this;\n  }\n  /**\n   * Parses an additional line of input.\n   *\n   * @param {string} line a single line of an M3U8 file to parse\n   */\n\n\n  var _proto = ParseStream.prototype;\n\n  _proto.push = function push(line) {\n    var _this2 = this;\n\n    var match;\n    var event; // strip whitespace\n\n    line = line.trim();\n\n    if (line.length === 0) {\n      // ignore empty lines\n      return;\n    } // URIs\n\n\n    if (line[0] !== '#') {\n      this.trigger('data', {\n        type: 'uri',\n        uri: line\n      });\n      return;\n    } // map tags\n\n\n    var newLines = this.tagMappers.reduce(function (acc, mapper) {\n      var mappedLine = mapper(line); // skip if unchanged\n\n      if (mappedLine === line) {\n        return acc;\n      }\n\n      return acc.concat([mappedLine]);\n    }, [line]);\n    newLines.forEach(function (newLine) {\n      for (var i = 0; i < _this2.customParsers.length; i++) {\n        if (_this2.customParsers[i].call(_this2, newLine)) {\n          return;\n        }\n      } // Comments\n\n\n      if (newLine.indexOf('#EXT') !== 0) {\n        _this2.trigger('data', {\n          type: 'comment',\n          text: newLine.slice(1)\n        });\n\n        return;\n      } // strip off any carriage returns here so the regex matching\n      // doesn't have to account for them.\n\n\n      newLine = newLine.replace('\\r', ''); // Tags\n\n      match = /^#EXTM3U/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'm3u'\n        });\n\n        return;\n      }\n\n      match = /^#EXTINF:?([0-9\\.]*)?,?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'inf'\n        };\n\n        if (match[1]) {\n          event.duration = parseFloat(match[1]);\n        }\n\n        if (match[2]) {\n          event.title = match[2];\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'targetduration'\n        };\n\n        if (match[1]) {\n          event.duration = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'totalduration'\n        };\n\n        if (match[1]) {\n          event.duration = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'version'\n        };\n\n        if (match[1]) {\n          event.version = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'media-sequence'\n        };\n\n        if (match[1]) {\n          event.number = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'discontinuity-sequence'\n        };\n\n        if (match[1]) {\n          event.number = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'playlist-type'\n        };\n\n        if (match[1]) {\n          event.playlistType = match[1];\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'byterange'\n        };\n\n        if (match[1]) {\n          event.length = parseInt(match[1], 10);\n        }\n\n        if (match[2]) {\n          event.offset = parseInt(match[2], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'allow-cache'\n        };\n\n        if (match[1]) {\n          event.allowed = !/NO/.test(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MAP:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'map'\n        };\n\n        if (match[1]) {\n          var attributes = parseAttributes(match[1]);\n\n          if (attributes.URI) {\n            event.uri = attributes.URI;\n          }\n\n          if (attributes.BYTERANGE) {\n            var _attributes$BYTERANGE = attributes.BYTERANGE.split('@'),\n                length = _attributes$BYTERANGE[0],\n                offset = _attributes$BYTERANGE[1];\n\n            event.byterange = {};\n\n            if (length) {\n              event.byterange.length = parseInt(length, 10);\n            }\n\n            if (offset) {\n              event.byterange.offset = parseInt(offset, 10);\n            }\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-STREAM-INF:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'stream-inf'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n\n          if (event.attributes.RESOLUTION) {\n            var split = event.attributes.RESOLUTION.split('x');\n            var resolution = {};\n\n            if (split[0]) {\n              resolution.width = parseInt(split[0], 10);\n            }\n\n            if (split[1]) {\n              resolution.height = parseInt(split[1], 10);\n            }\n\n            event.attributes.RESOLUTION = resolution;\n          }\n\n          if (event.attributes.BANDWIDTH) {\n            event.attributes.BANDWIDTH = parseInt(event.attributes.BANDWIDTH, 10);\n          }\n\n          if (event.attributes['PROGRAM-ID']) {\n            event.attributes['PROGRAM-ID'] = parseInt(event.attributes['PROGRAM-ID'], 10);\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MEDIA:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'media'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-ENDLIST/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'endlist'\n        });\n\n        return;\n      }\n\n      match = /^#EXT-X-DISCONTINUITY/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'discontinuity'\n        });\n\n        return;\n      }\n\n      match = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'program-date-time'\n        };\n\n        if (match[1]) {\n          event.dateTimeString = match[1];\n          event.dateTimeObject = new Date(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-KEY:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'key'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]); // parse the IV string into a Uint32Array\n\n          if (event.attributes.IV) {\n            if (event.attributes.IV.substring(0, 2).toLowerCase() === '0x') {\n              event.attributes.IV = event.attributes.IV.substring(2);\n            }\n\n            event.attributes.IV = event.attributes.IV.match(/.{8}/g);\n            event.attributes.IV[0] = parseInt(event.attributes.IV[0], 16);\n            event.attributes.IV[1] = parseInt(event.attributes.IV[1], 16);\n            event.attributes.IV[2] = parseInt(event.attributes.IV[2], 16);\n            event.attributes.IV[3] = parseInt(event.attributes.IV[3], 16);\n            event.attributes.IV = new Uint32Array(event.attributes.IV);\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-START:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'start'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n          event.attributes['TIME-OFFSET'] = parseFloat(event.attributes['TIME-OFFSET']);\n          event.attributes.PRECISE = /YES/.test(event.attributes.PRECISE);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-out-cont'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-out'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-IN:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-in'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      } // unknown tag type\n\n\n      _this2.trigger('data', {\n        type: 'tag',\n        data: newLine.slice(4)\n      });\n    });\n  }\n  /**\n   * Add a parser for custom headers\n   *\n   * @param {Object}   options              a map of options for the added parser\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {string}   options.customType   the custom type to register to the output\n   * @param {Function} [options.dataParser] function to parse the line into an object\n   * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n   */\n  ;\n\n  _proto.addParser = function addParser(_ref) {\n    var _this3 = this;\n\n    var expression = _ref.expression,\n        customType = _ref.customType,\n        dataParser = _ref.dataParser,\n        segment = _ref.segment;\n\n    if (typeof dataParser !== 'function') {\n      dataParser = function dataParser(line) {\n        return line;\n      };\n    }\n\n    this.customParsers.push(function (line) {\n      var match = expression.exec(line);\n\n      if (match) {\n        _this3.trigger('data', {\n          type: 'custom',\n          data: dataParser(line),\n          customType: customType,\n          segment: segment\n        });\n\n        return true;\n      }\n    });\n  }\n  /**\n   * Add a custom header mapper\n   *\n   * @param {Object}   options\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {Function} options.map          function to translate tag into a different tag\n   */\n  ;\n\n  _proto.addTagMapper = function addTagMapper(_ref2) {\n    var expression = _ref2.expression,\n        map = _ref2.map;\n\n    var mapFn = function mapFn(line) {\n      if (expression.test(line)) {\n        return map(line);\n      }\n\n      return line;\n    };\n\n    this.tagMappers.push(mapFn);\n  };\n\n  return ParseStream;\n}(Stream);\n/**\n * A parser for M3U8 files. The current interpretation of the input is\n * exposed as a property `manifest` on parser objects. It's just two lines to\n * create and parse a manifest once you have the contents available as a string:\n *\n * ```js\n * var parser = new m3u8.Parser();\n * parser.push(xhr.responseText);\n * ```\n *\n * New input can later be applied to update the manifest object by calling\n * `push` again.\n *\n * The parser attempts to create a usable manifest object even if the\n * underlying input is somewhat nonsensical. It emits `info` and `warning`\n * events during the parse if it encounters input that seems invalid or\n * requires some property of the manifest object to be defaulted.\n *\n * @class Parser\n * @extends Stream\n */\n\n\nvar Parser = /*#__PURE__*/function (_Stream) {\n  _inheritsLoose(Parser, _Stream);\n\n  function Parser() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.lineStream = new LineStream();\n    _this.parseStream = new ParseStream();\n\n    _this.lineStream.pipe(_this.parseStream);\n    /* eslint-disable consistent-this */\n\n\n    var self = _assertThisInitialized(_this);\n    /* eslint-enable consistent-this */\n\n\n    var uris = [];\n    var currentUri = {}; // if specified, the active EXT-X-MAP definition\n\n    var currentMap; // if specified, the active decryption key\n\n    var _key;\n\n    var noop = function noop() {};\n\n    var defaultMediaGroups = {\n      'AUDIO': {},\n      'VIDEO': {},\n      'CLOSED-CAPTIONS': {},\n      'SUBTITLES': {}\n    }; // This is the Widevine UUID from DASH IF IOP. The same exact string is\n    // used in MPDs with Widevine encrypted streams.\n\n    var widevineUuid = 'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed'; // group segments into numbered timelines delineated by discontinuities\n\n    var currentTimeline = 0; // the manifest is empty until the parse stream begins delivering data\n\n    _this.manifest = {\n      allowCache: true,\n      discontinuityStarts: [],\n      segments: []\n    }; // keep track of the last seen segment's byte range end, as segments are not required\n    // to provide the offset, in which case it defaults to the next byte after the\n    // previous segment\n\n    var lastByterangeEnd = 0; // update the manifest with the m3u8 entry from the parse stream\n\n    _this.parseStream.on('data', function (entry) {\n      var mediaGroup;\n      var rendition;\n      ({\n        tag: function tag() {\n          // switch based on the tag type\n          (({\n            'allow-cache': function allowCache() {\n              this.manifest.allowCache = entry.allowed;\n\n              if (!('allowed' in entry)) {\n                this.trigger('info', {\n                  message: 'defaulting allowCache to YES'\n                });\n                this.manifest.allowCache = true;\n              }\n            },\n            byterange: function byterange() {\n              var byterange = {};\n\n              if ('length' in entry) {\n                currentUri.byterange = byterange;\n                byterange.length = entry.length;\n\n                if (!('offset' in entry)) {\n                  /*\n                   * From the latest spec (as of this writing):\n                   * https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.2.2\n                   *\n                   * Same text since EXT-X-BYTERANGE's introduction in draft 7:\n                   * https://tools.ietf.org/html/draft-pantos-http-live-streaming-07#section-3.3.1)\n                   *\n                   * \"If o [offset] is not present, the sub-range begins at the next byte\n                   * following the sub-range of the previous media segment.\"\n                   */\n                  entry.offset = lastByterangeEnd;\n                }\n              }\n\n              if ('offset' in entry) {\n                currentUri.byterange = byterange;\n                byterange.offset = entry.offset;\n              }\n\n              lastByterangeEnd = byterange.offset + byterange.length;\n            },\n            endlist: function endlist() {\n              this.manifest.endList = true;\n            },\n            inf: function inf() {\n              if (!('mediaSequence' in this.manifest)) {\n                this.manifest.mediaSequence = 0;\n                this.trigger('info', {\n                  message: 'defaulting media sequence to zero'\n                });\n              }\n\n              if (!('discontinuitySequence' in this.manifest)) {\n                this.manifest.discontinuitySequence = 0;\n                this.trigger('info', {\n                  message: 'defaulting discontinuity sequence to zero'\n                });\n              }\n\n              if (entry.duration > 0) {\n                currentUri.duration = entry.duration;\n              }\n\n              if (entry.duration === 0) {\n                currentUri.duration = 0.01;\n                this.trigger('info', {\n                  message: 'updating zero segment duration to a small value'\n                });\n              }\n\n              this.manifest.segments = uris;\n            },\n            key: function key() {\n              if (!entry.attributes) {\n                this.trigger('warn', {\n                  message: 'ignoring key declaration without attribute list'\n                });\n                return;\n              } // clear the active encryption key\n\n\n              if (entry.attributes.METHOD === 'NONE') {\n                _key = null;\n                return;\n              }\n\n              if (!entry.attributes.URI) {\n                this.trigger('warn', {\n                  message: 'ignoring key declaration without URI'\n                });\n                return;\n              } // check if the content is encrypted for Widevine\n              // Widevine/HLS spec: https://storage.googleapis.com/wvdocs/Widevine_DRM_HLS.pdf\n\n\n              if (entry.attributes.KEYFORMAT === widevineUuid) {\n                var VALID_METHODS = ['SAMPLE-AES', 'SAMPLE-AES-CTR', 'SAMPLE-AES-CENC'];\n\n                if (VALID_METHODS.indexOf(entry.attributes.METHOD) === -1) {\n                  this.trigger('warn', {\n                    message: 'invalid key method provided for Widevine'\n                  });\n                  return;\n                }\n\n                if (entry.attributes.METHOD === 'SAMPLE-AES-CENC') {\n                  this.trigger('warn', {\n                    message: 'SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead'\n                  });\n                }\n\n                if (entry.attributes.URI.substring(0, 23) !== 'data:text/plain;base64,') {\n                  this.trigger('warn', {\n                    message: 'invalid key URI provided for Widevine'\n                  });\n                  return;\n                }\n\n                if (!(entry.attributes.KEYID && entry.attributes.KEYID.substring(0, 2) === '0x')) {\n                  this.trigger('warn', {\n                    message: 'invalid key ID provided for Widevine'\n                  });\n                  return;\n                } // if Widevine key attributes are valid, store them as `contentProtection`\n                // on the manifest to emulate Widevine tag structure in a DASH mpd\n\n\n                this.manifest.contentProtection = {\n                  'com.widevine.alpha': {\n                    attributes: {\n                      schemeIdUri: entry.attributes.KEYFORMAT,\n                      // remove '0x' from the key id string\n                      keyId: entry.attributes.KEYID.substring(2)\n                    },\n                    // decode the base64-encoded PSSH box\n                    pssh: decodeB64ToUint8Array(entry.attributes.URI.split(',')[1])\n                  }\n                };\n                return;\n              }\n\n              if (!entry.attributes.METHOD) {\n                this.trigger('warn', {\n                  message: 'defaulting key method to AES-128'\n                });\n              } // setup an encryption key for upcoming segments\n\n\n              _key = {\n                method: entry.attributes.METHOD || 'AES-128',\n                uri: entry.attributes.URI\n              };\n\n              if (typeof entry.attributes.IV !== 'undefined') {\n                _key.iv = entry.attributes.IV;\n              }\n            },\n            'media-sequence': function mediaSequence() {\n              if (!isFinite(entry.number)) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid media sequence: ' + entry.number\n                });\n                return;\n              }\n\n              this.manifest.mediaSequence = entry.number;\n            },\n            'discontinuity-sequence': function discontinuitySequence() {\n              if (!isFinite(entry.number)) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid discontinuity sequence: ' + entry.number\n                });\n                return;\n              }\n\n              this.manifest.discontinuitySequence = entry.number;\n              currentTimeline = entry.number;\n            },\n            'playlist-type': function playlistType() {\n              if (!/VOD|EVENT/.test(entry.playlistType)) {\n                this.trigger('warn', {\n                  message: 'ignoring unknown playlist type: ' + entry.playlist\n                });\n                return;\n              }\n\n              this.manifest.playlistType = entry.playlistType;\n            },\n            map: function map() {\n              currentMap = {};\n\n              if (entry.uri) {\n                currentMap.uri = entry.uri;\n              }\n\n              if (entry.byterange) {\n                currentMap.byterange = entry.byterange;\n              }\n            },\n            'stream-inf': function streamInf() {\n              this.manifest.playlists = uris;\n              this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n              if (!entry.attributes) {\n                this.trigger('warn', {\n                  message: 'ignoring empty stream-inf attributes'\n                });\n                return;\n              }\n\n              if (!currentUri.attributes) {\n                currentUri.attributes = {};\n              }\n\n              _extends(currentUri.attributes, entry.attributes);\n            },\n            media: function media() {\n              this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n              if (!(entry.attributes && entry.attributes.TYPE && entry.attributes['GROUP-ID'] && entry.attributes.NAME)) {\n                this.trigger('warn', {\n                  message: 'ignoring incomplete or missing media group'\n                });\n                return;\n              } // find the media group, creating defaults as necessary\n\n\n              var mediaGroupType = this.manifest.mediaGroups[entry.attributes.TYPE];\n              mediaGroupType[entry.attributes['GROUP-ID']] = mediaGroupType[entry.attributes['GROUP-ID']] || {};\n              mediaGroup = mediaGroupType[entry.attributes['GROUP-ID']]; // collect the rendition metadata\n\n              rendition = {\n                default: /yes/i.test(entry.attributes.DEFAULT)\n              };\n\n              if (rendition.default) {\n                rendition.autoselect = true;\n              } else {\n                rendition.autoselect = /yes/i.test(entry.attributes.AUTOSELECT);\n              }\n\n              if (entry.attributes.LANGUAGE) {\n                rendition.language = entry.attributes.LANGUAGE;\n              }\n\n              if (entry.attributes.URI) {\n                rendition.uri = entry.attributes.URI;\n              }\n\n              if (entry.attributes['INSTREAM-ID']) {\n                rendition.instreamId = entry.attributes['INSTREAM-ID'];\n              }\n\n              if (entry.attributes.CHARACTERISTICS) {\n                rendition.characteristics = entry.attributes.CHARACTERISTICS;\n              }\n\n              if (entry.attributes.FORCED) {\n                rendition.forced = /yes/i.test(entry.attributes.FORCED);\n              } // insert the new rendition\n\n\n              mediaGroup[entry.attributes.NAME] = rendition;\n            },\n            discontinuity: function discontinuity() {\n              currentTimeline += 1;\n              currentUri.discontinuity = true;\n              this.manifest.discontinuityStarts.push(uris.length);\n            },\n            'program-date-time': function programDateTime() {\n              if (typeof this.manifest.dateTimeString === 'undefined') {\n                // PROGRAM-DATE-TIME is a media-segment tag, but for backwards\n                // compatibility, we add the first occurence of the PROGRAM-DATE-TIME tag\n                // to the manifest object\n                // TODO: Consider removing this in future major version\n                this.manifest.dateTimeString = entry.dateTimeString;\n                this.manifest.dateTimeObject = entry.dateTimeObject;\n              }\n\n              currentUri.dateTimeString = entry.dateTimeString;\n              currentUri.dateTimeObject = entry.dateTimeObject;\n            },\n            targetduration: function targetduration() {\n              if (!isFinite(entry.duration) || entry.duration < 0) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid target duration: ' + entry.duration\n                });\n                return;\n              }\n\n              this.manifest.targetDuration = entry.duration;\n            },\n            totalduration: function totalduration() {\n              if (!isFinite(entry.duration) || entry.duration < 0) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid total duration: ' + entry.duration\n                });\n                return;\n              }\n\n              this.manifest.totalDuration = entry.duration;\n            },\n            start: function start() {\n              if (!entry.attributes || isNaN(entry.attributes['TIME-OFFSET'])) {\n                this.trigger('warn', {\n                  message: 'ignoring start declaration without appropriate attribute list'\n                });\n                return;\n              }\n\n              this.manifest.start = {\n                timeOffset: entry.attributes['TIME-OFFSET'],\n                precise: entry.attributes.PRECISE\n              };\n            },\n            'cue-out': function cueOut() {\n              currentUri.cueOut = entry.data;\n            },\n            'cue-out-cont': function cueOutCont() {\n              currentUri.cueOutCont = entry.data;\n            },\n            'cue-in': function cueIn() {\n              currentUri.cueIn = entry.data;\n            }\n          })[entry.tagType] || noop).call(self);\n        },\n        uri: function uri() {\n          currentUri.uri = entry.uri;\n          uris.push(currentUri); // if no explicit duration was declared, use the target duration\n\n          if (this.manifest.targetDuration && !('duration' in currentUri)) {\n            this.trigger('warn', {\n              message: 'defaulting segment duration to the target duration'\n            });\n            currentUri.duration = this.manifest.targetDuration;\n          } // annotate with encryption information, if necessary\n\n\n          if (_key) {\n            currentUri.key = _key;\n          }\n\n          currentUri.timeline = currentTimeline; // annotate with initialization segment information, if necessary\n\n          if (currentMap) {\n            currentUri.map = currentMap;\n          } // prepare for the next URI\n\n\n          currentUri = {};\n        },\n        comment: function comment() {// comments are not important for playback\n        },\n        custom: function custom() {\n          // if this is segment-level data attach the output to the segment\n          if (entry.segment) {\n            currentUri.custom = currentUri.custom || {};\n            currentUri.custom[entry.customType] = entry.data; // if this is manifest-level data attach to the top level manifest object\n          } else {\n            this.manifest.custom = this.manifest.custom || {};\n            this.manifest.custom[entry.customType] = entry.data;\n          }\n        }\n      })[entry.type].call(self);\n    });\n\n    return _this;\n  }\n  /**\n   * Parse the input string and update the manifest object.\n   *\n   * @param {string} chunk a potentially incomplete portion of the manifest\n   */\n\n\n  var _proto = Parser.prototype;\n\n  _proto.push = function push(chunk) {\n    this.lineStream.push(chunk);\n  }\n  /**\n   * Flush any remaining input. This can be handy if the last line of an M3U8\n   * manifest did not contain a trailing newline but the file has been\n   * completely received.\n   */\n  ;\n\n  _proto.end = function end() {\n    // flush any buffered input\n    this.lineStream.push('\\n');\n  }\n  /**\n   * Add an additional parser for non-standard tags\n   *\n   * @param {Object}   options              a map of options for the added parser\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {string}   options.type         the type to register to the output\n   * @param {Function} [options.dataParser] function to parse the line into an object\n   * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n   */\n  ;\n\n  _proto.addParser = function addParser(options) {\n    this.parseStream.addParser(options);\n  }\n  /**\n   * Add a custom header mapper\n   *\n   * @param {Object}   options\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {Function} options.map          function to translate tag into a different tag\n   */\n  ;\n\n  _proto.addTagMapper = function addTagMapper(options) {\n    this.parseStream.addTagMapper(options);\n  };\n\n  return Parser;\n}(Stream);\n\nexport { LineStream, ParseStream, Parser };","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/; //\\u10000-\\uEFFFF\n\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\" + nameStartChar.source.slice(1, -1) + \"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^' + nameStartChar.source + nameChar.source + '*(?:\\:' + nameStartChar.source + nameChar.source + '*)?$'); //var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\nvar S_TAG = 0; //tag name offerring\n\nvar S_ATTR = 1; //attr name offerring \n\nvar S_ATTR_SPACE = 2; //attr name end and space offer\n\nvar S_EQ = 3; //=space?\n\nvar S_ATTR_NOQUOT_VALUE = 4; //attr value(no quot value only)\n\nvar S_ATTR_END = 5; //attr value end and no space(quot end)\n\nvar S_TAG_SPACE = 6; //(attr value end || tag end ) && (space offer)\n\nvar S_TAG_CLOSE = 7; //closed el<el />\n\nfunction XMLReader() {}\n\nXMLReader.prototype = {\n  parse: function parse(source, defaultNSMap, entityMap) {\n    var domBuilder = this.domBuilder;\n    domBuilder.startDocument();\n\n    _copy(defaultNSMap, defaultNSMap = {});\n\n    _parse(source, defaultNSMap, entityMap, domBuilder, this.errorHandler);\n\n    domBuilder.endDocument();\n  }\n};\n\nfunction _parse(source, defaultNSMapCopy, entityMap, domBuilder, errorHandler) {\n  function fixedFromCharCode(code) {\n    // String.prototype.fromCharCode does not supports\n    // > 2 bytes unicode chars directly\n    if (code > 0xffff) {\n      code -= 0x10000;\n      var surrogate1 = 0xd800 + (code >> 10),\n          surrogate2 = 0xdc00 + (code & 0x3ff);\n      return String.fromCharCode(surrogate1, surrogate2);\n    } else {\n      return String.fromCharCode(code);\n    }\n  }\n\n  function entityReplacer(a) {\n    var k = a.slice(1, -1);\n\n    if (k in entityMap) {\n      return entityMap[k];\n    } else if (k.charAt(0) === '#') {\n      return fixedFromCharCode(parseInt(k.substr(1).replace('x', '0x')));\n    } else {\n      errorHandler.error('entity not found:' + a);\n      return a;\n    }\n  }\n\n  function appendText(end) {\n    //has some bugs\n    if (end > start) {\n      var xt = source.substring(start, end).replace(/&#?\\w+;/g, entityReplacer);\n      locator && position(start);\n      domBuilder.characters(xt, 0, end - start);\n      start = end;\n    }\n  }\n\n  function position(p, m) {\n    while (p >= lineEnd && (m = linePattern.exec(source))) {\n      lineStart = m.index;\n      lineEnd = lineStart + m[0].length;\n      locator.lineNumber++; //console.log('line++:',locator,startPos,endPos)\n    }\n\n    locator.columnNumber = p - lineStart + 1;\n  }\n\n  var lineStart = 0;\n  var lineEnd = 0;\n  var linePattern = /.*(?:\\r\\n?|\\n)|.*$/g;\n  var locator = domBuilder.locator;\n  var parseStack = [{\n    currentNSMap: defaultNSMapCopy\n  }];\n  var closeMap = {};\n  var start = 0;\n\n  while (true) {\n    try {\n      var tagStart = source.indexOf('<', start);\n\n      if (tagStart < 0) {\n        if (!source.substr(start).match(/^\\s*$/)) {\n          var doc = domBuilder.doc;\n          var text = doc.createTextNode(source.substr(start));\n          doc.appendChild(text);\n          domBuilder.currentElement = text;\n        }\n\n        return;\n      }\n\n      if (tagStart > start) {\n        appendText(tagStart);\n      }\n\n      switch (source.charAt(tagStart + 1)) {\n        case '/':\n          var end = source.indexOf('>', tagStart + 3);\n          var tagName = source.substring(tagStart + 2, end);\n          var config = parseStack.pop();\n\n          if (end < 0) {\n            tagName = source.substring(tagStart + 2).replace(/[\\s<].*/, ''); //console.error('#@@@@@@'+tagName)\n\n            errorHandler.error(\"end tag name: \" + tagName + ' is not complete:' + config.tagName);\n            end = tagStart + 1 + tagName.length;\n          } else if (tagName.match(/\\s</)) {\n            tagName = tagName.replace(/[\\s<].*/, '');\n            errorHandler.error(\"end tag name: \" + tagName + ' maybe not complete');\n            end = tagStart + 1 + tagName.length;\n          } //console.error(parseStack.length,parseStack)\n          //console.error(config);\n\n\n          var localNSMap = config.localNSMap;\n          var endMatch = config.tagName == tagName;\n          var endIgnoreCaseMach = endMatch || config.tagName && config.tagName.toLowerCase() == tagName.toLowerCase();\n\n          if (endIgnoreCaseMach) {\n            domBuilder.endElement(config.uri, config.localName, tagName);\n\n            if (localNSMap) {\n              for (var prefix in localNSMap) {\n                domBuilder.endPrefixMapping(prefix);\n              }\n            }\n\n            if (!endMatch) {\n              errorHandler.fatalError(\"end tag name: \" + tagName + ' is not match the current start tagName:' + config.tagName);\n            }\n          } else {\n            parseStack.push(config);\n          }\n\n          end++;\n          break;\n        // end elment\n\n        case '?':\n          // <?...?>\n          locator && position(tagStart);\n          end = parseInstruction(source, tagStart, domBuilder);\n          break;\n\n        case '!':\n          // <!doctype,<![CDATA,<!--\n          locator && position(tagStart);\n          end = parseDCC(source, tagStart, domBuilder, errorHandler);\n          break;\n\n        default:\n          locator && position(tagStart);\n          var el = new ElementAttributes();\n          var currentNSMap = parseStack[parseStack.length - 1].currentNSMap; //elStartEnd\n\n          var end = parseElementStartPart(source, tagStart, el, currentNSMap, entityReplacer, errorHandler);\n          var len = el.length;\n\n          if (!el.closed && fixSelfClosed(source, end, el.tagName, closeMap)) {\n            el.closed = true;\n\n            if (!entityMap.nbsp) {\n              errorHandler.warning('unclosed xml attribute');\n            }\n          }\n\n          if (locator && len) {\n            var locator2 = copyLocator(locator, {}); //try{//attribute position fixed\n\n            for (var i = 0; i < len; i++) {\n              var a = el[i];\n              position(a.offset);\n              a.locator = copyLocator(locator, {});\n            } //}catch(e){console.error('@@@@@'+e)}\n\n\n            domBuilder.locator = locator2;\n\n            if (appendElement(el, domBuilder, currentNSMap)) {\n              parseStack.push(el);\n            }\n\n            domBuilder.locator = locator;\n          } else {\n            if (appendElement(el, domBuilder, currentNSMap)) {\n              parseStack.push(el);\n            }\n          }\n\n          if (el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed) {\n            end = parseHtmlSpecialContent(source, end, el.tagName, entityReplacer, domBuilder);\n          } else {\n            end++;\n          }\n\n      }\n    } catch (e) {\n      errorHandler.error('element parse error: ' + e); //errorHandler.error('element parse error: '+e);\n\n      end = -1; //throw e;\n    }\n\n    if (end > start) {\n      start = end;\n    } else {\n      //TODO: 这里有可能sax回退，有位置错误风险\n      appendText(Math.max(tagStart, start) + 1);\n    }\n  }\n}\n\nfunction copyLocator(f, t) {\n  t.lineNumber = f.lineNumber;\n  t.columnNumber = f.columnNumber;\n  return t;\n}\n/**\r\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\r\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\r\n */\n\n\nfunction parseElementStartPart(source, start, el, currentNSMap, entityReplacer, errorHandler) {\n  var attrName;\n  var value;\n  var p = ++start;\n  var s = S_TAG; //status\n\n  while (true) {\n    var c = source.charAt(p);\n\n    switch (c) {\n      case '=':\n        if (s === S_ATTR) {\n          //attrName\n          attrName = source.slice(start, p);\n          s = S_EQ;\n        } else if (s === S_ATTR_SPACE) {\n          s = S_EQ;\n        } else {\n          //fatalError: equal must after attrName or space after attrName\n          throw new Error('attribute equal must after attrName');\n        }\n\n        break;\n\n      case '\\'':\n      case '\"':\n        if (s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n        ) {\n            //equal\n            if (s === S_ATTR) {\n              errorHandler.warning('attribute value must after \"=\"');\n              attrName = source.slice(start, p);\n            }\n\n            start = p + 1;\n            p = source.indexOf(c, start);\n\n            if (p > 0) {\n              value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n              el.add(attrName, value, start - 1);\n              s = S_ATTR_END;\n            } else {\n              //fatalError: no end quot match\n              throw new Error('attribute value no end \\'' + c + '\\' match');\n            }\n          } else if (s == S_ATTR_NOQUOT_VALUE) {\n          value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer); //console.log(attrName,value,start,p)\n\n          el.add(attrName, value, start); //console.dir(el)\n\n          errorHandler.warning('attribute \"' + attrName + '\" missed start quot(' + c + ')!!');\n          start = p + 1;\n          s = S_ATTR_END;\n        } else {\n          //fatalError: no equal before\n          throw new Error('attribute value must after \"=\"');\n        }\n\n        break;\n\n      case '/':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p));\n\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            s = S_TAG_CLOSE;\n            el.closed = true;\n\n          case S_ATTR_NOQUOT_VALUE:\n          case S_ATTR:\n          case S_ATTR_SPACE:\n            break;\n          //case S_EQ:\n\n          default:\n            throw new Error(\"attribute invalid close char('/')\");\n        }\n\n        break;\n\n      case '':\n        //end document\n        //throw new Error('unexpected end of input')\n        errorHandler.error('unexpected end of input');\n\n        if (s == S_TAG) {\n          el.setTagName(source.slice(start, p));\n        }\n\n        return p;\n\n      case '>':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p));\n\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            break;\n          //normal\n\n          case S_ATTR_NOQUOT_VALUE: //Compatible state\n\n          case S_ATTR:\n            value = source.slice(start, p);\n\n            if (value.slice(-1) === '/') {\n              el.closed = true;\n              value = value.slice(0, -1);\n            }\n\n          case S_ATTR_SPACE:\n            if (s === S_ATTR_SPACE) {\n              value = attrName;\n            }\n\n            if (s == S_ATTR_NOQUOT_VALUE) {\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n              el.add(attrName, value.replace(/&#?\\w+;/g, entityReplacer), start);\n            } else {\n              if (currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + value + '\" missed value!! \"' + value + '\" instead!!');\n              }\n\n              el.add(value, value, start);\n            }\n\n            break;\n\n          case S_EQ:\n            throw new Error('attribute value missed!!');\n        } //\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\n\n        return p;\n\n      /*xml space '\\x20' | #x9 | #xD | #xA; */\n\n      case \"\\x80\":\n        c = ' ';\n\n      default:\n        if (c <= ' ') {\n          //space\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p)); //tagName\n\n              s = S_TAG_SPACE;\n              break;\n\n            case S_ATTR:\n              attrName = source.slice(start, p);\n              s = S_ATTR_SPACE;\n              break;\n\n            case S_ATTR_NOQUOT_VALUE:\n              var value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n              el.add(attrName, value, start);\n\n            case S_ATTR_END:\n              s = S_TAG_SPACE;\n              break;\n            //case S_TAG_SPACE:\n            //case S_EQ:\n            //case S_ATTR_SPACE:\n            //\tvoid();break;\n            //case S_TAG_CLOSE:\n            //ignore warning\n          }\n        } else {\n          //not space\n          //S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n          //S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n          switch (s) {\n            //case S_TAG:void();break;\n            //case S_ATTR:void();break;\n            //case S_ATTR_NOQUOT_VALUE:void();break;\n            case S_ATTR_SPACE:\n              var tagName = el.tagName;\n\n              if (currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + attrName + '\" missed value!! \"' + attrName + '\" instead2!!');\n              }\n\n              el.add(attrName, attrName, start);\n              start = p;\n              s = S_ATTR;\n              break;\n\n            case S_ATTR_END:\n              errorHandler.warning('attribute space is required\"' + attrName + '\"!!');\n\n            case S_TAG_SPACE:\n              s = S_ATTR;\n              start = p;\n              break;\n\n            case S_EQ:\n              s = S_ATTR_NOQUOT_VALUE;\n              start = p;\n              break;\n\n            case S_TAG_CLOSE:\n              throw new Error(\"elements closed character '/' and '>' must be connected to\");\n          }\n        }\n\n    } //end outer switch\n    //console.log('p++',p)\n\n\n    p++;\n  }\n}\n/**\r\n * @return true if has new namespace define\r\n */\n\n\nfunction appendElement(el, domBuilder, currentNSMap) {\n  var tagName = el.tagName;\n  var localNSMap = null; //var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\n  var i = el.length;\n\n  while (i--) {\n    var a = el[i];\n    var qName = a.qName;\n    var value = a.value;\n    var nsp = qName.indexOf(':');\n\n    if (nsp > 0) {\n      var prefix = a.prefix = qName.slice(0, nsp);\n      var localName = qName.slice(nsp + 1);\n      var nsPrefix = prefix === 'xmlns' && localName;\n    } else {\n      localName = qName;\n      prefix = null;\n      nsPrefix = qName === 'xmlns' && '';\n    } //can not set prefix,because prefix !== ''\n\n\n    a.localName = localName; //prefix == null for no ns prefix attribute \n\n    if (nsPrefix !== false) {\n      //hack!!\n      if (localNSMap == null) {\n        localNSMap = {}; //console.log(currentNSMap,0)\n\n        _copy(currentNSMap, currentNSMap = {}); //console.log(currentNSMap,1)\n\n      }\n\n      currentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n      a.uri = 'http://www.w3.org/2000/xmlns/';\n      domBuilder.startPrefixMapping(nsPrefix, value);\n    }\n  }\n\n  var i = el.length;\n\n  while (i--) {\n    a = el[i];\n    var prefix = a.prefix;\n\n    if (prefix) {\n      //no prefix attribute has no namespace\n      if (prefix === 'xml') {\n        a.uri = 'http://www.w3.org/XML/1998/namespace';\n      }\n\n      if (prefix !== 'xmlns') {\n        a.uri = currentNSMap[prefix || '']; //{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n      }\n    }\n  }\n\n  var nsp = tagName.indexOf(':');\n\n  if (nsp > 0) {\n    prefix = el.prefix = tagName.slice(0, nsp);\n    localName = el.localName = tagName.slice(nsp + 1);\n  } else {\n    prefix = null; //important!!\n\n    localName = el.localName = tagName;\n  } //no prefix element has default namespace\n\n\n  var ns = el.uri = currentNSMap[prefix || ''];\n  domBuilder.startElement(ns, localName, tagName, el); //endPrefixMapping and startPrefixMapping have not any help for dom builder\n  //localNSMap = null\n\n  if (el.closed) {\n    domBuilder.endElement(ns, localName, tagName);\n\n    if (localNSMap) {\n      for (prefix in localNSMap) {\n        domBuilder.endPrefixMapping(prefix);\n      }\n    }\n  } else {\n    el.currentNSMap = currentNSMap;\n    el.localNSMap = localNSMap; //parseStack.push(el);\n\n    return true;\n  }\n}\n\nfunction parseHtmlSpecialContent(source, elStartEnd, tagName, entityReplacer, domBuilder) {\n  if (/^(?:script|textarea)$/i.test(tagName)) {\n    var elEndStart = source.indexOf('</' + tagName + '>', elStartEnd);\n    var text = source.substring(elStartEnd + 1, elEndStart);\n\n    if (/[&<]/.test(text)) {\n      if (/^script$/i.test(tagName)) {\n        //if(!/\\]\\]>/.test(text)){\n        //lexHandler.startCDATA();\n        domBuilder.characters(text, 0, text.length); //lexHandler.endCDATA();\n\n        return elEndStart; //}\n      } //}else{//text area\n\n\n      text = text.replace(/&#?\\w+;/g, entityReplacer);\n      domBuilder.characters(text, 0, text.length);\n      return elEndStart; //}\n    }\n  }\n\n  return elStartEnd + 1;\n}\n\nfunction fixSelfClosed(source, elStartEnd, tagName, closeMap) {\n  //if(tagName in closeMap){\n  var pos = closeMap[tagName];\n\n  if (pos == null) {\n    //console.log(tagName)\n    pos = source.lastIndexOf('</' + tagName + '>');\n\n    if (pos < elStartEnd) {\n      //忘记闭合\n      pos = source.lastIndexOf('</' + tagName);\n    }\n\n    closeMap[tagName] = pos;\n  }\n\n  return pos < elStartEnd; //} \n}\n\nfunction _copy(source, target) {\n  for (var n in source) {\n    target[n] = source[n];\n  }\n}\n\nfunction parseDCC(source, start, domBuilder, errorHandler) {\n  //sure start with '<!'\n  var next = source.charAt(start + 2);\n\n  switch (next) {\n    case '-':\n      if (source.charAt(start + 3) === '-') {\n        var end = source.indexOf('-->', start + 4); //append comment source.substring(4,end)//<!--\n\n        if (end > start) {\n          domBuilder.comment(source, start + 4, end - start - 4);\n          return end + 3;\n        } else {\n          errorHandler.error(\"Unclosed comment\");\n          return -1;\n        }\n      } else {\n        //error\n        return -1;\n      }\n\n    default:\n      if (source.substr(start + 3, 6) == 'CDATA[') {\n        var end = source.indexOf(']]>', start + 9);\n        domBuilder.startCDATA();\n        domBuilder.characters(source, start + 9, end - start - 9);\n        domBuilder.endCDATA();\n        return end + 3;\n      } //<!DOCTYPE\n      //startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \n\n\n      var matchs = split(source, start);\n      var len = matchs.length;\n\n      if (len > 1 && /!doctype/i.test(matchs[0][0])) {\n        var name = matchs[1][0];\n        var pubid = len > 3 && /^public$/i.test(matchs[2][0]) && matchs[3][0];\n        var sysid = len > 4 && matchs[4][0];\n        var lastMatch = matchs[len - 1];\n        domBuilder.startDTD(name, pubid && pubid.replace(/^(['\"])(.*?)\\1$/, '$2'), sysid && sysid.replace(/^(['\"])(.*?)\\1$/, '$2'));\n        domBuilder.endDTD();\n        return lastMatch.index + lastMatch[0].length;\n      }\n\n  }\n\n  return -1;\n}\n\nfunction parseInstruction(source, start, domBuilder) {\n  var end = source.indexOf('?>', start);\n\n  if (end) {\n    var match = source.substring(start, end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\n    if (match) {\n      var len = match[0].length;\n      domBuilder.processingInstruction(match[1], match[2]);\n      return end + 2;\n    } else {\n      //error\n      return -1;\n    }\n  }\n\n  return -1;\n}\n/**\r\n * @param source\r\n */\n\n\nfunction ElementAttributes(source) {}\n\nElementAttributes.prototype = {\n  setTagName: function setTagName(tagName) {\n    if (!tagNamePattern.test(tagName)) {\n      throw new Error('invalid tagName:' + tagName);\n    }\n\n    this.tagName = tagName;\n  },\n  add: function add(qName, value, offset) {\n    if (!tagNamePattern.test(qName)) {\n      throw new Error('invalid attribute:' + qName);\n    }\n\n    this[this.length++] = {\n      qName: qName,\n      value: value,\n      offset: offset\n    };\n  },\n  length: 0,\n  getLocalName: function getLocalName(i) {\n    return this[i].localName;\n  },\n  getLocator: function getLocator(i) {\n    return this[i].locator;\n  },\n  getQName: function getQName(i) {\n    return this[i].qName;\n  },\n  getURI: function getURI(i) {\n    return this[i].uri;\n  },\n  getValue: function getValue(i) {\n    return this[i].value;\n  } //\t,getIndex:function(uri, localName)){\n  //\t\tif(localName){\n  //\t\t\t\n  //\t\t}else{\n  //\t\t\tvar qName = uri\n  //\t\t}\n  //\t},\n  //\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n  //\tgetType:function(uri,localName){}\n  //\tgetType:function(i){},\n\n};\n\nfunction _set_proto_(thiz, parent) {\n  thiz.__proto__ = parent;\n  return thiz;\n}\n\nif (!(_set_proto_({}, _set_proto_.prototype) instanceof _set_proto_)) {\n  _set_proto_ = function _set_proto_(thiz, parent) {\n    function p() {}\n\n    ;\n    p.prototype = parent;\n    p = new p();\n\n    for (parent in thiz) {\n      p[parent] = thiz[parent];\n    }\n\n    return p;\n  };\n}\n\nfunction split(source, start) {\n  var match;\n  var buf = [];\n  var reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n  reg.lastIndex = start;\n  reg.exec(source); //skip <\n\n  while (match = reg.exec(source)) {\n    buf.push(match);\n    if (match[1]) return buf;\n  }\n}\n\nexports.XMLReader = XMLReader;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","var toUnsigned = require('../utils/bin').toUnsigned;\n\nvar tfdt = function tfdt(data) {\n  var result = {\n    version: data[0],\n    flags: new Uint8Array(data.subarray(1, 4)),\n    baseMediaDecodeTime: toUnsigned(data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7])\n  };\n\n  if (result.version === 1) {\n    result.baseMediaDecodeTime *= Math.pow(2, 32);\n    result.baseMediaDecodeTime += toUnsigned(data[8] << 24 | data[9] << 16 | data[10] << 8 | data[11]);\n  }\n\n  return result;\n};\n\nmodule.exports = tfdt;","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  (function () { return this; })() || Function('return this')();\n","export default path => {\n  if (path === undefined) {\n    return path\n  }\n  if (path === `/`) {\n    return `/`\n  }\n  if (path.charAt(path.length - 1) === `/`) {\n    return path.slice(0, -1)\n  }\n  return path\n}\n","import { pick } from \"@reach/router/lib/utils\"\nimport stripPrefix from \"./strip-prefix\"\nimport normalizePagePath from \"./normalize-page-path\"\n\nconst pathCache = new Map()\nlet matchPaths = []\n\nconst trimPathname = rawPathname => {\n  const pathname = decodeURIComponent(rawPathname)\n  // Remove the pathPrefix from the pathname.\n  const trimmedPathname = stripPrefix(pathname, __BASE_PATH__)\n    // Remove any hashfragment\n    .split(`#`)[0]\n    // Remove search query\n    .split(`?`)[0]\n\n  return trimmedPathname\n}\n\nfunction absolutify(path) {\n  // If it's already absolute, return as-is\n  if (\n    path.startsWith(`/`) ||\n    path.startsWith(`https://`) ||\n    path.startsWith(`http://`)\n  ) {\n    return path\n  }\n  // Calculate path relative to current location, adding a trailing slash to\n  // match behavior of @reach/router\n  return new URL(\n    path,\n    window.location.href + (window.location.href.endsWith(`/`) ? `` : `/`)\n  ).pathname\n}\n\n/**\n * Set list of matchPaths\n *\n * @param {Array<{path: string, matchPath: string}>} value collection of matchPaths\n */\nexport const setMatchPaths = value => {\n  matchPaths = value\n}\n\n/**\n * Return a matchpath url\n * if `match-paths.json` contains `{ \"/foo*\": \"/page1\", ...}`, then\n * `/foo?bar=far` => `/page1`\n *\n * @param {string} rawPathname A raw pathname\n * @return {string|null}\n */\nexport const findMatchPath = rawPathname => {\n  const trimmedPathname = cleanPath(rawPathname)\n\n  const pickPaths = matchPaths.map(({ path, matchPath }) => {\n    return {\n      path: matchPath,\n      originalPath: path,\n    }\n  })\n\n  const path = pick(pickPaths, trimmedPathname)\n\n  if (path) {\n    return normalizePagePath(path.route.originalPath)\n  }\n\n  return null\n}\n\n/**\n * Return a matchpath params from reach/router rules\n * if `match-paths.json` contains `{ \":bar/*foo\" }`, and the path is /baz/zaz/zoo\n * then it returns\n *  { bar: baz, foo: zaz/zoo }\n *\n * @param {string} rawPathname A raw pathname\n * @return {object}\n */\nexport const grabMatchParams = rawPathname => {\n  const trimmedPathname = cleanPath(rawPathname)\n\n  const pickPaths = matchPaths.map(({ path, matchPath }) => {\n    return {\n      path: matchPath,\n      originalPath: path,\n    }\n  })\n\n  const path = pick(pickPaths, trimmedPathname)\n\n  if (path) {\n    return path.params\n  }\n\n  return {}\n}\n\n// Given a raw URL path, returns the cleaned version of it (trim off\n// `#` and query params), or if it matches an entry in\n// `match-paths.json`, its matched path is returned\n//\n// E.g. `/foo?bar=far` => `/foo`\n//\n// Or if `match-paths.json` contains `{ \"/foo*\": \"/page1\", ...}`, then\n// `/foo?bar=far` => `/page1`\nexport const findPath = rawPathname => {\n  const trimmedPathname = trimPathname(absolutify(rawPathname))\n  if (pathCache.has(trimmedPathname)) {\n    return pathCache.get(trimmedPathname)\n  }\n\n  let foundPath = findMatchPath(trimmedPathname)\n\n  if (!foundPath) {\n    foundPath = cleanPath(rawPathname)\n  }\n\n  pathCache.set(trimmedPathname, foundPath)\n\n  return foundPath\n}\n\n/**\n * Clean a url and converts /index.html => /\n * E.g. `/foo?bar=far` => `/foo`\n *\n * @param {string} rawPathname A raw pathname\n * @return {string}\n */\nexport const cleanPath = rawPathname => {\n  const trimmedPathname = trimPathname(absolutify(rawPathname))\n\n  let foundPath = trimmedPathname\n  if (foundPath === `/index.html`) {\n    foundPath = `/`\n  }\n\n  foundPath = normalizePagePath(foundPath)\n\n  return foundPath\n}\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Parse mpeg2 transport stream packets to extract basic timing information\n */\n'use strict';\n\nvar StreamTypes = require('../m2ts/stream-types.js');\n\nvar handleRollover = require('../m2ts/timestamp-rollover-stream.js').handleRollover;\n\nvar probe = {};\nprobe.ts = require('../m2ts/probe.js');\nprobe.aac = require('../aac/utils.js');\n\nvar ONE_SECOND_IN_TS = require('../utils/clock').ONE_SECOND_IN_TS;\n\nvar MP2T_PACKET_LENGTH = 188,\n    // bytes\nSYNC_BYTE = 0x47;\n/**\n * walks through segment data looking for pat and pmt packets to parse out\n * program map table information\n */\n\nvar parsePsi_ = function parsePsi_(bytes, pmt) {\n  var startIndex = 0,\n      endIndex = MP2T_PACKET_LENGTH,\n      packet,\n      type;\n\n  while (endIndex < bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pat':\n          if (!pmt.pid) {\n            pmt.pid = probe.ts.parsePat(packet);\n          }\n\n          break;\n\n        case 'pmt':\n          if (!pmt.table) {\n            pmt.table = probe.ts.parsePmt(packet);\n          }\n\n          break;\n\n        default:\n          break;\n      } // Found the pat and pmt, we can stop walking the segment\n\n\n      if (pmt.pid && pmt.table) {\n        return;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex++;\n    endIndex++;\n  }\n};\n/**\n * walks through the segment data from the start and end to get timing information\n * for the first and last audio pes packets\n */\n\n\nvar parseAudioPes_ = function parseAudioPes_(bytes, pmt, result) {\n  var startIndex = 0,\n      endIndex = MP2T_PACKET_LENGTH,\n      packet,\n      type,\n      pesType,\n      pusi,\n      parsed;\n  var endLoop = false; // Start walking from start of segment to get first audio packet\n\n  while (endIndex <= bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'audio' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n\n            if (parsed) {\n              parsed.type = 'audio';\n              result.audio.push(parsed);\n              endLoop = true;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex++;\n    endIndex++;\n  } // Start walking from end of segment to get last audio packet\n\n\n  endIndex = bytes.byteLength;\n  startIndex = endIndex - MP2T_PACKET_LENGTH;\n  endLoop = false;\n\n  while (startIndex >= 0) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'audio' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n\n            if (parsed) {\n              parsed.type = 'audio';\n              result.audio.push(parsed);\n              endLoop = true;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex -= MP2T_PACKET_LENGTH;\n      endIndex -= MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex--;\n    endIndex--;\n  }\n};\n/**\n * walks through the segment data from the start and end to get timing information\n * for the first and last video pes packets as well as timing information for the first\n * key frame.\n */\n\n\nvar parseVideoPes_ = function parseVideoPes_(bytes, pmt, result) {\n  var startIndex = 0,\n      endIndex = MP2T_PACKET_LENGTH,\n      packet,\n      type,\n      pesType,\n      pusi,\n      parsed,\n      frame,\n      i,\n      pes;\n  var endLoop = false;\n  var currentFrame = {\n    data: [],\n    size: 0\n  }; // Start walking from start of segment to get first video packet\n\n  while (endIndex < bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'video') {\n            if (pusi && !endLoop) {\n              parsed = probe.ts.parsePesTime(packet);\n\n              if (parsed) {\n                parsed.type = 'video';\n                result.video.push(parsed);\n                endLoop = true;\n              }\n            }\n\n            if (!result.firstKeyFrame) {\n              if (pusi) {\n                if (currentFrame.size !== 0) {\n                  frame = new Uint8Array(currentFrame.size);\n                  i = 0;\n\n                  while (currentFrame.data.length) {\n                    pes = currentFrame.data.shift();\n                    frame.set(pes, i);\n                    i += pes.byteLength;\n                  }\n\n                  if (probe.ts.videoPacketContainsKeyFrame(frame)) {\n                    var firstKeyFrame = probe.ts.parsePesTime(frame); // PTS/DTS may not be available. Simply *not* setting\n                    // the keyframe seems to work fine with HLS playback\n                    // and definitely preferable to a crash with TypeError...\n\n                    if (firstKeyFrame) {\n                      result.firstKeyFrame = firstKeyFrame;\n                      result.firstKeyFrame.type = 'video';\n                    } else {\n                      // eslint-disable-next-line\n                      console.warn('Failed to extract PTS/DTS from PES at first keyframe. ' + 'This could be an unusual TS segment, or else mux.js did not ' + 'parse your TS segment correctly. If you know your TS ' + 'segments do contain PTS/DTS on keyframes please file a bug ' + 'report! You can try ffprobe to double check for yourself.');\n                    }\n                  }\n\n                  currentFrame.size = 0;\n                }\n              }\n\n              currentFrame.data.push(packet);\n              currentFrame.size += packet.byteLength;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop && result.firstKeyFrame) {\n        break;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex++;\n    endIndex++;\n  } // Start walking from end of segment to get last video packet\n\n\n  endIndex = bytes.byteLength;\n  startIndex = endIndex - MP2T_PACKET_LENGTH;\n  endLoop = false;\n\n  while (startIndex >= 0) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'video' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n\n            if (parsed) {\n              parsed.type = 'video';\n              result.video.push(parsed);\n              endLoop = true;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex -= MP2T_PACKET_LENGTH;\n      endIndex -= MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex--;\n    endIndex--;\n  }\n};\n/**\n * Adjusts the timestamp information for the segment to account for\n * rollover and convert to seconds based on pes packet timescale (90khz clock)\n */\n\n\nvar adjustTimestamp_ = function adjustTimestamp_(segmentInfo, baseTimestamp) {\n  if (segmentInfo.audio && segmentInfo.audio.length) {\n    var audioBaseTimestamp = baseTimestamp;\n\n    if (typeof audioBaseTimestamp === 'undefined') {\n      audioBaseTimestamp = segmentInfo.audio[0].dts;\n    }\n\n    segmentInfo.audio.forEach(function (info) {\n      info.dts = handleRollover(info.dts, audioBaseTimestamp);\n      info.pts = handleRollover(info.pts, audioBaseTimestamp); // time in seconds\n\n      info.dtsTime = info.dts / ONE_SECOND_IN_TS;\n      info.ptsTime = info.pts / ONE_SECOND_IN_TS;\n    });\n  }\n\n  if (segmentInfo.video && segmentInfo.video.length) {\n    var videoBaseTimestamp = baseTimestamp;\n\n    if (typeof videoBaseTimestamp === 'undefined') {\n      videoBaseTimestamp = segmentInfo.video[0].dts;\n    }\n\n    segmentInfo.video.forEach(function (info) {\n      info.dts = handleRollover(info.dts, videoBaseTimestamp);\n      info.pts = handleRollover(info.pts, videoBaseTimestamp); // time in seconds\n\n      info.dtsTime = info.dts / ONE_SECOND_IN_TS;\n      info.ptsTime = info.pts / ONE_SECOND_IN_TS;\n    });\n\n    if (segmentInfo.firstKeyFrame) {\n      var frame = segmentInfo.firstKeyFrame;\n      frame.dts = handleRollover(frame.dts, videoBaseTimestamp);\n      frame.pts = handleRollover(frame.pts, videoBaseTimestamp); // time in seconds\n\n      frame.dtsTime = frame.dts / ONE_SECOND_IN_TS;\n      frame.ptsTime = frame.dts / ONE_SECOND_IN_TS;\n    }\n  }\n};\n/**\n * inspects the aac data stream for start and end time information\n */\n\n\nvar inspectAac_ = function inspectAac_(bytes) {\n  var endLoop = false,\n      audioCount = 0,\n      sampleRate = null,\n      timestamp = null,\n      frameSize = 0,\n      byteIndex = 0,\n      packet;\n\n  while (bytes.length - byteIndex >= 3) {\n    var type = probe.aac.parseType(bytes, byteIndex);\n\n    switch (type) {\n      case 'timed-metadata':\n        // Exit early because we don't have enough to parse\n        // the ID3 tag header\n        if (bytes.length - byteIndex < 10) {\n          endLoop = true;\n          break;\n        }\n\n        frameSize = probe.aac.parseId3TagSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n\n        if (frameSize > bytes.length) {\n          endLoop = true;\n          break;\n        }\n\n        if (timestamp === null) {\n          packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n          timestamp = probe.aac.parseAacTimestamp(packet);\n        }\n\n        byteIndex += frameSize;\n        break;\n\n      case 'audio':\n        // Exit early because we don't have enough to parse\n        // the ADTS frame header\n        if (bytes.length - byteIndex < 7) {\n          endLoop = true;\n          break;\n        }\n\n        frameSize = probe.aac.parseAdtsSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n\n        if (frameSize > bytes.length) {\n          endLoop = true;\n          break;\n        }\n\n        if (sampleRate === null) {\n          packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n          sampleRate = probe.aac.parseSampleRate(packet);\n        }\n\n        audioCount++;\n        byteIndex += frameSize;\n        break;\n\n      default:\n        byteIndex++;\n        break;\n    }\n\n    if (endLoop) {\n      return null;\n    }\n  }\n\n  if (sampleRate === null || timestamp === null) {\n    return null;\n  }\n\n  var audioTimescale = ONE_SECOND_IN_TS / sampleRate;\n  var result = {\n    audio: [{\n      type: 'audio',\n      dts: timestamp,\n      pts: timestamp\n    }, {\n      type: 'audio',\n      dts: timestamp + audioCount * 1024 * audioTimescale,\n      pts: timestamp + audioCount * 1024 * audioTimescale\n    }]\n  };\n  return result;\n};\n/**\n * inspects the transport stream segment data for start and end time information\n * of the audio and video tracks (when present) as well as the first key frame's\n * start time.\n */\n\n\nvar inspectTs_ = function inspectTs_(bytes) {\n  var pmt = {\n    pid: null,\n    table: null\n  };\n  var result = {};\n  parsePsi_(bytes, pmt);\n\n  for (var pid in pmt.table) {\n    if (pmt.table.hasOwnProperty(pid)) {\n      var type = pmt.table[pid];\n\n      switch (type) {\n        case StreamTypes.H264_STREAM_TYPE:\n          result.video = [];\n          parseVideoPes_(bytes, pmt, result);\n\n          if (result.video.length === 0) {\n            delete result.video;\n          }\n\n          break;\n\n        case StreamTypes.ADTS_STREAM_TYPE:\n          result.audio = [];\n          parseAudioPes_(bytes, pmt, result);\n\n          if (result.audio.length === 0) {\n            delete result.audio;\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n\n  return result;\n};\n/**\n * Inspects segment byte data and returns an object with start and end timing information\n *\n * @param {Uint8Array} bytes The segment byte data\n * @param {Number} baseTimestamp Relative reference timestamp used when adjusting frame\n *  timestamps for rollover. This value must be in 90khz clock.\n * @return {Object} Object containing start and end frame timing info of segment.\n */\n\n\nvar inspect = function inspect(bytes, baseTimestamp) {\n  var isAacData = probe.aac.isLikelyAacData(bytes);\n  var result;\n\n  if (isAacData) {\n    result = inspectAac_(bytes);\n  } else {\n    result = inspectTs_(bytes);\n  }\n\n  if (!result || !result.audio && !result.video) {\n    return null;\n  }\n\n  adjustTimestamp_(result, baseTimestamp);\n  return result;\n};\n\nmodule.exports = {\n  inspect: inspect,\n  parseAudioPes_: parseAudioPes_\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.useScrollRestoration = useScrollRestoration;\n\nvar _scrollHandler = require(\"./scroll-handler\");\n\nvar _react = require(\"react\");\n\nvar _router = require(\"@reach/router\");\n\nfunction useScrollRestoration(identifier) {\n  var location = (0, _router.useLocation)();\n  var state = (0, _react.useContext)(_scrollHandler.ScrollContext);\n  var ref = (0, _react.useRef)();\n  (0, _react.useLayoutEffect)(function () {\n    if (ref.current) {\n      var position = state.read(location, identifier);\n      ref.current.scrollTo(0, position || 0);\n    }\n  }, []);\n  return {\n    ref: ref,\n    onScroll: function onScroll() {\n      if (ref.current) {\n        state.save(location, identifier, ref.current.scrollTop);\n      }\n    }\n  };\n}","// Source: http://jsfiddle.net/vWx8V/\n// http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes\n\n/**\n * Conenience method returns corresponding value for given keyName or keyCode.\n *\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Mixed}\n * @api public\n */\nfunction keyCode(searchInput) {\n  // Keyboard Events\n  if (searchInput && 'object' === typeof searchInput) {\n    var hasKeyCode = searchInput.which || searchInput.keyCode || searchInput.charCode;\n    if (hasKeyCode) searchInput = hasKeyCode;\n  } // Numbers\n\n\n  if ('number' === typeof searchInput) return names[searchInput]; // Everything else (cast to string)\n\n  var search = String(searchInput); // check codes\n\n  var foundNamedKey = codes[search.toLowerCase()];\n  if (foundNamedKey) return foundNamedKey; // check aliases\n\n  var foundNamedKey = aliases[search.toLowerCase()];\n  if (foundNamedKey) return foundNamedKey; // weird character?\n\n  if (search.length === 1) return search.charCodeAt(0);\n  return undefined;\n}\n/**\n * Compares a keyboard event with a given keyCode or keyName.\n *\n * @param {Event} event Keyboard event that should be tested\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Boolean}\n * @api public\n */\n\n\nkeyCode.isEventKey = function isEventKey(event, nameOrCode) {\n  if (event && 'object' === typeof event) {\n    var keyCode = event.which || event.keyCode || event.charCode;\n\n    if (keyCode === null || keyCode === undefined) {\n      return false;\n    }\n\n    if (typeof nameOrCode === 'string') {\n      // check codes\n      var foundNamedKey = codes[nameOrCode.toLowerCase()];\n\n      if (foundNamedKey) {\n        return foundNamedKey === keyCode;\n      } // check aliases\n\n\n      var foundNamedKey = aliases[nameOrCode.toLowerCase()];\n\n      if (foundNamedKey) {\n        return foundNamedKey === keyCode;\n      }\n    } else if (typeof nameOrCode === 'number') {\n      return nameOrCode === keyCode;\n    }\n\n    return false;\n  }\n};\n\nexports = module.exports = keyCode;\n/**\n * Get by name\n *\n *   exports.code['enter'] // => 13\n */\n\nvar codes = exports.code = exports.codes = {\n  'backspace': 8,\n  'tab': 9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl': 17,\n  'alt': 18,\n  'pause/break': 19,\n  'caps lock': 20,\n  'esc': 27,\n  'space': 32,\n  'page up': 33,\n  'page down': 34,\n  'end': 35,\n  'home': 36,\n  'left': 37,\n  'up': 38,\n  'right': 39,\n  'down': 40,\n  'insert': 45,\n  'delete': 46,\n  'command': 91,\n  'left command': 91,\n  'right command': 93,\n  'numpad *': 106,\n  'numpad +': 107,\n  'numpad -': 109,\n  'numpad .': 110,\n  'numpad /': 111,\n  'num lock': 144,\n  'scroll lock': 145,\n  'my computer': 182,\n  'my calculator': 183,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  \"'\": 222\n}; // Helper aliases\n\nvar aliases = exports.aliases = {\n  'windows': 91,\n  '⇧': 16,\n  '⌥': 18,\n  '⌃': 17,\n  '⌘': 91,\n  'ctl': 17,\n  'control': 17,\n  'option': 18,\n  'pause': 19,\n  'break': 19,\n  'caps': 20,\n  'return': 13,\n  'escape': 27,\n  'spc': 32,\n  'spacebar': 32,\n  'pgup': 33,\n  'pgdn': 34,\n  'ins': 45,\n  'del': 46,\n  'cmd': 91\n};\n/*!\n * Programatically add the following\n */\n// lower case chars\n\nfor (i = 97; i < 123; i++) {\n  codes[String.fromCharCode(i)] = i - 32;\n} // numbers\n\n\nfor (var i = 48; i < 58; i++) {\n  codes[i - 48] = i;\n} // function keys\n\n\nfor (i = 1; i < 13; i++) {\n  codes['f' + i] = i + 111;\n} // numpad keys\n\n\nfor (i = 0; i < 10; i++) {\n  codes['numpad ' + i] = i + 96;\n}\n/**\n * Get by code\n *\n *   exports.name[13] // => 'Enter'\n */\n\n\nvar names = exports.names = exports.title = {}; // title for backward compat\n// Create reverse mapping\n\nfor (i in codes) {\n  names[codes[i]] = i;\n} // Add aliases\n\n\nfor (var alias in aliases) {\n  codes[alias] = aliases[alias];\n}","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};","import videojs from \"video.js\"\nconst Plugin = videojs.getPlugin(\"plugin\")\nconst VideoJsMenuButton = videojs.getComponent(\"MenuButton\")\nconst VideoJsMenu = videojs.getComponent(\"Menu\")\nconst VideoJsComponent = videojs.getComponent(\"Component\")\nconst VideoJsMenuItem = videojs.getComponent(\"MenuItem\")\nconst VideoJsDom = videojs.dom\n\nconst __LS_SUBTITLE_LANGUAGE__ = \"__LS_SUBTITLE_LANGUAGE__\"\n\nclass ConcreteButton extends VideoJsMenuButton {\n  createMenu() {\n    const menu = new VideoJsMenu(this.player, { menuButton: this })\n\n    if (this.options_.title) {\n      const titleEl = VideoJsDom.createEl(\"li\", {\n        className: \"vjs-menu-title\",\n        innerHTML: this.options_.title,\n        tabIndex: -1,\n      })\n\n      const titleComponent = new VideoJsComponent(this.player, {\n        el: titleEl,\n      })\n\n      menu.addItem(titleComponent)\n    }\n\n    this.items = this.createItems()\n\n    if (this.items) {\n      for (let i = 0; i < this.items.length; i++) {\n        menu.addItem(this.items[i])\n      }\n    }\n\n    return menu\n  }\n}\n\nclass ConcreteMenuItem extends VideoJsMenuItem {\n  /**\n   *\n   * @param {*} player\n   * @param {*} item\n   * @param {ConcreteButton} subtitleButton\n   * @param {ASSSubtitlesSwitcher} plugin\n   */\n  constructor(player, item, subtitleButton, plugin) {\n    super(player, {\n      label: item.label,\n      selectable: true,\n      selected: item.selected || false,\n    })\n\n    this.item = item\n    this.subtitleButton = subtitleButton\n    this.plugin = plugin\n  }\n\n  handleClick() {\n    for (let i = 0; i < this.subtitleButton.items.length; i++) {\n      this.subtitleButton.items[i].selected(false)\n    }\n\n    this.plugin.setCurrentSubtitle(this.item)\n    this.selected(true)\n  }\n}\n\nclass ASSSubtitlesSwitcher extends Plugin {\n  constructor(player, options) {\n    super(player, options)\n    this.settings = {}\n    this.subtitles = options.subtitles\n    this.subtitleItems = []\n\n    this.setInitialSubtitle()\n\n    // this.currentSubtitle = this.subtitles.find(subtitle => subtitle.selected)\n    this.subtitleButton = this.createSubtitleButton(player)\n\n    // Whenever the player emits a playing or paused event, we update the\n    // state if necessary.\n    this.on(player, [\"playing\", \"paused\"], this.updateState)\n    this.on(\"statechanged\", this.logState)\n  }\n\n  dispose() {\n    super.dispose()\n    videojs.log(\"the advanced plugin is being disposed\")\n  }\n\n  setInitialSubtitle() {\n    const languageCode = window.localStorage.getItem(__LS_SUBTITLE_LANGUAGE__)\n\n    let selectedSubtitle\n\n    if (languageCode) {\n      selectedSubtitle = this.subtitles.find(\n        subtitle => subtitle.value === languageCode\n      )\n\n      // if (selectedSubtitle) {\n      //   this.currentSubtitle = selectedSubtitle\n      // } else {\n      //   selectedSubtitle = this.subtitles.find(\n      //     subtitle => subtitle.value === \"song\"\n      //   )\n      // }\n    } else {\n      selectedSubtitle = this.subtitles.find(subtitle => subtitle.selected)\n    }\n\n    if (selectedSubtitle) {\n      this.currentSubtitle = selectedSubtitle\n\n      this.subtitles.forEach(subtitle => {\n        subtitle.selected = subtitle.value === selectedSubtitle.value\n      })\n\n      window.localStorage.setItem(\n        __LS_SUBTITLE_LANGUAGE__,\n        selectedSubtitle.value\n      )\n    } else {\n      selectedSubtitle = this.subtitles.find(\n        subtitle => subtitle.value === \"song\"\n      )\n\n      this.currentSubtitle = selectedSubtitle\n\n      this.subtitles.forEach(subtitle => {\n        subtitle.selected = subtitle.value === selectedSubtitle.value\n      })\n    }\n\n    // this.currentSubtitle = selectedSubtitle\n\n    // window.localStorage.setItem(\n    //   __LS_SUBTITLE_LANGUAGE__,\n    //   selectedSubtitle.value\n    // )\n  }\n\n  updateState() {\n    this.setState({ playing: !this.player.paused() })\n  }\n\n  logState(changed) {\n    videojs.log(\n      `the player is now ${this.state.playing ? \"playing\" : \"paused\"}`\n    )\n  }\n\n  createSubtitleButton() {\n    this.subtitleButton = new ConcreteButton(this.player)\n\n    const placementIndex = this.player.controlBar.children().length - 2\n    const concreteButtonInstance = this.player.controlBar.addChild(\n      this.subtitleButton,\n      { componentClass: \"subtitleSelector\" },\n      this.settings.placementIndex || placementIndex\n    )\n\n    for (let i = 0; i < this.subtitles.length; ++i) {\n      if (\n        !this.subtitleItems.filter(\n          _existingItem =>\n            _existingItem.item &&\n            _existingItem.item.value === this.subtitles[i].value // TODO: this.subtitles[i].value?\n        ).length\n      ) {\n        const levelItem = this.getSubtitleMenuItem({\n          label: this.subtitles[i].label,\n          value: this.subtitles[i].value,\n          src: this.subtitles[i].src,\n          selected: this.subtitles[i].selected,\n        })\n\n        this.subtitleItems.push(levelItem)\n      }\n    }\n\n    concreteButtonInstance.addClass(\"vjs-subtitle-selector\")\n    concreteButtonInstance.el_.style.display = \"block\"\n    concreteButtonInstance.el_.style.width = \"auto\"\n\n    if (!this.settings.displayCurrentSubtitle) {\n      const icon = ` ${this.settings.vjsIconClass || \"vjs-icon-subtitles\"}`\n\n      concreteButtonInstance.menuButton_.$(\n        \".vjs-icon-placeholder\"\n      ).className += icon\n    } else {\n      this.setButtonInnerText(this.getCurrentSubtitle().label)\n    }\n\n    concreteButtonInstance.removeClass(\"vjs-hidden\")\n\n    if (this.subtitleButton) {\n      // TODO: Check if this is necesary\n      this.subtitleButton.createItems = () => this.subtitleItems\n      this.subtitleButton.update()\n    }\n  }\n\n  setButtonInnerText(text) {\n    this.subtitleButton.menuButton_.$(\".vjs-icon-placeholder\").innerHTML = text\n  }\n\n  getSubtitleMenuItem(item) {\n    return new ConcreteMenuItem(this.player, item, this.subtitleButton, this)\n  }\n\n  setCurrentSubtitle(subtitle) {\n    this.currentSubtitle = subtitle\n    this.player.Octopus().setTrackByUrl(subtitle.src)\n\n    window.localStorage.setItem(\n      __LS_SUBTITLE_LANGUAGE__,\n      this.currentSubtitle.value\n    )\n  }\n\n  getCurrentSubtitle() {\n    return this.currentSubtitle\n  }\n}\n\nexport default ASSSubtitlesSwitcher\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","import mitt from \"mitt\"\n\nconst emitter = mitt()\nexport default emitter\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","\"use strict\";\n\nexports.__esModule = true;\nexports.useScrollRestoration = exports.ScrollContainer = exports.ScrollContext = void 0;\n\nvar _scrollHandler = require(\"./scroll-handler\");\n\nexports.ScrollContext = _scrollHandler.ScrollHandler;\n\nvar _scrollContainer = require(\"./scroll-container\");\n\nexports.ScrollContainer = _scrollContainer.ScrollContainer;\n\nvar _useScrollRestoration = require(\"./use-scroll-restoration\");\n\nexports.useScrollRestoration = _useScrollRestoration.useScrollRestoration;","var topLevel = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : {};\n\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n  doccy = document;\n} else {\n  doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n  if (!doccy) {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n  }\n}\n\nmodule.exports = doccy;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","exports.polyfill = Component => Component\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduceRight = require('../internals/array-reduce').right;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduceRight');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduceRight` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduceRight(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar getLocation = function getLocation(source) {\n  var _source$location = source.location,\n      search = _source$location.search,\n      hash = _source$location.hash,\n      href = _source$location.href,\n      origin = _source$location.origin,\n      protocol = _source$location.protocol,\n      host = _source$location.host,\n      hostname = _source$location.hostname,\n      port = _source$location.port;\n  var pathname = source.location.pathname;\n\n\n  if (!pathname && href && canUseDOM) {\n    var url = new URL(href);\n    pathname = url.pathname;\n  }\n\n  return {\n    pathname: encodeURI(decodeURI(pathname)),\n    search: search,\n    hash: hash,\n    href: href,\n    origin: origin,\n    protocol: protocol,\n    host: host,\n    hostname: hostname,\n    port: port,\n    state: source.history.state,\n    key: source.history.state && source.history.state.key || \"initial\"\n  };\n};\n\nvar createHistory = function createHistory(source, options) {\n  var listeners = [];\n  var location = getLocation(source);\n  var transitioning = false;\n  var resolveTransition = function resolveTransition() {};\n\n  return {\n    get location() {\n      return location;\n    },\n\n    get transitioning() {\n      return transitioning;\n    },\n\n    _onTransitionComplete: function _onTransitionComplete() {\n      transitioning = false;\n      resolveTransition();\n    },\n    listen: function listen(listener) {\n      listeners.push(listener);\n\n      var popstateListener = function popstateListener() {\n        location = getLocation(source);\n        listener({ location: location, action: \"POP\" });\n      };\n\n      source.addEventListener(\"popstate\", popstateListener);\n\n      return function () {\n        source.removeEventListener(\"popstate\", popstateListener);\n        listeners = listeners.filter(function (fn) {\n          return fn !== listener;\n        });\n      };\n    },\n    navigate: function navigate(to) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          state = _ref.state,\n          _ref$replace = _ref.replace,\n          replace = _ref$replace === undefined ? false : _ref$replace;\n\n      if (typeof to === \"number\") {\n        source.history.go(to);\n      } else {\n        state = _extends({}, state, { key: Date.now() + \"\" });\n        // try...catch iOS Safari limits to 100 pushState calls\n        try {\n          if (transitioning || replace) {\n            source.history.replaceState(state, null, to);\n          } else {\n            source.history.pushState(state, null, to);\n          }\n        } catch (e) {\n          source.location[replace ? \"replace\" : \"assign\"](to);\n        }\n      }\n\n      location = getLocation(source);\n      transitioning = true;\n      var transition = new Promise(function (res) {\n        return resolveTransition = res;\n      });\n      listeners.forEach(function (listener) {\n        return listener({ location: location, action: \"PUSH\" });\n      });\n      return transition;\n    }\n  };\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// Stores history entries in memory for testing or other platforms like Native\nvar createMemorySource = function createMemorySource() {\n  var initialPath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"/\";\n\n  var searchIndex = initialPath.indexOf(\"?\");\n  var initialLocation = {\n    pathname: searchIndex > -1 ? initialPath.substr(0, searchIndex) : initialPath,\n    search: searchIndex > -1 ? initialPath.substr(searchIndex) : \"\"\n  };\n  var index = 0;\n  var stack = [initialLocation];\n  var states = [null];\n\n  return {\n    get location() {\n      return stack[index];\n    },\n    addEventListener: function addEventListener(name, fn) {},\n    removeEventListener: function removeEventListener(name, fn) {},\n\n    history: {\n      get entries() {\n        return stack;\n      },\n      get index() {\n        return index;\n      },\n      get state() {\n        return states[index];\n      },\n      pushState: function pushState(state, _, uri) {\n        var _uri$split = uri.split(\"?\"),\n            pathname = _uri$split[0],\n            _uri$split$ = _uri$split[1],\n            search = _uri$split$ === undefined ? \"\" : _uri$split$;\n\n        index++;\n        stack.push({ pathname: pathname, search: search.length ? \"?\" + search : search });\n        states.push(state);\n      },\n      replaceState: function replaceState(state, _, uri) {\n        var _uri$split2 = uri.split(\"?\"),\n            pathname = _uri$split2[0],\n            _uri$split2$ = _uri$split2[1],\n            search = _uri$split2$ === undefined ? \"\" : _uri$split2$;\n\n        stack[index] = { pathname: pathname, search: search };\n        states[index] = state;\n      },\n      go: function go(to) {\n        var newIndex = index + to;\n\n        if (newIndex < 0 || newIndex > states.length - 1) {\n          return;\n        }\n\n        index = newIndex;\n      }\n    }\n  };\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// global history - uses window.history as the source if available, otherwise a\n// memory history\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nvar getSource = function getSource() {\n  return canUseDOM ? window : createMemorySource();\n};\n\nvar globalHistory = createHistory(getSource());\nvar navigate = globalHistory.navigate;\n\n////////////////////////////////////////////////////////////////////////////////\n\nexport { globalHistory, navigate, createHistory, createMemorySource };","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\n/**\n * Get a manifest filename depending on localized pathname\n *\n * @param {string} pathname\n * @param {Array<{start_url: string, lang: string}>} localizedManifests\n * @return string\n */\nvar _default = function _default(pathname, localizedManifests) {\n  var defaultFilename = \"manifest.webmanifest\";\n\n  if (!Array.isArray(localizedManifests)) {\n    return defaultFilename;\n  }\n\n  var localizedManifest = localizedManifests.find(function (app) {\n    return pathname.startsWith(app.start_url);\n  });\n\n  if (!localizedManifest) {\n    return defaultFilename;\n  }\n\n  return \"manifest_\" + localizedManifest.lang + \".webmanifest\";\n};\n\nexports.default = _default;","var SubtitlesOctopus = function SubtitlesOctopus(options) {\n  var supportsWebAssembly = false;\n\n  try {\n    if (typeof WebAssembly === \"object\" && typeof WebAssembly.instantiate === \"function\") {\n      var _module = new WebAssembly.Module(Uint8Array.of(0x0, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00));\n\n      if (_module instanceof WebAssembly.Module) supportsWebAssembly = new WebAssembly.Instance(_module) instanceof WebAssembly.Instance;\n    }\n  } catch (e) {}\n\n  console.log(\"WebAssembly support detected: \" + (supportsWebAssembly ? \"yes\" : \"no\"));\n  var self = this;\n  self.canvas = options.canvas; // HTML canvas element (optional if video specified)\n\n  self.lossyRender = options.lossyRender; // Speedup render for heavy subs\n\n  self.isOurCanvas = false; // (internal) we created canvas and manage it\n\n  self.video = options.video; // HTML video element (optional if canvas specified)\n\n  self.canvasParent = null; // (internal) HTML canvas parent element\n\n  self.fonts = options.fonts || []; // Array with links to fonts used in sub (optional)\n\n  self.availableFonts = options.availableFonts || []; // Object with all available fonts (optional). Key is font name in lower case, value is link: {\"arial\": \"/font1.ttf\"}\n\n  self.onReadyEvent = options.onReady; // Function called when SubtitlesOctopus is ready (optional)\n\n  if (supportsWebAssembly) {\n    self.workerUrl = options.workerUrl || 'subtitles-octopus-worker.js'; // Link to WebAssembly worker\n  } else {\n    self.workerUrl = options.legacyWorkerUrl || 'subtitles-octopus-worker-legacy.js'; // Link to legacy worker\n  }\n\n  self.subUrl = options.subUrl; // Link to sub file (optional if subContent specified)\n\n  self.subContent = options.subContent || null; // Sub content (optional if subUrl specified)\n\n  self.onErrorEvent = options.onError; // Function called in case of critical error meaning sub wouldn't be shown and you should use alternative method (for instance it occurs if browser doesn't support web workers).\n\n  self.debug = options.debug || false; // When debug enabled, some performance info printed in console.\n\n  self.lastRenderTime = 0; // (internal) Last time we got some frame from worker\n\n  self.pixelRatio = window.devicePixelRatio || 1; // (internal) Device pixel ratio (for high dpi devices)\n\n  self.timeOffset = options.timeOffset || 0; // Time offset would be applied to currentTime from video (option)\n\n  self.hasAlphaBug = false;\n\n  (function () {\n    if (typeof ImageData.prototype.constructor === 'function') {\n      try {\n        // try actually calling ImageData, as on some browsers it's reported\n        // as existing but calling it errors out as \"TypeError: Illegal constructor\"\n        new window.ImageData(new Uint8ClampedArray([0, 0, 0, 0]), 1, 1);\n        return;\n      } catch (e) {\n        console.log(\"detected that ImageData is not constructable despite browser saying so\");\n      }\n    }\n\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n\n    window.ImageData = function () {\n      var i = 0;\n\n      if (arguments[0] instanceof Uint8ClampedArray) {\n        var data = arguments[i++];\n      }\n\n      var width = arguments[i++];\n      var height = arguments[i];\n      var imageData = ctx.createImageData(width, height);\n      if (data) imageData.data.set(data);\n      return imageData;\n    };\n  })();\n\n  self.workerError = function (error) {\n    console.error('Worker error: ', error);\n\n    if (self.onErrorEvent) {\n      self.onErrorEvent(error);\n    }\n\n    if (!self.debug) {\n      self.dispose();\n      throw new Error('Worker error: ' + error);\n    }\n  }; // Not tested for repeated usage yet\n\n\n  self.init = function () {\n    if (!window.Worker) {\n      self.workerError('worker not supported');\n      return;\n    } // Worker\n\n\n    if (!self.worker) {\n      self.worker = new Worker(self.workerUrl);\n      self.worker.onmessage = self.onWorkerMessage;\n      self.worker.onerror = self.workerError;\n    }\n\n    self.workerActive = false;\n    self.createCanvas();\n    self.setVideo(options.video);\n    self.setSubUrl(options.subUrl);\n    self.worker.postMessage({\n      target: 'worker-init',\n      width: self.canvas.width,\n      height: self.canvas.height,\n      URL: document.URL,\n      currentScript: self.workerUrl,\n      preMain: true,\n      fastRender: self.lossyRender,\n      subUrl: self.subUrl,\n      subContent: self.subContent,\n      fonts: self.fonts,\n      availableFonts: self.availableFonts,\n      debug: self.debug\n    });\n  };\n\n  self.createCanvas = function () {\n    if (!self.canvas) {\n      if (self.video) {\n        self.isOurCanvas = true;\n        self.canvas = document.createElement('canvas');\n        self.canvas.className = 'libassjs-canvas';\n        self.canvas.style.display = 'none';\n        self.canvasParent = document.createElement('div');\n        self.canvasParent.className = 'libassjs-canvas-parent';\n        self.canvasParent.appendChild(self.canvas);\n\n        if (self.video.nextSibling) {\n          self.video.parentNode.insertBefore(self.canvasParent, self.video.nextSibling);\n        } else {\n          self.video.parentNode.appendChild(self.canvasParent);\n        }\n      } else {\n        if (!self.canvas) {\n          self.workerError('Don\\'t know where to render: you should give video or canvas in options.');\n        }\n      }\n    }\n\n    self.ctx = self.canvas.getContext('2d');\n    self.bufferCanvas = document.createElement('canvas');\n    self.bufferCanvasCtx = self.bufferCanvas.getContext('2d'); // test for alpha bug, where e.g. WebKit can render a transparent pixel\n    // (with alpha == 0) as non-black which then leads to visual artifacts\n\n    self.bufferCanvas.width = 1;\n    self.bufferCanvas.height = 1;\n    var testBuf = new Uint8ClampedArray([0, 255, 0, 0]);\n    var testImage = new ImageData(testBuf, 1, 1);\n    self.bufferCanvasCtx.clearRect(0, 0, 1, 1);\n    self.ctx.clearRect(0, 0, 1, 1);\n    var prePut = self.ctx.getImageData(0, 0, 1, 1).data;\n    self.bufferCanvasCtx.putImageData(testImage, 0, 0);\n    self.ctx.drawImage(self.bufferCanvas, 0, 0);\n    var postPut = self.ctx.getImageData(0, 0, 1, 1).data;\n    self.hasAlphaBug = prePut[1] != postPut[1];\n\n    if (self.hasAlphaBug) {\n      console.log(\"Detected a browser having issue with transparent pixels, applying workaround\");\n    }\n  };\n\n  self.setVideo = function (video) {\n    self.video = video;\n\n    if (self.video) {\n      var timeupdate = function timeupdate() {\n        self.setCurrentTime(video.currentTime + self.timeOffset);\n      };\n\n      self.video.addEventListener(\"timeupdate\", timeupdate, false);\n      self.video.addEventListener(\"playing\", function () {\n        self.setIsPaused(false, video.currentTime + self.timeOffset);\n      }, false);\n      self.video.addEventListener(\"pause\", function () {\n        self.setIsPaused(true, video.currentTime + self.timeOffset);\n      }, false);\n      self.video.addEventListener(\"seeking\", function () {\n        self.video.removeEventListener(\"timeupdate\", timeupdate);\n      }, false);\n      self.video.addEventListener(\"seeked\", function () {\n        self.video.addEventListener(\"timeupdate\", timeupdate, false);\n        self.setCurrentTime(video.currentTime + self.timeOffset);\n      }, false);\n      self.video.addEventListener(\"ratechange\", function () {\n        self.setRate(video.playbackRate);\n      }, false);\n      self.video.addEventListener(\"timeupdate\", function () {\n        self.setCurrentTime(video.currentTime + self.timeOffset);\n      }, false);\n      self.video.addEventListener(\"waiting\", function () {\n        self.setIsPaused(true, video.currentTime + self.timeOffset);\n      }, false);\n      document.addEventListener(\"fullscreenchange\", self.resizeWithTimeout, false);\n      document.addEventListener(\"mozfullscreenchange\", self.resizeWithTimeout, false);\n      document.addEventListener(\"webkitfullscreenchange\", self.resizeWithTimeout, false);\n      document.addEventListener(\"msfullscreenchange\", self.resizeWithTimeout, false);\n      window.addEventListener(\"resize\", self.resizeWithTimeout, false); // Support Element Resize Observer\n\n      if (typeof ResizeObserver !== \"undefined\") {\n        self.ro = new ResizeObserver(self.resizeWithTimeout);\n        self.ro.observe(self.video);\n      }\n\n      if (self.video.videoWidth > 0) {\n        self.resize();\n      } else {\n        self.video.addEventListener(\"loadedmetadata\", function (e) {\n          e.target.removeEventListener(e.type, arguments.callee);\n          self.resize();\n        }, false);\n      }\n    }\n  };\n\n  self.getVideoPosition = function () {\n    var videoRatio = self.video.videoWidth / self.video.videoHeight;\n    var width = self.video.offsetWidth,\n        height = self.video.offsetHeight;\n    var elementRatio = width / height;\n    var realWidth = width,\n        realHeight = height;\n    if (elementRatio > videoRatio) realWidth = Math.floor(height * videoRatio);else realHeight = Math.floor(width / videoRatio);\n    var x = (width - realWidth) / 2;\n    var y = (height - realHeight) / 2;\n    return {\n      width: realWidth,\n      height: realHeight,\n      x: x,\n      y: y\n    };\n  };\n\n  self.setSubUrl = function (subUrl) {\n    self.subUrl = subUrl;\n  };\n\n  self.renderFrameData = null;\n\n  function renderFrames() {\n    var data = self.renderFramesData;\n    var beforeDrawTime = performance.now();\n    self.ctx.clearRect(0, 0, self.canvas.width, self.canvas.height);\n\n    for (var i = 0; i < data.canvases.length; i++) {\n      var image = data.canvases[i];\n      self.bufferCanvas.width = image.w;\n      self.bufferCanvas.height = image.h;\n      var imageBuffer = new Uint8ClampedArray(image.buffer);\n\n      if (self.hasAlphaBug) {\n        for (var j = 3; j < imageBuffer.length; j = j + 4) {\n          imageBuffer[j] = imageBuffer[j] >= 1 ? imageBuffer[j] : 1;\n        }\n      }\n\n      var imageData = new ImageData(imageBuffer, image.w, image.h);\n      self.bufferCanvasCtx.putImageData(imageData, 0, 0);\n      self.ctx.drawImage(self.bufferCanvas, image.x, image.y);\n    }\n\n    if (self.debug) {\n      var drawTime = Math.round(performance.now() - beforeDrawTime);\n      console.log(Math.round(data.spentTime) + ' ms (+ ' + drawTime + ' ms draw)');\n      self.renderStart = performance.now();\n    }\n  }\n  /**\n   * Lossy Render Mode\n   *\n   */\n\n\n  function renderFastFrames() {\n    var data = self.renderFramesData;\n    var beforeDrawTime = performance.now();\n    self.ctx.clearRect(0, 0, self.canvas.width, self.canvas.height);\n\n    for (var i = 0; i < data.bitmaps.length; i++) {\n      var image = data.bitmaps[i];\n      self.ctx.drawImage(image.bitmap, image.x, image.y);\n    }\n\n    if (self.debug) {\n      var drawTime = Math.round(performance.now() - beforeDrawTime);\n      console.log(data.bitmaps.length + ' bitmaps, libass: ' + Math.round(data.libassTime) + 'ms, decode: ' + Math.round(data.decodeTime) + 'ms, draw: ' + drawTime + 'ms');\n      self.renderStart = performance.now();\n    }\n  }\n\n  self.workerActive = false;\n  self.frameId = 0;\n\n  self.onWorkerMessage = function (event) {\n    //dump('\\nclient got ' + JSON.stringify(event.data).substr(0, 150) + '\\n');\n    if (!self.workerActive) {\n      self.workerActive = true;\n\n      if (self.onReadyEvent) {\n        self.onReadyEvent();\n      }\n    }\n\n    var data = event.data;\n\n    switch (data.target) {\n      case 'stdout':\n        {\n          console.log(data.content);\n          break;\n        }\n\n      case 'console-log':\n        {\n          console.log.apply(console, JSON.parse(data.content));\n          break;\n        }\n\n      case 'console-debug':\n        {\n          console.debug.apply(console, JSON.parse(data.content));\n          break;\n        }\n\n      case 'console-info':\n        {\n          console.info.apply(console, JSON.parse(data.content));\n          break;\n        }\n\n      case 'console-warn':\n        {\n          console.warn.apply(console, JSON.parse(data.content));\n          break;\n        }\n\n      case 'console-error':\n        {\n          console.error.apply(console, JSON.parse(data.content));\n          break;\n        }\n\n      case 'stderr':\n        {\n          console.error(data.content);\n          break;\n        }\n\n      case 'window':\n        {\n          window[data.method]();\n          break;\n        }\n\n      case 'canvas':\n        {\n          switch (data.op) {\n            case 'getContext':\n              {\n                self.ctx = self.canvas.getContext(data.type, data.attributes);\n                break;\n              }\n\n            case 'resize':\n              {\n                self.resize(data.width, data.height);\n                break;\n              }\n\n            case 'renderCanvas':\n              {\n                if (self.lastRenderTime < data.time) {\n                  self.lastRenderTime = data.time;\n                  self.renderFramesData = data;\n                  window.requestAnimationFrame(renderFrames);\n                }\n\n                break;\n              }\n\n            case 'renderFastCanvas':\n              {\n                if (self.lastRenderTime < data.time) {\n                  self.lastRenderTime = data.time;\n                  self.renderFramesData = data;\n                  window.requestAnimationFrame(renderFastFrames);\n                }\n\n                break;\n              }\n\n            case 'setObjectProperty':\n              {\n                self.canvas[data.object][data.property] = data.value;\n                break;\n              }\n\n            default:\n              throw 'eh?';\n          }\n\n          break;\n        }\n\n      case 'tick':\n        {\n          self.frameId = data.id;\n          self.worker.postMessage({\n            target: 'tock',\n            id: self.frameId\n          });\n          break;\n        }\n\n      case 'custom':\n        {\n          if (self['onCustomMessage']) {\n            self['onCustomMessage'](event);\n          } else {\n            throw 'Custom message received but client onCustomMessage not implemented.';\n          }\n\n          break;\n        }\n\n      case 'setimmediate':\n        {\n          self.worker.postMessage({\n            target: 'setimmediate'\n          });\n          break;\n        }\n\n      case 'get-events':\n        {\n          console.log(data.target);\n          console.log(data.events);\n          break;\n        }\n\n      case 'get-styles':\n        {\n          console.log(data.target);\n          console.log(data.styles);\n          break;\n        }\n\n      default:\n        throw 'what? ' + data.target;\n    }\n  };\n\n  self.resize = function (width, height, top, left) {\n    var videoSize = null;\n    top = top || 0;\n    left = left || 0;\n\n    if ((!width || !height) && self.video) {\n      videoSize = self.getVideoPosition();\n      width = videoSize.width * self.pixelRatio;\n      height = videoSize.height * self.pixelRatio;\n      var offset = self.canvasParent.getBoundingClientRect().top - self.video.getBoundingClientRect().top;\n      top = videoSize.y - offset;\n      left = videoSize.x;\n    }\n\n    if (!width || !height) {\n      if (!self.video) {\n        console.error('width or height is 0. You should specify width & height for resize.');\n      }\n\n      return;\n    }\n\n    if (self.canvas.width != width || self.canvas.height != height || self.canvas.style.top != top || self.canvas.style.left != left) {\n      self.canvas.width = width;\n      self.canvas.height = height;\n\n      if (videoSize != null) {\n        self.canvasParent.style.position = 'relative';\n        self.canvas.style.display = 'block';\n        self.canvas.style.position = 'absolute';\n        self.canvas.style.width = videoSize.width + 'px';\n        self.canvas.style.height = videoSize.height + 'px';\n        self.canvas.style.top = top + 'px';\n        self.canvas.style.left = left + 'px';\n        self.canvas.style.pointerEvents = 'none';\n      }\n\n      self.worker.postMessage({\n        target: 'canvas',\n        width: self.canvas.width,\n        height: self.canvas.height\n      });\n    }\n  };\n\n  self.resizeWithTimeout = function () {\n    self.resize();\n    setTimeout(self.resize, 100);\n  };\n\n  self.runBenchmark = function () {\n    self.worker.postMessage({\n      target: 'runBenchmark'\n    });\n  };\n\n  self.customMessage = function (data, options) {\n    options = options || {};\n    self.worker.postMessage({\n      target: 'custom',\n      userData: data,\n      preMain: options.preMain\n    });\n  };\n\n  self.setCurrentTime = function (currentTime) {\n    self.worker.postMessage({\n      target: 'video',\n      currentTime: currentTime\n    });\n  };\n\n  self.setTrackByUrl = function (url) {\n    self.worker.postMessage({\n      target: 'set-track-by-url',\n      url: url\n    });\n  };\n\n  self.setTrack = function (content) {\n    self.worker.postMessage({\n      target: 'set-track',\n      content: content\n    });\n  };\n\n  self.freeTrack = function (content) {\n    self.worker.postMessage({\n      target: 'free-track'\n    });\n  };\n\n  self.render = self.setCurrentTime;\n\n  self.setIsPaused = function (isPaused, currentTime) {\n    self.worker.postMessage({\n      target: 'video',\n      isPaused: isPaused,\n      currentTime: currentTime\n    });\n  };\n\n  self.setRate = function (rate) {\n    self.worker.postMessage({\n      target: 'video',\n      rate: rate\n    });\n  };\n\n  self.dispose = function () {\n    self.worker.postMessage({\n      target: 'destroy'\n    });\n    self.worker.terminate();\n    self.workerActive = false; // Remove the canvas element to remove residual subtitles rendered on player\n\n    if (self.video) {\n      self.video.parentNode.removeChild(self.canvasParent);\n    }\n  };\n\n  self.createEvent = function (event) {\n    self.worker.postMessage({\n      target: 'create-event',\n      event: event\n    });\n  };\n\n  self.getEvents = function () {\n    self.worker.postMessage({\n      target: 'get-events'\n    });\n  };\n\n  self.setEvent = function (event, index) {\n    self.worker.postMessage({\n      target: 'set-event',\n      event: event,\n      index: index\n    });\n  };\n\n  self.removeEvent = function (index) {\n    self.worker.postMessage({\n      target: 'remove-event',\n      index: index\n    });\n  };\n\n  self.createStyle = function (style) {\n    self.worker.postMessage({\n      target: 'create-style',\n      style: style\n    });\n  };\n\n  self.getStyles = function () {\n    self.worker.postMessage({\n      target: 'get-styles'\n    });\n  };\n\n  self.setStyle = function (style, index) {\n    self.worker.postMessage({\n      target: 'set-style',\n      style: style,\n      index: index\n    });\n  };\n\n  self.removeStyle = function (index) {\n    self.worker.postMessage({\n      target: 'remove-style',\n      index: index\n    });\n  };\n\n  self.init();\n};\n\nif (typeof SubtitlesOctopusOnLoad == 'function') {\n  SubtitlesOctopusOnLoad();\n}\n\nif (typeof exports !== 'undefined') {\n  if (typeof module !== 'undefined' && module.exports) {\n    exports = module.exports = SubtitlesOctopus;\n  }\n}","\"use strict\";\n\nvar window = require(\"global/window\");\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar isFunction = require('is-function');\n/**\n * @license\n * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>\n * Copyright (c) 2014 David Björklund\n * Available under the MIT license\n * <https://github.com/kesla/parse-headers/blob/master/LICENCE>\n */\n\n\nvar parseHeaders = function parseHeaders(headers) {\n  var result = {};\n\n  if (!headers) {\n    return result;\n  }\n\n  headers.trim().split('\\n').forEach(function (row) {\n    var index = row.indexOf(':');\n    var key = row.slice(0, index).trim().toLowerCase();\n    var value = row.slice(index + 1).trim();\n\n    if (typeof result[key] === 'undefined') {\n      result[key] = value;\n    } else if (Array.isArray(result[key])) {\n      result[key].push(value);\n    } else {\n      result[key] = [result[key], value];\n    }\n  });\n  return result;\n};\n\nmodule.exports = createXHR; // Allow use of default import syntax in TypeScript\n\nmodule.exports.default = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop;\ncreateXHR.XDomainRequest = \"withCredentials\" in new createXHR.XMLHttpRequest() ? createXHR.XMLHttpRequest : window.XDomainRequest;\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function (method) {\n  createXHR[method === \"delete\" ? \"del\" : method] = function (uri, options, callback) {\n    options = initParams(uri, options, callback);\n    options.method = method.toUpperCase();\n    return _createXHR(options);\n  };\n});\n\nfunction forEachArray(array, iterator) {\n  for (var i = 0; i < array.length; i++) {\n    iterator(array[i]);\n  }\n}\n\nfunction isEmpty(obj) {\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) return false;\n  }\n\n  return true;\n}\n\nfunction initParams(uri, options, callback) {\n  var params = uri;\n\n  if (isFunction(options)) {\n    callback = options;\n\n    if (typeof uri === \"string\") {\n      params = {\n        uri: uri\n      };\n    }\n  } else {\n    params = _extends({}, options, {\n      uri: uri\n    });\n  }\n\n  params.callback = callback;\n  return params;\n}\n\nfunction createXHR(uri, options, callback) {\n  options = initParams(uri, options, callback);\n  return _createXHR(options);\n}\n\nfunction _createXHR(options) {\n  if (typeof options.callback === \"undefined\") {\n    throw new Error(\"callback argument missing\");\n  }\n\n  var called = false;\n\n  var callback = function cbOnce(err, response, body) {\n    if (!called) {\n      called = true;\n      options.callback(err, response, body);\n    }\n  };\n\n  function readystatechange() {\n    if (xhr.readyState === 4) {\n      setTimeout(loadFunc, 0);\n    }\n  }\n\n  function getBody() {\n    // Chrome with requestType=blob throws errors arround when even testing access to responseText\n    var body = undefined;\n\n    if (xhr.response) {\n      body = xhr.response;\n    } else {\n      body = xhr.responseText || getXml(xhr);\n    }\n\n    if (isJson) {\n      try {\n        body = JSON.parse(body);\n      } catch (e) {}\n    }\n\n    return body;\n  }\n\n  function errorFunc(evt) {\n    clearTimeout(timeoutTimer);\n\n    if (!(evt instanceof Error)) {\n      evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\"));\n    }\n\n    evt.statusCode = 0;\n    return callback(evt, failureResponse);\n  } // will load the data & process the response in a special response object\n\n\n  function loadFunc() {\n    if (aborted) return;\n    var status;\n    clearTimeout(timeoutTimer);\n\n    if (options.useXDR && xhr.status === undefined) {\n      //IE8 CORS GET successful response doesn't have a status field, but body is fine\n      status = 200;\n    } else {\n      status = xhr.status === 1223 ? 204 : xhr.status;\n    }\n\n    var response = failureResponse;\n    var err = null;\n\n    if (status !== 0) {\n      response = {\n        body: getBody(),\n        statusCode: status,\n        method: method,\n        headers: {},\n        url: uri,\n        rawRequest: xhr\n      };\n\n      if (xhr.getAllResponseHeaders) {\n        //remember xhr can in fact be XDR for CORS in IE\n        response.headers = parseHeaders(xhr.getAllResponseHeaders());\n      }\n    } else {\n      err = new Error(\"Internal XMLHttpRequest Error\");\n    }\n\n    return callback(err, response, response.body);\n  }\n\n  var xhr = options.xhr || null;\n\n  if (!xhr) {\n    if (options.cors || options.useXDR) {\n      xhr = new createXHR.XDomainRequest();\n    } else {\n      xhr = new createXHR.XMLHttpRequest();\n    }\n  }\n\n  var key;\n  var aborted;\n  var uri = xhr.url = options.uri || options.url;\n  var method = xhr.method = options.method || \"GET\";\n  var body = options.body || options.data;\n  var headers = xhr.headers = options.headers || {};\n  var sync = !!options.sync;\n  var isJson = false;\n  var timeoutTimer;\n  var failureResponse = {\n    body: undefined,\n    headers: {},\n    statusCode: 0,\n    method: method,\n    url: uri,\n    rawRequest: xhr\n  };\n\n  if (\"json\" in options && options.json !== false) {\n    isJson = true;\n    headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n    if (method !== \"GET\" && method !== \"HEAD\") {\n      headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n      body = JSON.stringify(options.json === true ? body : options.json);\n    }\n  }\n\n  xhr.onreadystatechange = readystatechange;\n  xhr.onload = loadFunc;\n  xhr.onerror = errorFunc; // IE9 must have onprogress be set to a unique function.\n\n  xhr.onprogress = function () {// IE must die\n  };\n\n  xhr.onabort = function () {\n    aborted = true;\n  };\n\n  xhr.ontimeout = errorFunc;\n  xhr.open(method, uri, !sync, options.username, options.password); //has to be after open\n\n  if (!sync) {\n    xhr.withCredentials = !!options.withCredentials;\n  } // Cannot set timeout with sync request\n  // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n  // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\n\n  if (!sync && options.timeout > 0) {\n    timeoutTimer = setTimeout(function () {\n      if (aborted) return;\n      aborted = true; //IE9 may still call readystatechange\n\n      xhr.abort(\"timeout\");\n      var e = new Error(\"XMLHttpRequest timeout\");\n      e.code = \"ETIMEDOUT\";\n      errorFunc(e);\n    }, options.timeout);\n  }\n\n  if (xhr.setRequestHeader) {\n    for (key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  } else if (options.headers && !isEmpty(options.headers)) {\n    throw new Error(\"Headers cannot be set on an XDomainRequest object\");\n  }\n\n  if (\"responseType\" in options) {\n    xhr.responseType = options.responseType;\n  }\n\n  if (\"beforeSend\" in options && typeof options.beforeSend === \"function\") {\n    options.beforeSend(xhr);\n  } // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n  // XMLHttpRequest spec says to pass null as body to indicate no body\n  // See https://github.com/naugtur/xhr/issues/100.\n\n\n  xhr.send(body || null);\n  return xhr;\n}\n\nfunction getXml(xhr) {\n  // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n  // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n  try {\n    if (xhr.responseType === \"document\") {\n      return xhr.responseXML;\n    }\n\n    var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\";\n\n    if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n      return xhr.responseXML;\n    }\n  } catch (e) {}\n\n  return null;\n}\n\nfunction noop() {}","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","/*! @name @videojs/vhs-utils @version 2.2.1 @license MIT */\n'use strict';\n/**\n * @file stream.js\n */\n\n/**\n * A lightweight readable stream implemention that handles event dispatching.\n *\n * @class Stream\n */\n\nvar Stream = /*#__PURE__*/function () {\n  function Stream() {\n    this.listeners = {};\n  }\n  /**\n   * Add a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener the callback to be invoked when an event of\n   * the specified type occurs\n   */\n\n\n  var _proto = Stream.prototype;\n\n  _proto.on = function on(type, listener) {\n    if (!this.listeners[type]) {\n      this.listeners[type] = [];\n    }\n\n    this.listeners[type].push(listener);\n  }\n  /**\n   * Remove a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener  a function previously registered for this\n   * type of event through `on`\n   * @return {boolean} if we could turn it off or not\n   */\n  ;\n\n  _proto.off = function off(type, listener) {\n    if (!this.listeners[type]) {\n      return false;\n    }\n\n    var index = this.listeners[type].indexOf(listener); // TODO: which is better?\n    // In Video.js we slice listener functions\n    // on trigger so that it does not mess up the order\n    // while we loop through.\n    //\n    // Here we slice on off so that the loop in trigger\n    // can continue using it's old reference to loop without\n    // messing up the order.\n\n    this.listeners[type] = this.listeners[type].slice(0);\n    this.listeners[type].splice(index, 1);\n    return index > -1;\n  }\n  /**\n   * Trigger an event of the specified type on this stream. Any additional\n   * arguments to this function are passed as parameters to event listeners.\n   *\n   * @param {string} type the event name\n   */\n  ;\n\n  _proto.trigger = function trigger(type) {\n    var callbacks = this.listeners[type];\n\n    if (!callbacks) {\n      return;\n    } // Slicing the arguments on every invocation of this method\n    // can add a significant amount of overhead. Avoid the\n    // intermediate object creation for the common case of a\n    // single callback argument\n\n\n    if (arguments.length === 2) {\n      var length = callbacks.length;\n\n      for (var i = 0; i < length; ++i) {\n        callbacks[i].call(this, arguments[1]);\n      }\n    } else {\n      var args = Array.prototype.slice.call(arguments, 1);\n      var _length = callbacks.length;\n\n      for (var _i = 0; _i < _length; ++_i) {\n        callbacks[_i].apply(this, args);\n      }\n    }\n  }\n  /**\n   * Destroys the stream and cleans up.\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    this.listeners = {};\n  }\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   *\n   * @param {Stream} destination the stream that will receive all `data` events\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n  ;\n\n  _proto.pipe = function pipe(destination) {\n    this.on('data', function (data) {\n      destination.push(data);\n    });\n  };\n\n  return Stream;\n}();\n\nmodule.exports = Stream;","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.ScrollHandler = exports.ScrollContext = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _sessionStorage = require(\"./session-storage\");\n\nvar ScrollContext = /*#__PURE__*/React.createContext(new _sessionStorage.SessionStorage());\nexports.ScrollContext = ScrollContext;\nScrollContext.displayName = \"GatsbyScrollContext\";\n\nvar ScrollHandler = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(ScrollHandler, _React$Component);\n\n  function ScrollHandler() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this._stateStorage = new _sessionStorage.SessionStorage();\n\n    _this.scrollListener = function () {\n      var key = _this.props.location.key;\n\n      if (key) {\n        _this._stateStorage.save(_this.props.location, key, window.scrollY);\n      }\n    };\n\n    _this.windowScroll = function (position, prevProps) {\n      if (_this.shouldUpdateScroll(prevProps, _this.props)) {\n        window.scrollTo(0, position);\n      }\n    };\n\n    _this.scrollToHash = function (hash, prevProps) {\n      var node = document.getElementById(hash.substring(1));\n\n      if (node && _this.shouldUpdateScroll(prevProps, _this.props)) {\n        node.scrollIntoView();\n      }\n    };\n\n    _this.shouldUpdateScroll = function (prevRouterProps, routerProps) {\n      var shouldUpdateScroll = _this.props.shouldUpdateScroll;\n\n      if (!shouldUpdateScroll) {\n        return true;\n      } // Hack to allow accessing this._stateStorage.\n\n\n      return shouldUpdateScroll.call((0, _assertThisInitialized2.default)(_this), prevRouterProps, routerProps);\n    };\n\n    return _this;\n  }\n\n  var _proto = ScrollHandler.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener(\"scroll\", this.scrollListener);\n    var scrollPosition;\n    var _this$props$location = this.props.location,\n        key = _this$props$location.key,\n        hash = _this$props$location.hash;\n\n    if (key) {\n      scrollPosition = this._stateStorage.read(this.props.location, key);\n    }\n\n    if (scrollPosition) {\n      this.windowScroll(scrollPosition, undefined);\n    } else if (hash) {\n      this.scrollToHash(decodeURI(hash), undefined);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.scrollListener);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props$location2 = this.props.location,\n        hash = _this$props$location2.hash,\n        key = _this$props$location2.key;\n    var scrollPosition;\n\n    if (key) {\n      scrollPosition = this._stateStorage.read(this.props.location, key);\n    }\n\n    if (hash && scrollPosition === 0) {\n      this.scrollToHash(decodeURI(hash), prevProps);\n    } else {\n      this.windowScroll(scrollPosition, prevProps);\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(ScrollContext.Provider, {\n      value: this._stateStorage\n    }, this.props.children);\n  };\n\n  return ScrollHandler;\n}(React.Component);\n\nexports.ScrollHandler = ScrollHandler;\nScrollHandler.propTypes = {\n  shouldUpdateScroll: _propTypes.default.func,\n  children: _propTypes.default.element.isRequired,\n  location: _propTypes.default.object.isRequired\n};","var toUnsigned = require('../utils/bin').toUnsigned;\n\nvar parseType = require('./parse-type.js');\n\nvar findBox = function findBox(data, path) {\n  var results = [],\n      i,\n      size,\n      type,\n      end,\n      subresults;\n\n  if (!path.length) {\n    // short-circuit the search for empty paths\n    return null;\n  }\n\n  for (i = 0; i < data.byteLength;) {\n    size = toUnsigned(data[i] << 24 | data[i + 1] << 16 | data[i + 2] << 8 | data[i + 3]);\n    type = parseType(data.subarray(i + 4, i + 8));\n    end = size > 1 ? i + size : data.byteLength;\n\n    if (type === path[0]) {\n      if (path.length === 1) {\n        // this is the end of the path and we've found the box we were\n        // looking for\n        results.push(data.subarray(i + 8, end));\n      } else {\n        // recursively search for the next box along the path\n        subresults = findBox(data.subarray(i + 8, end), path.slice(1));\n\n        if (subresults.length) {\n          results = results.concat(subresults);\n        }\n      }\n    }\n\n    i = end;\n  } // we've finished searching all of data\n\n\n  return results;\n};\n\nmodule.exports = findBox;","import videojs from \"video.js\"\nimport SubtitlesOctopus from \"libass-wasm\"\n\nconst Plugin = videojs.getPlugin(\"plugin\")\n\nclass Octopus extends Plugin {\n  constructor(player, options) {\n    super(player, options)\n\n    if (\n      !this.player.ASSSubtitlesSwitcher &&\n      typeof this.player.ASSSubtitlesSwitcher !== \"function\"\n    ) {\n      videojs.log.error(`ASSSubtitlesSwitcher plugin mus be registered first`)\n      return\n    }\n\n    const { videoSelector, size, ...octopusOptions } = options\n    const videoElement = document.querySelector(videoSelector)\n    this.canvas = octopusOptions.canvas = this.createCanvasElement(videoElement)\n    this.size = size.x2\n      ? {\n          width: size.width * 2,\n          height: size.height * 2\n        }\n      : size\n    octopusOptions.canvas = this.canvas\n    octopusOptions.subUrl = this.player\n      .ASSSubtitlesSwitcher()\n      .getCurrentSubtitle().src\n\n    this.octopus = new SubtitlesOctopus(octopusOptions)\n    this.configurePlayer()\n  }\n\n  createCanvasElement(videoElement) {\n    const canvas = document.createElement(\"canvas\")\n    const canvasParent = document.createElement(\"div\")\n    canvas.className = \"libassjs-canvas\"\n    canvas.style.display = \"none\"\n    // canvas.style.border = \"1px solid green\"\n\n    canvasParent.className = \"libassjs-canvas-parent\"\n    canvasParent.appendChild(canvas)\n\n    if (videoElement.nextSibling) {\n      videoElement.parentNode.insertBefore(\n        canvasParent,\n        videoElement.nextSibling\n      )\n    } else {\n      videoElement.parentNode.appendChild(canvasParent)\n    }\n\n    return canvas\n  }\n\n  timeupdate() {\n    this.octopus.setCurrentTime(\n      this.player.currentTime() + this.octopus.timeOffset\n    )\n  }\n\n  configurePlayer() {\n    this.player.on(\"timeupdate\", () => this.timeupdate)\n\n    this.player.on(\"playing\", () => {\n      videojs.log(\"octupus: playing\")\n      this.octopus.setIsPaused(\n        false,\n        this.player.currentTime() + this.octopus.timeOffset\n      )\n    })\n\n    this.player.on(\"pause\", () => {\n      videojs.log(\"octupus: pause\")\n      this.octopus.setIsPaused(\n        true,\n        this.player.currentTime() + this.octopus.timeOffset\n      )\n    })\n\n    this.player.on(\"seeking\", () => {\n      videojs.log(\"octupus: seeking\")\n      this.player.off(\"timeupdate\", this.timeupdate)\n    })\n\n    this.player.on(\"seeked\", () => {\n      videojs.log(\"octupus: seeked\")\n      this.player.on(\"timeupdate\", this.timeupdate)\n      this.octopus.setCurrentTime(\n        this.player.currentTime() + this.octopus.timeOffset\n      )\n    })\n\n    this.player.on(\"ratechange\", () => {\n      videojs.log(\"octupus: ratechange\")\n      this.octopus.setRate(this.player.playbackRate())\n    })\n\n    this.player.on(\"timeupdate\", () => {\n      videojs.log(\"octupus: timeupdate\")\n      this.octopus.setCurrentTime(\n        this.player.currentTime() + this.octopus.timeOffset\n      )\n    })\n\n    this.player.on(\"waiting\", () => {\n      videojs.log(\"octupus: waiting\")\n      this.octopus.setIsPaused(\n        true,\n        this.player.currentTime() + this.octopus.timeOffset\n      )\n    })\n\n    // const __resize = () => this.resizePlayerWithTimeout();\n\n    document.addEventListener(\"fullscreenchange\", this.resizePlayerWithTimeout)\n    document.addEventListener(\"mozfullscreenchange\", this.resizePlayerWithTimeout)\n    document.addEventListener(\"webkitfullscreenchange\", this.resizePlayerWithTimeout)\n    document.addEventListener(\"msfullscreenchange\", this.resizePlayerWithTimeout)\n    window.addEventListener(\"resize\", this.resizePlayerWithTimeout)\n\n    if (this.player.videoWidth() > 0) {\n      // instance.resize(840, 460, 0, 0);\n      this.resizePlayerWithTimeout()\n    } else {\n      this.player.on(\"loadedmetadata\", this.resizePlayerWithTimeout)\n    }\n  }\n\n  resizePlayer() {\n    videojs.log(\"octupus: resizePlayer\")\n    // var size = {\n    //   width: 1312, //1920,\n    //   height: 960 //1080,\n    // }\n    this.canvas.style.display = \"block\"\n    this.canvas.style.position = \"absolute\"\n\n    if (this.player && this.player.el_) {\n      if (this.player.el_.offsetWidth) {\n        this.canvas.style.width = this.player.el_.offsetWidth + \"px\"\n      }\n\n      if (this.player.el_.offsetHeight) {\n        this.canvas.style.height = this.player.el_.offsetHeight + \"px\"\n      }\n    }\n\n    this.canvas.style.height = this.player.el_.offsetHeight + \"px\"\n    this.canvas.style.top = \"0px\" //this.player.el_.offsetTop + \"px\";\n    this.canvas.style.left = \"0px\" // this.player.el_.offsetLeft + \"px\";\n    this.canvas.style.pointerEvents = \"none\"\n\n    if (\n      this.player &&\n      this.player.el_ &&\n      this.player.el_.offsetWidth !== undefined &&\n      this.player.el_.offsetHeight !== undefined &&\n      this.player.el_.offsetTop !== undefined &&\n      this.player.el_.offsetLeft !== undefined\n    ) {\n      this.octopus.resize(\n        this.size.width, //this.player.el_.offsetWidth,\n        this.size.height, //this.player.el_.offsetHeight,\n        0, // this.player.el_.offsetTop,\n        0 // this.player.el_.offsetLeft\n      )\n    }\n  }\n\n  resizePlayerWithTimeout = () => {\n    this.resizePlayer()\n    setTimeout(() => this.resizePlayer(), 100)\n  }\n\n  setTrackByUrl(track) {\n    this.octopus.setTrackByUrl(track)\n  }\n\n  dispose() {\n    super.dispose()\n    this.octopus.dispose()\n\n    document.removeEventListener(\"fullscreenchange\", this.resizePlayerWithTimeout)\n    document.removeEventListener(\"mozfullscreenchange\", this.resizePlayerWithTimeout)\n    document.removeEventListener(\n      \"webkitfullscreenchange\",\n      this.resizePlayerWithTimeout\n    )\n    document.removeEventListener(\"msfullscreenchange\", this.resizePlayerWithTimeout)\n    window.removeEventListener(\"resize\", this.resizePlayerWithTimeout)\n\n    videojs.log(\"the Octupus plugin is being disposed\")\n  }\n}\n\nexport default Octopus\n","/**\n * Implement Gatsby's Browser APIs in this file.\n *\n * See: https://www.gatsbyjs.org/docs/browser-apis/\n */\n\n// You can delete this file if you're not using it\nimport videojs from 'video.js'\nimport ASSSubtitlesSwitcher from \"./src/utils/videojs-ass-subtitles-switcher\"\nimport Octopus from \"./src/utils/videojs-octopus\"\nrequire(\"normalize.css\")\n\nvideojs.log.level(\"off\")\nvideojs.registerPlugin(\"ASSSubtitlesSwitcher\", ASSSubtitlesSwitcher)\nvideojs.registerPlugin(\"Octopus\", Octopus)","'use strict';\n\nexports.byteLength = byteLength;\nexports.toByteArray = toByteArray;\nexports.fromByteArray = fromByteArray;\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i];\n  revLookup[code.charCodeAt(i)] = i;\n} // Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\n\n\nrevLookup['-'.charCodeAt(0)] = 62;\nrevLookup['_'.charCodeAt(0)] = 63;\n\nfunction getLens(b64) {\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4');\n  } // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n\n\n  var validLen = b64.indexOf('=');\n  if (validLen === -1) validLen = len;\n  var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n  return [validLen, placeHoldersLen];\n} // base64 is 4/3 + up to two characters of the original data\n\n\nfunction byteLength(b64) {\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\n\nfunction _byteLength(b64, validLen, placeHoldersLen) {\n  return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\n\nfunction toByteArray(b64) {\n  var tmp;\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n  var curByte = 0; // if there are placeholders, only get up to the last complete 4 chars\n\n  var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n  var i;\n\n  for (i = 0; i < len; i += 4) {\n    tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n    arr[curByte++] = tmp >> 16 & 0xFF;\n    arr[curByte++] = tmp >> 8 & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n    arr[curByte++] = tmp >> 8 & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  return arr;\n}\n\nfunction tripletToBase64(num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];\n}\n\nfunction encodeChunk(uint8, start, end) {\n  var tmp;\n  var output = [];\n\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16 & 0xFF0000) + (uint8[i + 1] << 8 & 0xFF00) + (uint8[i + 2] & 0xFF);\n    output.push(tripletToBase64(tmp));\n  }\n\n  return output.join('');\n}\n\nfunction fromByteArray(uint8) {\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n  // go through the array every three bytes, we'll deal with trailing stuff later\n\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n  } // pad the end with zeros, but make sure to not forget the extra bytes\n\n\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 0x3F] + '==');\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n    parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 0x3F] + lookup[tmp << 2 & 0x3F] + '=');\n  }\n\n  return parts.join('');\n}","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n\n/* eslint-disable no-proto */\n'use strict';\n\nvar base64 = require('base64-js');\n\nvar ieee754 = require('ieee754');\n\nvar isArray = require('isarray');\n\nexports.Buffer = Buffer;\nexports.SlowBuffer = SlowBuffer;\nexports.INSPECT_MAX_BYTES = 50;\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\n\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();\n/*\n * Export kMaxLength after typed array support is determined.\n */\n\nexports.kMaxLength = kMaxLength();\n\nfunction typedArraySupport() {\n  try {\n    var arr = new Uint8Array(1);\n    arr.__proto__ = {\n      __proto__: Uint8Array.prototype,\n      foo: function foo() {\n        return 42;\n      }\n    };\n    return arr.foo() === 42 && // typed array instances can be augmented\n    typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n    arr.subarray(1, 1).byteLength === 0; // ie10 has broken `subarray`\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction kMaxLength() {\n  return Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n}\n\nfunction createBuffer(that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length');\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length);\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length);\n    }\n\n    that.length = length;\n  }\n\n  return that;\n}\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\n\nfunction Buffer(arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length);\n  } // Common case.\n\n\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error('If encoding is specified then the first argument must be a string');\n    }\n\n    return allocUnsafe(this, arg);\n  }\n\n  return from(this, arg, encodingOrOffset, length);\n}\n\nBuffer.poolSize = 8192; // not used by this implementation\n// TODO: Legacy, not needed anymore. Remove in next major version.\n\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype;\n  return arr;\n};\n\nfunction from(that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number');\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length);\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset);\n  }\n\n  return fromObject(that, value);\n}\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\n\n\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length);\n};\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype;\n  Buffer.__proto__ = Uint8Array;\n\n  if (typeof Symbol !== 'undefined' && Symbol.species && Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    });\n  }\n}\n\nfunction assertSize(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n}\n\nfunction alloc(that, size, fill, encoding) {\n  assertSize(size);\n\n  if (size <= 0) {\n    return createBuffer(that, size);\n  }\n\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string' ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);\n  }\n\n  return createBuffer(that, size);\n}\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\n\n\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding);\n};\n\nfunction allocUnsafe(that, size) {\n  assertSize(size);\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0;\n    }\n  }\n\n  return that;\n}\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\n\n\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size);\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\n\n\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size);\n};\n\nfunction fromString(that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8';\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding');\n  }\n\n  var length = byteLength(string, encoding) | 0;\n  that = createBuffer(that, length);\n  var actual = that.write(string, encoding);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual);\n  }\n\n  return that;\n}\n\nfunction fromArrayLike(that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  that = createBuffer(that, length);\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255;\n  }\n\n  return that;\n}\n\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n  array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds');\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds');\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array);\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset);\n  } else {\n    array = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array;\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array);\n  }\n\n  return that;\n}\n\nfunction fromObject(that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    that = createBuffer(that, len);\n\n    if (that.length === 0) {\n      return that;\n    }\n\n    obj.copy(that, 0, 0, len);\n    return that;\n  }\n\n  if (obj) {\n    if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0);\n      }\n\n      return fromArrayLike(that, obj);\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data);\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\n\nfunction checked(length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n  }\n\n  return length | 0;\n}\n\nfunction SlowBuffer(length) {\n  if (+length != length) {\n    // eslint-disable-line eqeqeq\n    length = 0;\n  }\n\n  return Buffer.alloc(+length);\n}\n\nBuffer.isBuffer = function isBuffer(b) {\n  return !!(b != null && b._isBuffer);\n};\n\nBuffer.compare = function compare(a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers');\n  }\n\n  if (a === b) return 0;\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n};\n\nBuffer.isEncoding = function isEncoding(encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nBuffer.concat = function concat(list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers');\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0);\n  }\n\n  var i;\n\n  if (length === undefined) {\n    length = 0;\n\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length);\n  var pos = 0;\n\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n\n  return buffer;\n};\n\nfunction byteLength(string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length;\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength;\n  }\n\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0; // Use a for loop to avoid recursion\n\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len;\n\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length;\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2;\n\n      case 'hex':\n        return len >>> 1;\n\n      case 'base64':\n        return base64ToBytes(string).length;\n\n      default:\n        if (loweredCase) return utf8ToBytes(string).length; // assume utf8\n\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\n\nBuffer.byteLength = byteLength;\n\nfunction slowToString(encoding, start, end) {\n  var loweredCase = false; // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\n  if (start === undefined || start < 0) {\n    start = 0;\n  } // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n\n\n  if (start > this.length) {\n    return '';\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length;\n  }\n\n  if (end <= 0) {\n    return '';\n  } // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n\n\n  end >>>= 0;\n  start >>>= 0;\n\n  if (end <= start) {\n    return '';\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end);\n\n      case 'ascii':\n        return asciiSlice(this, start, end);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end);\n\n      case 'base64':\n        return base64Slice(this, start, end);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = (encoding + '').toLowerCase();\n        loweredCase = true;\n    }\n  }\n} // The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\n\n\nBuffer.prototype._isBuffer = true;\n\nfunction swap(b, n, m) {\n  var i = b[n];\n  b[n] = b[m];\n  b[m] = i;\n}\n\nBuffer.prototype.swap16 = function swap16() {\n  var len = this.length;\n\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits');\n  }\n\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap32 = function swap32() {\n  var len = this.length;\n\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits');\n  }\n\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3);\n    swap(this, i + 1, i + 2);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap64 = function swap64() {\n  var len = this.length;\n\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits');\n  }\n\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7);\n    swap(this, i + 1, i + 6);\n    swap(this, i + 2, i + 5);\n    swap(this, i + 3, i + 4);\n  }\n\n  return this;\n};\n\nBuffer.prototype.toString = function toString() {\n  var length = this.length | 0;\n  if (length === 0) return '';\n  if (arguments.length === 0) return utf8Slice(this, 0, length);\n  return slowToString.apply(this, arguments);\n};\n\nBuffer.prototype.equals = function equals(b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n  if (this === b) return true;\n  return Buffer.compare(this, b) === 0;\n};\n\nBuffer.prototype.inspect = function inspect() {\n  var str = '';\n  var max = exports.INSPECT_MAX_BYTES;\n\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n    if (this.length > max) str += ' ... ';\n  }\n\n  return '<Buffer ' + str + '>';\n};\n\nBuffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer');\n  }\n\n  if (start === undefined) {\n    start = 0;\n  }\n\n  if (end === undefined) {\n    end = target ? target.length : 0;\n  }\n\n  if (thisStart === undefined) {\n    thisStart = 0;\n  }\n\n  if (thisEnd === undefined) {\n    thisEnd = this.length;\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index');\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0;\n  }\n\n  if (thisStart >= thisEnd) {\n    return -1;\n  }\n\n  if (start >= end) {\n    return 1;\n  }\n\n  start >>>= 0;\n  end >>>= 0;\n  thisStart >>>= 0;\n  thisEnd >>>= 0;\n  if (this === target) return 0;\n  var x = thisEnd - thisStart;\n  var y = end - start;\n  var len = Math.min(x, y);\n  var thisCopy = this.slice(thisStart, thisEnd);\n  var targetCopy = target.slice(start, end);\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i];\n      y = targetCopy[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n}; // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\n\n\nfunction bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1; // Normalize byteOffset\n\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset;\n    byteOffset = 0;\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff;\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000;\n  }\n\n  byteOffset = +byteOffset; // Coerce to Number.\n\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : buffer.length - 1;\n  } // Normalize byteOffset: negative offsets start from the end of the buffer\n\n\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1;else byteOffset = buffer.length - 1;\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0;else return -1;\n  } // Normalize val\n\n\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding);\n  } // Finally, search either indexOf (if dir is true) or lastIndexOf\n\n\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1;\n    }\n\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n  } else if (typeof val === 'number') {\n    val = val & 0xFF; // Search for a byte value [0-255]\n\n    if (Buffer.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n      }\n    }\n\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n  }\n\n  throw new TypeError('val must be string, number or Buffer');\n}\n\nfunction arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1;\n  var arrLength = arr.length;\n  var valLength = val.length;\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase();\n\n    if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1;\n      }\n\n      indexSize = 2;\n      arrLength /= 2;\n      valLength /= 2;\n      byteOffset /= 2;\n    }\n  }\n\n  function read(buf, i) {\n    if (indexSize === 1) {\n      return buf[i];\n    } else {\n      return buf.readUInt16BE(i * indexSize);\n    }\n  }\n\n  var i;\n\n  if (dir) {\n    var foundIndex = -1;\n\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i;\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex;\n        foundIndex = -1;\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true;\n\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false;\n          break;\n        }\n      }\n\n      if (found) return i;\n    }\n  }\n\n  return -1;\n}\n\nBuffer.prototype.includes = function includes(val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1;\n};\n\nBuffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n};\n\nBuffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n};\n\nfunction hexWrite(buf, string, offset, length) {\n  offset = Number(offset) || 0;\n  var remaining = buf.length - offset;\n\n  if (!length) {\n    length = remaining;\n  } else {\n    length = Number(length);\n\n    if (length > remaining) {\n      length = remaining;\n    }\n  } // must be an even number of digits\n\n\n  var strLen = string.length;\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string');\n\n  if (length > strLen / 2) {\n    length = strLen / 2;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16);\n    if (isNaN(parsed)) return i;\n    buf[offset + i] = parsed;\n  }\n\n  return i;\n}\n\nfunction utf8Write(buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nfunction asciiWrite(buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length);\n}\n\nfunction latin1Write(buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length);\n}\n\nfunction base64Write(buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length);\n}\n\nfunction ucs2Write(buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nBuffer.prototype.write = function write(string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8';\n    length = this.length;\n    offset = 0; // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset;\n    length = this.length;\n    offset = 0; // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n\n    if (isFinite(length)) {\n      length = length | 0;\n      if (encoding === undefined) encoding = 'utf8';\n    } else {\n      encoding = length;\n      length = undefined;\n    } // legacy write(string, encoding, offset, length) - remove in v0.13\n\n  } else {\n    throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds');\n  }\n\n  if (!encoding) encoding = 'utf8';\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length);\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length);\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n};\n\nBuffer.prototype.toJSON = function toJSON() {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  };\n};\n\nfunction base64Slice(buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf);\n  } else {\n    return base64.fromByteArray(buf.slice(start, end));\n  }\n}\n\nfunction utf8Slice(buf, start, end) {\n  end = Math.min(buf.length, end);\n  var res = [];\n  var i = start;\n\n  while (i < end) {\n    var firstByte = buf[i];\n    var codePoint = null;\n    var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte;\n          }\n\n          break;\n\n        case 2:\n          secondByte = buf[i + 1];\n\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 3:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 4:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          fourthByte = buf[i + 3];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD;\n      bytesPerSequence = 1;\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000;\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n      codePoint = 0xDC00 | codePoint & 0x3FF;\n    }\n\n    res.push(codePoint);\n    i += bytesPerSequence;\n  }\n\n  return decodeCodePointsArray(res);\n} // Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\n\n\nvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\nfunction decodeCodePointsArray(codePoints) {\n  var len = codePoints.length;\n\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n  } // Decode in chunks to avoid \"call stack size exceeded\".\n\n\n  var res = '';\n  var i = 0;\n\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n\n  return res;\n}\n\nfunction asciiSlice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F);\n  }\n\n  return ret;\n}\n\nfunction latin1Slice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i]);\n  }\n\n  return ret;\n}\n\nfunction hexSlice(buf, start, end) {\n  var len = buf.length;\n  if (!start || start < 0) start = 0;\n  if (!end || end < 0 || end > len) end = len;\n  var out = '';\n\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i]);\n  }\n\n  return out;\n}\n\nfunction utf16leSlice(buf, start, end) {\n  var bytes = buf.slice(start, end);\n  var res = '';\n\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n  }\n\n  return res;\n}\n\nBuffer.prototype.slice = function slice(start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n  var newBuf;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end);\n    newBuf.__proto__ = Buffer.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer(sliceLen, undefined);\n\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf;\n};\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\n\n\nfunction checkOffset(offset, ext, length) {\n  if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length);\n  }\n\n  var val = this[offset + --byteLength];\n  var mul = 1;\n\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  return this[offset];\n};\n\nBuffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] | this[offset + 1] << 8;\n};\n\nBuffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] << 8 | this[offset + 1];\n};\n\nBuffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n};\n\nBuffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n};\n\nBuffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var i = byteLength;\n  var mul = 1;\n  var val = this[offset + --i];\n\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  if (!(this[offset] & 0x80)) return this[offset];\n  return (0xff - this[offset] + 1) * -1;\n};\n\nBuffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset] | this[offset + 1] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset + 1] | this[offset] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n};\n\nBuffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n};\n\nBuffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, true, 23, 4);\n};\n\nBuffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, false, 23, 4);\n};\n\nBuffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, true, 52, 8);\n};\n\nBuffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, false, 52, 8);\n};\n\nfunction checkInt(buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var mul = 1;\n  var i = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nfunction objectWriteUInt16(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1;\n\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n\n  return offset + 2;\n};\n\nfunction objectWriteUInt32(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1;\n\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = value >>> 24;\n    this[offset + 2] = value >>> 16;\n    this[offset + 1] = value >>> 8;\n    this[offset] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = 0;\n  var mul = 1;\n  var sub = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  var sub = 0;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  if (value < 0) value = 0xff + value + 1;\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nBuffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n    this[offset + 2] = value >>> 16;\n    this[offset + 3] = value >>> 24;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n\n  return offset + 4;\n};\n\nBuffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (value < 0) value = 0xffffffff + value + 1;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n\n  return offset + 4;\n};\n\nfunction checkIEEE754(buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n  if (offset < 0) throw new RangeError('Index out of range');\n}\n\nfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 23, 4);\n  return offset + 4;\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert);\n};\n\nfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 52, 8);\n  return offset + 8;\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert);\n}; // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\n\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n  if (end === start) return 0;\n  if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds');\n  }\n\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n  if (end < 0) throw new RangeError('sourceEnd out of bounds'); // Are we oob?\n\n  if (end > this.length) end = this.length;\n\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n  }\n\n  return len;\n}; // Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\n\n\nBuffer.prototype.fill = function fill(val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = this.length;\n    }\n\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n\n      if (code < 256) {\n        val = code;\n      }\n    }\n\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  } // Invalid ranges are not set to a default, so can range check early.\n\n\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return this;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n  if (!val) val = 0;\n  var i;\n\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val) ? val : utf8ToBytes(new Buffer(val, encoding).toString());\n    var len = bytes.length;\n\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this;\n}; // HELPER FUNCTIONS\n// ================\n\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\nfunction base64clean(str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, ''); // Node converts strings with length < 2 to ''\n\n  if (str.length < 2) return ''; // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\n  while (str.length % 4 !== 0) {\n    str = str + '=';\n  }\n\n  return str;\n}\n\nfunction stringtrim(str) {\n  if (str.trim) return str.trim();\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction toHex(n) {\n  if (n < 16) return '0' + n.toString(16);\n  return n.toString(16);\n}\n\nfunction utf8ToBytes(string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i); // is surrogate component\n\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } // valid lead\n\n\n        leadSurrogate = codePoint;\n        continue;\n      } // 2 leads in a row\n\n\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue;\n      } // valid surrogate pair\n\n\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null; // encode utf8\n\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break;\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break;\n      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break;\n      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break;\n      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n\n  return bytes;\n}\n\nfunction asciiToBytes(str) {\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n  }\n\n  return byteArray;\n}\n\nfunction utf16leToBytes(str, units) {\n  var c, hi, lo;\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break;\n    c = str.charCodeAt(i);\n    hi = c >> 8;\n    lo = c % 256;\n    byteArray.push(lo);\n    byteArray.push(hi);\n  }\n\n  return byteArray;\n}\n\nfunction base64ToBytes(str) {\n  return base64.toByteArray(base64clean(str));\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if (i + offset >= dst.length || i >= src.length) break;\n    dst[i + offset] = src[i];\n  }\n\n  return i;\n}\n\nfunction isnan(val) {\n  return val !== val; // eslint-disable-line no-self-compare\n}","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","import React, { createElement } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { publicLoader } from \"./loader\"\nimport { apiRunner } from \"./api-runner-browser\"\nimport { grabMatchParams } from \"./find-path\"\n\n// Renders page\nclass PageRenderer extends React.Component {\n  render() {\n    const props = {\n      ...this.props,\n      params: {\n        ...grabMatchParams(this.props.location.pathname),\n        ...this.props.pageResources.json.pageContext.__params,\n      },\n      pathContext: this.props.pageContext,\n    }\n\n    const [replacementElement] = apiRunner(`replaceComponentRenderer`, {\n      props: this.props,\n      loader: publicLoader,\n    })\n\n    const pageElement =\n      replacementElement ||\n      createElement(this.props.pageResources.component, {\n        ...props,\n        key: this.props.path || this.props.pageResources.page.path,\n      })\n\n    const wrappedPage = apiRunner(\n      `wrapPageElement`,\n      { element: pageElement, props },\n      pageElement,\n      ({ result }) => {\n        return { element: result, props }\n      }\n    ).pop()\n\n    return wrappedPage\n  }\n}\n\nPageRenderer.propTypes = {\n  location: PropTypes.object.isRequired,\n  pageResources: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  pageContext: PropTypes.object.isRequired,\n}\n\nexport default PageRenderer\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Accepts program elementary stream (PES) data events and corrects\n * decode and presentation time stamps to account for a rollover\n * of the 33 bit value.\n */\n'use strict';\n\nvar Stream = require('../utils/stream');\n\nvar MAX_TS = 8589934592;\nvar RO_THRESH = 4294967296;\nvar TYPE_SHARED = 'shared';\n\nvar handleRollover = function handleRollover(value, reference) {\n  var direction = 1;\n\n  if (value > reference) {\n    // If the current timestamp value is greater than our reference timestamp and we detect a\n    // timestamp rollover, this means the roll over is happening in the opposite direction.\n    // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n    // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n    // rollover point. In loading this segment, the timestamp values will be very large,\n    // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n    // the time stamp to be `value - 2^33`.\n    direction = -1;\n  } // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n  // cause an incorrect adjustment.\n\n\n  while (Math.abs(reference - value) > RO_THRESH) {\n    value += direction * MAX_TS;\n  }\n\n  return value;\n};\n\nvar TimestampRolloverStream = function TimestampRolloverStream(type) {\n  var lastDTS, referenceDTS;\n  TimestampRolloverStream.prototype.init.call(this); // The \"shared\" type is used in cases where a stream will contain muxed\n  // video and audio. We could use `undefined` here, but having a string\n  // makes debugging a little clearer.\n\n  this.type_ = type || TYPE_SHARED;\n\n  this.push = function (data) {\n    // Any \"shared\" rollover streams will accept _all_ data. Otherwise,\n    // streams will only accept data that matches their type.\n    if (this.type_ !== TYPE_SHARED && data.type !== this.type_) {\n      return;\n    }\n\n    if (referenceDTS === undefined) {\n      referenceDTS = data.dts;\n    }\n\n    data.dts = handleRollover(data.dts, referenceDTS);\n    data.pts = handleRollover(data.pts, referenceDTS);\n    lastDTS = data.dts;\n    this.trigger('data', data);\n  };\n\n  this.flush = function () {\n    referenceDTS = lastDTS;\n    this.trigger('done');\n  };\n\n  this.endTimeline = function () {\n    this.flush();\n    this.trigger('endedtimeline');\n  };\n\n  this.discontinuity = function () {\n    referenceDTS = void 0;\n    lastDTS = void 0;\n  };\n\n  this.reset = function () {\n    this.discontinuity();\n    this.trigger('reset');\n  };\n};\n\nTimestampRolloverStream.prototype = new Stream();\nmodule.exports = {\n  TimestampRolloverStream: TimestampRolloverStream,\n  handleRollover: handleRollover\n};","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Default exports for Node. Export the extended versions of VTTCue and\n// VTTRegion in Node since we likely want the capability to convert back and\n// forth between JSON. If we don't then it's not that big of a deal since we're\n// off browser.\nvar window = require('global/window');\n\nvar vttjs = module.exports = {\n  WebVTT: require(\"./vtt.js\"),\n  VTTCue: require(\"./vttcue.js\"),\n  VTTRegion: require(\"./vttregion.js\")\n};\nwindow.vttjs = vttjs;\nwindow.WebVTT = vttjs.WebVTT;\nvar cueShim = vttjs.VTTCue;\nvar regionShim = vttjs.VTTRegion;\nvar nativeVTTCue = window.VTTCue;\nvar nativeVTTRegion = window.VTTRegion;\n\nvttjs.shim = function () {\n  window.VTTCue = cueShim;\n  window.VTTRegion = regionShim;\n};\n\nvttjs.restore = function () {\n  window.VTTCue = nativeVTTCue;\n  window.VTTRegion = nativeVTTRegion;\n};\n\nif (!window.VTTCue) {\n  vttjs.shim();\n}","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about MP4s.\n */\n'use strict';\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nvar toUnsigned = require('../utils/bin').toUnsigned;\n\nvar toHexString = require('../utils/bin').toHexString;\n\nvar findBox = require('../mp4/find-box.js');\n\nvar parseType = require('../mp4/parse-type.js');\n\nvar parseTfhd = require('../tools/parse-tfhd.js');\n\nvar parseTrun = require('../tools/parse-trun.js');\n\nvar parseTfdt = require('../tools/parse-tfdt.js');\n\nvar timescale, startTime, compositionStartTime, getVideoTrackIds, getTracks, getTimescaleFromMediaHeader;\n/**\n * Parses an MP4 initialization segment and extracts the timescale\n * values for any declared tracks. Timescale values indicate the\n * number of clock ticks per second to assume for time-based values\n * elsewhere in the MP4.\n *\n * To determine the start time of an MP4, you need two pieces of\n * information: the timescale unit and the earliest base media decode\n * time. Multiple timescales can be specified within an MP4 but the\n * base media decode time is always expressed in the timescale from\n * the media header box for the track:\n * ```\n * moov > trak > mdia > mdhd.timescale\n * ```\n * @param init {Uint8Array} the bytes of the init segment\n * @return {object} a hash of track ids to timescale values or null if\n * the init segment is malformed.\n */\n\ntimescale = function timescale(init) {\n  var result = {},\n      traks = findBox(init, ['moov', 'trak']); // mdhd timescale\n\n  return traks.reduce(function (result, trak) {\n    var tkhd, version, index, id, mdhd;\n    tkhd = findBox(trak, ['tkhd'])[0];\n\n    if (!tkhd) {\n      return null;\n    }\n\n    version = tkhd[0];\n    index = version === 0 ? 12 : 20;\n    id = toUnsigned(tkhd[index] << 24 | tkhd[index + 1] << 16 | tkhd[index + 2] << 8 | tkhd[index + 3]);\n    mdhd = findBox(trak, ['mdia', 'mdhd'])[0];\n\n    if (!mdhd) {\n      return null;\n    }\n\n    version = mdhd[0];\n    index = version === 0 ? 12 : 20;\n    result[id] = toUnsigned(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n    return result;\n  }, result);\n};\n/**\n * Determine the base media decode start time, in seconds, for an MP4\n * fragment. If multiple fragments are specified, the earliest time is\n * returned.\n *\n * The base media decode time can be parsed from track fragment\n * metadata:\n * ```\n * moof > traf > tfdt.baseMediaDecodeTime\n * ```\n * It requires the timescale value from the mdhd to interpret.\n *\n * @param timescale {object} a hash of track ids to timescale values.\n * @return {number} the earliest base media decode start time for the\n * fragment, in seconds\n */\n\n\nstartTime = function startTime(timescale, fragment) {\n  var trafs, baseTimes, result; // we need info from two childrend of each track fragment box\n\n  trafs = findBox(fragment, ['moof', 'traf']); // determine the start times for each track\n\n  baseTimes = [].concat.apply([], trafs.map(function (traf) {\n    return findBox(traf, ['tfhd']).map(function (tfhd) {\n      var id, scale, baseTime; // get the track id from the tfhd\n\n      id = toUnsigned(tfhd[4] << 24 | tfhd[5] << 16 | tfhd[6] << 8 | tfhd[7]); // assume a 90kHz clock if no timescale was specified\n\n      scale = timescale[id] || 90e3; // get the base media decode time from the tfdt\n\n      baseTime = findBox(traf, ['tfdt']).map(function (tfdt) {\n        var version, result;\n        version = tfdt[0];\n        result = toUnsigned(tfdt[4] << 24 | tfdt[5] << 16 | tfdt[6] << 8 | tfdt[7]);\n\n        if (version === 1) {\n          result *= Math.pow(2, 32);\n          result += toUnsigned(tfdt[8] << 24 | tfdt[9] << 16 | tfdt[10] << 8 | tfdt[11]);\n        }\n\n        return result;\n      })[0];\n      baseTime = baseTime || Infinity; // convert base time to seconds\n\n      return baseTime / scale;\n    });\n  })); // return the minimum\n\n  result = Math.min.apply(null, baseTimes);\n  return isFinite(result) ? result : 0;\n};\n/**\n * Determine the composition start, in seconds, for an MP4\n * fragment.\n *\n * The composition start time of a fragment can be calculated using the base\n * media decode time, composition time offset, and timescale, as follows:\n *\n * compositionStartTime = (baseMediaDecodeTime + compositionTimeOffset) / timescale\n *\n * All of the aforementioned information is contained within a media fragment's\n * `traf` box, except for timescale info, which comes from the initialization\n * segment, so a track id (also contained within a `traf`) is also necessary to\n * associate it with a timescale\n *\n *\n * @param timescales {object} - a hash of track ids to timescale values.\n * @param fragment {Unit8Array} - the bytes of a media segment\n * @return {number} the composition start time for the fragment, in seconds\n **/\n\n\ncompositionStartTime = function compositionStartTime(timescales, fragment) {\n  var trafBoxes = findBox(fragment, ['moof', 'traf']);\n  var baseMediaDecodeTime = 0;\n  var compositionTimeOffset = 0;\n  var trackId;\n\n  if (trafBoxes && trafBoxes.length) {\n    // The spec states that track run samples contained within a `traf` box are contiguous, but\n    // it does not explicitly state whether the `traf` boxes themselves are contiguous.\n    // We will assume that they are, so we only need the first to calculate start time.\n    var tfhd = findBox(trafBoxes[0], ['tfhd'])[0];\n    var trun = findBox(trafBoxes[0], ['trun'])[0];\n    var tfdt = findBox(trafBoxes[0], ['tfdt'])[0];\n\n    if (tfhd) {\n      var parsedTfhd = parseTfhd(tfhd);\n      trackId = parsedTfhd.trackId;\n    }\n\n    if (tfdt) {\n      var parsedTfdt = parseTfdt(tfdt);\n      baseMediaDecodeTime = parsedTfdt.baseMediaDecodeTime;\n    }\n\n    if (trun) {\n      var parsedTrun = parseTrun(trun);\n\n      if (parsedTrun.samples && parsedTrun.samples.length) {\n        compositionTimeOffset = parsedTrun.samples[0].compositionTimeOffset || 0;\n      }\n    }\n  } // Get timescale for this specific track. Assume a 90kHz clock if no timescale was\n  // specified.\n\n\n  var timescale = timescales[trackId] || 90e3; // return the composition start time, in seconds\n\n  return (baseMediaDecodeTime + compositionTimeOffset) / timescale;\n};\n/**\n  * Find the trackIds of the video tracks in this source.\n  * Found by parsing the Handler Reference and Track Header Boxes:\n  *   moov > trak > mdia > hdlr\n  *   moov > trak > tkhd\n  *\n  * @param {Uint8Array} init - The bytes of the init segment for this source\n  * @return {Number[]} A list of trackIds\n  *\n  * @see ISO-BMFF-12/2015, Section 8.4.3\n **/\n\n\ngetVideoTrackIds = function getVideoTrackIds(init) {\n  var traks = findBox(init, ['moov', 'trak']);\n  var videoTrackIds = [];\n  traks.forEach(function (trak) {\n    var hdlrs = findBox(trak, ['mdia', 'hdlr']);\n    var tkhds = findBox(trak, ['tkhd']);\n    hdlrs.forEach(function (hdlr, index) {\n      var handlerType = parseType(hdlr.subarray(8, 12));\n      var tkhd = tkhds[index];\n      var view;\n      var version;\n      var trackId;\n\n      if (handlerType === 'vide') {\n        view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n        version = view.getUint8(0);\n        trackId = version === 0 ? view.getUint32(12) : view.getUint32(20);\n        videoTrackIds.push(trackId);\n      }\n    });\n  });\n  return videoTrackIds;\n};\n\ngetTimescaleFromMediaHeader = function getTimescaleFromMediaHeader(mdhd) {\n  // mdhd is a FullBox, meaning it will have its own version as the first byte\n  var version = mdhd[0];\n  var index = version === 0 ? 12 : 20;\n  return toUnsigned(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n};\n/**\n * Get all the video, audio, and hint tracks from a non fragmented\n * mp4 segment\n */\n\n\ngetTracks = function getTracks(init) {\n  var traks = findBox(init, ['moov', 'trak']);\n  var tracks = [];\n  traks.forEach(function (trak) {\n    var track = {};\n    var tkhd = findBox(trak, ['tkhd'])[0];\n    var view, tkhdVersion; // id\n\n    if (tkhd) {\n      view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n      tkhdVersion = view.getUint8(0);\n      track.id = tkhdVersion === 0 ? view.getUint32(12) : view.getUint32(20);\n    }\n\n    var hdlr = findBox(trak, ['mdia', 'hdlr'])[0]; // type\n\n    if (hdlr) {\n      var type = parseType(hdlr.subarray(8, 12));\n\n      if (type === 'vide') {\n        track.type = 'video';\n      } else if (type === 'soun') {\n        track.type = 'audio';\n      } else {\n        track.type = type;\n      }\n    } // codec\n\n\n    var stsd = findBox(trak, ['mdia', 'minf', 'stbl', 'stsd'])[0];\n\n    if (stsd) {\n      var sampleDescriptions = stsd.subarray(8); // gives the codec type string\n\n      track.codec = parseType(sampleDescriptions.subarray(4, 8));\n      var codecBox = findBox(sampleDescriptions, [track.codec])[0];\n      var codecConfig, codecConfigType;\n\n      if (codecBox) {\n        // https://tools.ietf.org/html/rfc6381#section-3.3\n        if (/^[a-z]vc[1-9]$/i.test(track.codec)) {\n          // we don't need anything but the \"config\" parameter of the\n          // avc1 codecBox\n          codecConfig = codecBox.subarray(78);\n          codecConfigType = parseType(codecConfig.subarray(4, 8));\n\n          if (codecConfigType === 'avcC' && codecConfig.length > 11) {\n            track.codec += '.'; // left padded with zeroes for single digit hex\n            // profile idc\n\n            track.codec += toHexString(codecConfig[9]); // the byte containing the constraint_set flags\n\n            track.codec += toHexString(codecConfig[10]); // level idc\n\n            track.codec += toHexString(codecConfig[11]);\n          } else {\n            // TODO: show a warning that we couldn't parse the codec\n            // and are using the default\n            track.codec = 'avc1.4d400d';\n          }\n        } else if (/^mp4[a,v]$/i.test(track.codec)) {\n          // we do not need anything but the streamDescriptor of the mp4a codecBox\n          codecConfig = codecBox.subarray(28);\n          codecConfigType = parseType(codecConfig.subarray(4, 8));\n\n          if (codecConfigType === 'esds' && codecConfig.length > 20 && codecConfig[19] !== 0) {\n            track.codec += '.' + toHexString(codecConfig[19]); // this value is only a single digit\n\n            track.codec += '.' + toHexString(codecConfig[20] >>> 2 & 0x3f).replace(/^0/, '');\n          } else {\n            // TODO: show a warning that we couldn't parse the codec\n            // and are using the default\n            track.codec = 'mp4a.40.2';\n          }\n        } else {// TODO: show a warning? for unknown codec type\n        }\n      }\n    }\n\n    var mdhd = findBox(trak, ['mdia', 'mdhd'])[0];\n\n    if (mdhd) {\n      track.timescale = getTimescaleFromMediaHeader(mdhd);\n    }\n\n    tracks.push(track);\n  });\n  return tracks;\n};\n\nmodule.exports = {\n  // export mp4 inspector's findBox and parseType for backwards compatibility\n  findBox: findBox,\n  parseType: parseType,\n  timescale: timescale,\n  startTime: startTime,\n  compositionStartTime: compositionStartTime,\n  videoTrackIds: getVideoTrackIds,\n  tracks: getTracks,\n  getTimescaleFromMediaHeader: getTimescaleFromMediaHeader\n};","/*! @name @videojs/vhs-utils @version 2.2.1 @license MIT */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar window = require('global/window');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar window__default = /*#__PURE__*/_interopDefaultLegacy(window);\n\nvar regexs = {\n  // to determine mime types\n  mp4: /^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v)/,\n  webm: /^(vp0?[89]|av0?1|opus|vorbis)/,\n  ogg: /^(vp0?[89]|theora|flac|opus|vorbis)/,\n  // to determine if a codec is audio or video\n  video: /^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,\n  audio: /^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,\n  // mux.js support regex\n  muxerVideo: /^(avc0?1)/,\n  muxerAudio: /^(mp4a)/\n};\n/**\n * Replace the old apple-style `avc1.<dd>.<dd>` codec string with the standard\n * `avc1.<hhhhhh>`\n *\n * @param {string} codec\n *        Codec string to translate\n * @return {string}\n *         The translated codec string\n */\n\nvar translateLegacyCodec = function translateLegacyCodec(codec) {\n  if (!codec) {\n    return codec;\n  }\n\n  return codec.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (orig, profile, avcLevel) {\n    var profileHex = ('00' + Number(profile).toString(16)).slice(-2);\n    var avcLevelHex = ('00' + Number(avcLevel).toString(16)).slice(-2);\n    return 'avc1.' + profileHex + '00' + avcLevelHex;\n  });\n};\n/**\n * Replace the old apple-style `avc1.<dd>.<dd>` codec strings with the standard\n * `avc1.<hhhhhh>`\n *\n * @param {string[]} codecs\n *        An array of codec strings to translate\n * @return {string[]}\n *         The translated array of codec strings\n */\n\n\nvar translateLegacyCodecs = function translateLegacyCodecs(codecs) {\n  return codecs.map(translateLegacyCodec);\n};\n/**\n * Replace codecs in the codec string with the old apple-style `avc1.<dd>.<dd>` to the\n * standard `avc1.<hhhhhh>`.\n *\n * @param {string} codecString\n *        The codec string\n * @return {string}\n *         The codec string with old apple-style codecs replaced\n *\n * @private\n */\n\n\nvar mapLegacyAvcCodecs = function mapLegacyAvcCodecs(codecString) {\n  return codecString.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (match) {\n    return translateLegacyCodecs([match])[0];\n  });\n};\n/**\n * @typedef {Object} ParsedCodecInfo\n * @property {number} codecCount\n *           Number of codecs parsed\n * @property {string} [videoCodec]\n *           Parsed video codec (if found)\n * @property {string} [videoObjectTypeIndicator]\n *           Video object type indicator (if found)\n * @property {string|null} audioProfile\n *           Audio profile\n */\n\n/**\n * Parses a codec string to retrieve the number of codecs specified, the video codec and\n * object type indicator, and the audio profile.\n *\n * @param {string} [codecString]\n *        The codec string to parse\n * @return {ParsedCodecInfo}\n *         Parsed codec info\n */\n\n\nvar parseCodecs = function parseCodecs(codecString) {\n  if (codecString === void 0) {\n    codecString = '';\n  }\n\n  var codecs = codecString.split(',');\n  var result = {};\n  codecs.forEach(function (codec) {\n    codec = codec.trim();\n    ['video', 'audio'].forEach(function (name) {\n      var match = regexs[name].exec(codec.toLowerCase());\n\n      if (!match || match.length <= 1) {\n        return;\n      } // maintain codec case\n\n\n      var type = codec.substring(0, match[1].length);\n      var details = codec.replace(type, '');\n      result[name] = {\n        type: type,\n        details: details\n      };\n    });\n  });\n  return result;\n};\n/**\n * Returns a ParsedCodecInfo object for the default alternate audio playlist if there is\n * a default alternate audio playlist for the provided audio group.\n *\n * @param {Object} master\n *        The master playlist\n * @param {string} audioGroupId\n *        ID of the audio group for which to find the default codec info\n * @return {ParsedCodecInfo}\n *         Parsed codec info\n */\n\n\nvar codecsFromDefault = function codecsFromDefault(master, audioGroupId) {\n  if (!master.mediaGroups.AUDIO || !audioGroupId) {\n    return null;\n  }\n\n  var audioGroup = master.mediaGroups.AUDIO[audioGroupId];\n\n  if (!audioGroup) {\n    return null;\n  }\n\n  for (var name in audioGroup) {\n    var audioType = audioGroup[name];\n\n    if (audioType.default && audioType.playlists) {\n      // codec should be the same for all playlists within the audio type\n      return parseCodecs(audioType.playlists[0].attributes.CODECS);\n    }\n  }\n\n  return null;\n};\n\nvar isVideoCodec = function isVideoCodec(codec) {\n  if (codec === void 0) {\n    codec = '';\n  }\n\n  return regexs.video.test(codec.trim().toLowerCase());\n};\n\nvar isAudioCodec = function isAudioCodec(codec) {\n  if (codec === void 0) {\n    codec = '';\n  }\n\n  return regexs.audio.test(codec.trim().toLowerCase());\n};\n\nvar getMimeForCodec = function getMimeForCodec(codecString) {\n  if (!codecString || typeof codecString !== 'string') {\n    return;\n  }\n\n  var codecs = codecString.toLowerCase().split(',').map(function (c) {\n    return translateLegacyCodec(c.trim());\n  }); // default to video type\n\n  var type = 'video'; // only change to audio type if the only codec we have is\n  // audio\n\n  if (codecs.length === 1 && isAudioCodec(codecs[0])) {\n    type = 'audio';\n  } // default the container to mp4\n\n\n  var container = 'mp4'; // every codec must be able to go into the container\n  // for that container to be the correct one\n\n  if (codecs.every(function (c) {\n    return regexs.mp4.test(c);\n  })) {\n    container = 'mp4';\n  } else if (codecs.every(function (c) {\n    return regexs.webm.test(c);\n  })) {\n    container = 'webm';\n  } else if (codecs.every(function (c) {\n    return regexs.ogg.test(c);\n  })) {\n    container = 'ogg';\n  }\n\n  return type + \"/\" + container + \";codecs=\\\"\" + codecString + \"\\\"\";\n};\n\nvar browserSupportsCodec = function browserSupportsCodec(codecString) {\n  if (codecString === void 0) {\n    codecString = '';\n  }\n\n  return window__default['default'].MediaSource && window__default['default'].MediaSource.isTypeSupported && window__default['default'].MediaSource.isTypeSupported(getMimeForCodec(codecString)) || false;\n};\n\nvar muxerSupportsCodec = function muxerSupportsCodec(codecString) {\n  if (codecString === void 0) {\n    codecString = '';\n  }\n\n  return codecString.toLowerCase().split(',').every(function (codec) {\n    codec = codec.trim();\n    return regexs.muxerVideo.test(codec) || regexs.muxerAudio.test(codec);\n  });\n};\n\nvar DEFAULT_AUDIO_CODEC = 'mp4a.40.2';\nvar DEFAULT_VIDEO_CODEC = 'avc1.4d400d';\nexports.DEFAULT_AUDIO_CODEC = DEFAULT_AUDIO_CODEC;\nexports.DEFAULT_VIDEO_CODEC = DEFAULT_VIDEO_CODEC;\nexports.browserSupportsCodec = browserSupportsCodec;\nexports.codecsFromDefault = codecsFromDefault;\nexports.getMimeForCodec = getMimeForCodec;\nexports.isAudioCodec = isAudioCodec;\nexports.isVideoCodec = isVideoCodec;\nexports.mapLegacyAvcCodecs = mapLegacyAvcCodecs;\nexports.muxerSupportsCodec = muxerSupportsCodec;\nexports.parseCodecs = parseCodecs;\nexports.translateLegacyCodec = translateLegacyCodec;\nexports.translateLegacyCodecs = translateLegacyCodecs;","function DOMParser(options) {\n  this.options = options || {\n    locator: {}\n  };\n}\n\nDOMParser.prototype.parseFromString = function (source, mimeType) {\n  var options = this.options;\n  var sax = new XMLReader();\n  var domBuilder = options.domBuilder || new DOMHandler(); //contentHandler and LexicalHandler\n\n  var errorHandler = options.errorHandler;\n  var locator = options.locator;\n  var defaultNSMap = options.xmlns || {};\n  var entityMap = {\n    'lt': '<',\n    'gt': '>',\n    'amp': '&',\n    'quot': '\"',\n    'apos': \"'\"\n  };\n\n  if (locator) {\n    domBuilder.setDocumentLocator(locator);\n  }\n\n  sax.errorHandler = buildErrorHandler(errorHandler, domBuilder, locator);\n  sax.domBuilder = options.domBuilder || domBuilder;\n\n  if (/\\/x?html?$/.test(mimeType)) {\n    entityMap.nbsp = '\\xa0';\n    entityMap.copy = '\\xa9';\n    defaultNSMap[''] = 'http://www.w3.org/1999/xhtml';\n  }\n\n  defaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace';\n\n  if (source) {\n    sax.parse(source, defaultNSMap, entityMap);\n  } else {\n    sax.errorHandler.error(\"invalid doc source\");\n  }\n\n  return domBuilder.doc;\n};\n\nfunction buildErrorHandler(errorImpl, domBuilder, locator) {\n  if (!errorImpl) {\n    if (domBuilder instanceof DOMHandler) {\n      return domBuilder;\n    }\n\n    errorImpl = domBuilder;\n  }\n\n  var errorHandler = {};\n  var isCallback = errorImpl instanceof Function;\n  locator = locator || {};\n\n  function build(key) {\n    var fn = errorImpl[key];\n\n    if (!fn && isCallback) {\n      fn = errorImpl.length == 2 ? function (msg) {\n        errorImpl(key, msg);\n      } : errorImpl;\n    }\n\n    errorHandler[key] = fn && function (msg) {\n      fn('[xmldom ' + key + ']\\t' + msg + _locator(locator));\n    } || function () {};\n  }\n\n  build('warning');\n  build('error');\n  build('fatalError');\n  return errorHandler;\n} //console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n\n/**\r\n * +ContentHandler+ErrorHandler\r\n * +LexicalHandler+EntityResolver2\r\n * -DeclHandler-DTDHandler \r\n * \r\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\r\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\r\n */\n\n\nfunction DOMHandler() {\n  this.cdata = false;\n}\n\nfunction position(locator, node) {\n  node.lineNumber = locator.lineNumber;\n  node.columnNumber = locator.columnNumber;\n}\n/**\r\n * @see org.xml.sax.ContentHandler#startDocument\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\r\n */\n\n\nDOMHandler.prototype = {\n  startDocument: function startDocument() {\n    this.doc = new DOMImplementation().createDocument(null, null, null);\n\n    if (this.locator) {\n      this.doc.documentURI = this.locator.systemId;\n    }\n  },\n  startElement: function startElement(namespaceURI, localName, qName, attrs) {\n    var doc = this.doc;\n    var el = doc.createElementNS(namespaceURI, qName || localName);\n    var len = attrs.length;\n    appendElement(this, el);\n    this.currentElement = el;\n    this.locator && position(this.locator, el);\n\n    for (var i = 0; i < len; i++) {\n      var namespaceURI = attrs.getURI(i);\n      var value = attrs.getValue(i);\n      var qName = attrs.getQName(i);\n      var attr = doc.createAttributeNS(namespaceURI, qName);\n      this.locator && position(attrs.getLocator(i), attr);\n      attr.value = attr.nodeValue = value;\n      el.setAttributeNode(attr);\n    }\n  },\n  endElement: function endElement(namespaceURI, localName, qName) {\n    var current = this.currentElement;\n    var tagName = current.tagName;\n    this.currentElement = current.parentNode;\n  },\n  startPrefixMapping: function startPrefixMapping(prefix, uri) {},\n  endPrefixMapping: function endPrefixMapping(prefix) {},\n  processingInstruction: function processingInstruction(target, data) {\n    var ins = this.doc.createProcessingInstruction(target, data);\n    this.locator && position(this.locator, ins);\n    appendElement(this, ins);\n  },\n  ignorableWhitespace: function ignorableWhitespace(ch, start, length) {},\n  characters: function characters(chars, start, length) {\n    chars = _toString.apply(this, arguments); //console.log(chars)\n\n    if (chars) {\n      if (this.cdata) {\n        var charNode = this.doc.createCDATASection(chars);\n      } else {\n        var charNode = this.doc.createTextNode(chars);\n      }\n\n      if (this.currentElement) {\n        this.currentElement.appendChild(charNode);\n      } else if (/^\\s*$/.test(chars)) {\n        this.doc.appendChild(charNode); //process xml\n      }\n\n      this.locator && position(this.locator, charNode);\n    }\n  },\n  skippedEntity: function skippedEntity(name) {},\n  endDocument: function endDocument() {\n    this.doc.normalize();\n  },\n  setDocumentLocator: function setDocumentLocator(locator) {\n    if (this.locator = locator) {\n      // && !('lineNumber' in locator)){\n      locator.lineNumber = 0;\n    }\n  },\n  //LexicalHandler\n  comment: function comment(chars, start, length) {\n    chars = _toString.apply(this, arguments);\n    var comm = this.doc.createComment(chars);\n    this.locator && position(this.locator, comm);\n    appendElement(this, comm);\n  },\n  startCDATA: function startCDATA() {\n    //used in characters() methods\n    this.cdata = true;\n  },\n  endCDATA: function endCDATA() {\n    this.cdata = false;\n  },\n  startDTD: function startDTD(name, publicId, systemId) {\n    var impl = this.doc.implementation;\n\n    if (impl && impl.createDocumentType) {\n      var dt = impl.createDocumentType(name, publicId, systemId);\n      this.locator && position(this.locator, dt);\n      appendElement(this, dt);\n    }\n  },\n\n  /**\r\n   * @see org.xml.sax.ErrorHandler\r\n   * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\r\n   */\n  warning: function warning(error) {\n    console.warn('[xmldom warning]\\t' + error, _locator(this.locator));\n  },\n  error: function error(_error) {\n    console.error('[xmldom error]\\t' + _error, _locator(this.locator));\n  },\n  fatalError: function fatalError(error) {\n    console.error('[xmldom fatalError]\\t' + error, _locator(this.locator));\n    throw error;\n  }\n};\n\nfunction _locator(l) {\n  if (l) {\n    return '\\n@' + (l.systemId || '') + '#[line:' + l.lineNumber + ',col:' + l.columnNumber + ']';\n  }\n}\n\nfunction _toString(chars, start, length) {\n  if (typeof chars == 'string') {\n    return chars.substr(start, length);\n  } else {\n    //java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n    if (chars.length >= start + length || start) {\n      return new java.lang.String(chars, start, length) + '';\n    }\n\n    return chars;\n  }\n}\n/*\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\r\n * used method of org.xml.sax.ext.LexicalHandler:\r\n *  #comment(chars, start, length)\r\n *  #startCDATA()\r\n *  #endCDATA()\r\n *  #startDTD(name, publicId, systemId)\r\n *\r\n *\r\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\r\n *  #endDTD()\r\n *  #startEntity(name)\r\n *  #endEntity(name)\r\n *\r\n *\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\r\n * IGNORED method of org.xml.sax.ext.DeclHandler\r\n * \t#attributeDecl(eName, aName, type, mode, value)\r\n *  #elementDecl(name, model)\r\n *  #externalEntityDecl(name, publicId, systemId)\r\n *  #internalEntityDecl(name, value)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\r\n * IGNORED method of org.xml.sax.EntityResolver2\r\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\r\n *  #resolveEntity(publicId, systemId)\r\n *  #getExternalSubset(name, baseURI)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\r\n * IGNORED method of org.xml.sax.DTDHandler\r\n *  #notationDecl(name, publicId, systemId) {};\r\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\r\n */\n\n\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g, function (key) {\n  DOMHandler.prototype[key] = function () {\n    return null;\n  };\n});\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\n\nfunction appendElement(hander, node) {\n  if (!hander.currentElement) {\n    hander.doc.appendChild(node);\n  } else {\n    hander.currentElement.appendChild(node);\n  }\n} //appendChild and setAttributeNS are preformance key\n//if(typeof require == 'function'){\n\n\nvar XMLReader = require('./sax').XMLReader;\n\nvar DOMImplementation = exports.DOMImplementation = require('./dom').DOMImplementation;\n\nexports.XMLSerializer = require('./dom').XMLSerializer;\nexports.DOMParser = DOMParser; //}","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","import invariant from \"invariant\";\n\n////////////////////////////////////////////////////////////////////////////////\n// startsWith(string, search) - Check if `string` starts with `search`\nvar startsWith = function startsWith(string, search) {\n  return string.substr(0, search.length) === search;\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// pick(routes, uri)\n//\n// Ranks and picks the best route to match. Each segment gets the highest\n// amount of points, then the type of segment gets an additional amount of\n// points where\n//\n//     static > dynamic > splat > root\n//\n// This way we don't have to worry about the order of our routes, let the\n// computers do it.\n//\n// A route looks like this\n//\n//     { path, default, value }\n//\n// And a returned match looks like:\n//\n//     { route, params, uri }\n//\n// I know, I should use TypeScript not comments for these types.\nvar pick = function pick(routes, uri) {\n  var match = void 0;\n  var default_ = void 0;\n\n  var _uri$split = uri.split(\"?\"),\n      uriPathname = _uri$split[0];\n\n  var uriSegments = segmentize(uriPathname);\n  var isRootUri = uriSegments[0] === \"\";\n  var ranked = rankRoutes(routes);\n\n  for (var i = 0, l = ranked.length; i < l; i++) {\n    var missed = false;\n    var route = ranked[i].route;\n\n    if (route.default) {\n      default_ = {\n        route: route,\n        params: {},\n        uri: uri\n      };\n      continue;\n    }\n\n    var routeSegments = segmentize(route.path);\n    var params = {};\n    var max = Math.max(uriSegments.length, routeSegments.length);\n    var index = 0;\n\n    for (; index < max; index++) {\n      var routeSegment = routeSegments[index];\n      var uriSegment = uriSegments[index];\n\n      if (isSplat(routeSegment)) {\n        // Hit a splat, just grab the rest, and return a match\n        // uri:   /files/documents/work\n        // route: /files/*\n        var param = routeSegment.slice(1) || \"*\";\n        params[param] = uriSegments.slice(index).map(decodeURIComponent).join(\"/\");\n        break;\n      }\n\n      if (uriSegment === undefined) {\n        // URI is shorter than the route, no match\n        // uri:   /users\n        // route: /users/:userId\n        missed = true;\n        break;\n      }\n\n      var dynamicMatch = paramRe.exec(routeSegment);\n\n      if (dynamicMatch && !isRootUri) {\n        var matchIsNotReserved = reservedNames.indexOf(dynamicMatch[1]) === -1;\n        !matchIsNotReserved ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Router> dynamic segment \\\"\" + dynamicMatch[1] + \"\\\" is a reserved name. Please use a different name in path \\\"\" + route.path + \"\\\".\") : invariant(false) : void 0;\n        var value = decodeURIComponent(uriSegment);\n        params[dynamicMatch[1]] = value;\n      } else if (routeSegment !== uriSegment) {\n        // Current segments don't match, not dynamic, not splat, so no match\n        // uri:   /users/123/settings\n        // route: /users/:id/profile\n        missed = true;\n        break;\n      }\n    }\n\n    if (!missed) {\n      match = {\n        route: route,\n        params: params,\n        uri: \"/\" + uriSegments.slice(0, index).join(\"/\")\n      };\n      break;\n    }\n  }\n\n  return match || default_ || null;\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// match(path, uri) - Matches just one path to a uri, also lol\nvar match = function match(path, uri) {\n  return pick([{ path: path }], uri);\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// resolve(to, basepath)\n//\n// Resolves URIs as though every path is a directory, no files.  Relative URIs\n// in the browser can feel awkward because not only can you be \"in a directory\"\n// you can be \"at a file\", too. For example\n//\n//     browserSpecResolve('foo', '/bar/') => /bar/foo\n//     browserSpecResolve('foo', '/bar') => /foo\n//\n// But on the command line of a file system, it's not as complicated, you can't\n// `cd` from a file, only directories.  This way, links have to know less about\n// their current path. To go deeper you can do this:\n//\n//     <Link to=\"deeper\"/>\n//     // instead of\n//     <Link to=`{${props.uri}/deeper}`/>\n//\n// Just like `cd`, if you want to go deeper from the command line, you do this:\n//\n//     cd deeper\n//     # not\n//     cd $(pwd)/deeper\n//\n// By treating every path as a directory, linking to relative paths should\n// require less contextual information and (fingers crossed) be more intuitive.\nvar resolve = function resolve(to, base) {\n  // /foo/bar, /baz/qux => /foo/bar\n  if (startsWith(to, \"/\")) {\n    return to;\n  }\n\n  var _to$split = to.split(\"?\"),\n      toPathname = _to$split[0],\n      toQuery = _to$split[1];\n\n  var _base$split = base.split(\"?\"),\n      basePathname = _base$split[0];\n\n  var toSegments = segmentize(toPathname);\n  var baseSegments = segmentize(basePathname);\n\n  // ?a=b, /users?b=c => /users?a=b\n  if (toSegments[0] === \"\") {\n    return addQuery(basePathname, toQuery);\n  }\n\n  // profile, /users/789 => /users/789/profile\n  if (!startsWith(toSegments[0], \".\")) {\n    var pathname = baseSegments.concat(toSegments).join(\"/\");\n    return addQuery((basePathname === \"/\" ? \"\" : \"/\") + pathname, toQuery);\n  }\n\n  // ./         /users/123  =>  /users/123\n  // ../        /users/123  =>  /users\n  // ../..      /users/123  =>  /\n  // ../../one  /a/b/c/d    =>  /a/b/one\n  // .././one   /a/b/c/d    =>  /a/b/c/one\n  var allSegments = baseSegments.concat(toSegments);\n  var segments = [];\n  for (var i = 0, l = allSegments.length; i < l; i++) {\n    var segment = allSegments[i];\n    if (segment === \"..\") segments.pop();else if (segment !== \".\") segments.push(segment);\n  }\n\n  return addQuery(\"/\" + segments.join(\"/\"), toQuery);\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// insertParams(path, params)\n\nvar insertParams = function insertParams(path, params) {\n  var _path$split = path.split(\"?\"),\n      pathBase = _path$split[0],\n      _path$split$ = _path$split[1],\n      query = _path$split$ === undefined ? \"\" : _path$split$;\n\n  var segments = segmentize(pathBase);\n  var constructedPath = \"/\" + segments.map(function (segment) {\n    var match = paramRe.exec(segment);\n    return match ? params[match[1]] : segment;\n  }).join(\"/\");\n  var _params$location = params.location;\n  _params$location = _params$location === undefined ? {} : _params$location;\n  var _params$location$sear = _params$location.search,\n      search = _params$location$sear === undefined ? \"\" : _params$location$sear;\n\n  var searchSplit = search.split(\"?\")[1] || \"\";\n  constructedPath = addQuery(constructedPath, query, searchSplit);\n  return constructedPath;\n};\n\nvar validateRedirect = function validateRedirect(from, to) {\n  var filter = function filter(segment) {\n    return isDynamic(segment);\n  };\n  var fromString = segmentize(from).filter(filter).sort().join(\"/\");\n  var toString = segmentize(to).filter(filter).sort().join(\"/\");\n  return fromString === toString;\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// Junk\nvar paramRe = /^:(.+)/;\n\nvar SEGMENT_POINTS = 4;\nvar STATIC_POINTS = 3;\nvar DYNAMIC_POINTS = 2;\nvar SPLAT_PENALTY = 1;\nvar ROOT_POINTS = 1;\n\nvar isRootSegment = function isRootSegment(segment) {\n  return segment === \"\";\n};\nvar isDynamic = function isDynamic(segment) {\n  return paramRe.test(segment);\n};\nvar isSplat = function isSplat(segment) {\n  return segment && segment[0] === \"*\";\n};\n\nvar rankRoute = function rankRoute(route, index) {\n  var score = route.default ? 0 : segmentize(route.path).reduce(function (score, segment) {\n    score += SEGMENT_POINTS;\n    if (isRootSegment(segment)) score += ROOT_POINTS;else if (isDynamic(segment)) score += DYNAMIC_POINTS;else if (isSplat(segment)) score -= SEGMENT_POINTS + SPLAT_PENALTY;else score += STATIC_POINTS;\n    return score;\n  }, 0);\n  return { route: route, score: score, index: index };\n};\n\nvar rankRoutes = function rankRoutes(routes) {\n  return routes.map(rankRoute).sort(function (a, b) {\n    return a.score < b.score ? 1 : a.score > b.score ? -1 : a.index - b.index;\n  });\n};\n\nvar segmentize = function segmentize(uri) {\n  return uri\n  // strip starting/ending slashes\n  .replace(/(^\\/+|\\/+$)/g, \"\").split(\"/\");\n};\n\nvar addQuery = function addQuery(pathname) {\n  for (var _len = arguments.length, query = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    query[_key - 1] = arguments[_key];\n  }\n\n  query = query.filter(function (q) {\n    return q && q.length > 0;\n  });\n  return pathname + (query && query.length > 0 ? \"?\" + query.join(\"&\") : \"\");\n};\n\nvar reservedNames = [\"uri\", \"path\"];\n\n/**\n * Shallow compares two objects.\n * @param {Object} obj1 The first object to compare.\n * @param {Object} obj2 The second object to compare.\n */\nvar shallowCompare = function shallowCompare(obj1, obj2) {\n  var obj1Keys = Object.keys(obj1);\n  return obj1Keys.length === Object.keys(obj2).length && obj1Keys.every(function (key) {\n    return obj2.hasOwnProperty(key) && obj1[key] === obj2[key];\n  });\n};\n\n////////////////////////////////////////////////////////////////////////////////\nexport { startsWith, pick, match, resolve, insertParams, validateRedirect, shallowCompare };","module.exports = [{\n      plugin: require('../node_modules/gatsby-plugin-google-analytics/gatsby-browser.js'),\n      options: {\"plugins\":[],\"trackingId\":\"UA-98315944-3\",\"head\":false,\"anonymize\":false,\"respectDNT\":false,\"exclude\":[],\"pageTransitionDelay\":0},\n    },{\n      plugin: require('../node_modules/gatsby-plugin-manifest/gatsby-browser.js'),\n      options: {\"plugins\":[],\"name\":\"MetalSubs\",\"short_name\":\"MetalSubs\",\"start_url\":\"/\",\"background_color\":\"#191B1C\",\"theme_color\":\"#2d2d2d\",\"display\":\"minimal-ui\",\"icon\":\"src/images/metalsubs-logo.png\",\"legacy\":true,\"theme_color_in_head\":true,\"cache_busting_mode\":\"query\",\"crossOrigin\":\"anonymous\",\"include_favicon\":true,\"cacheDigest\":\"875eafa2ab8407415efd1e05d87751fb\"},\n    },{\n      plugin: require('../gatsby-browser.js'),\n      options: {\"plugins\":[]},\n    }]\n","/*!\n * domready (c) Dustin Diaz 2014 - License MIT\n * ie10 fix - Mikael Kristiansson 2019\n */\n!(function(name, definition) {\n  if (typeof module != \"undefined\") module.exports = definition();\n  else if (typeof define == \"function\" && typeof define.amd == \"object\")\n    define(definition);\n  else this[name] = definition();\n})(\"domready\", function() {\n  var ie10 = false;\n  if (navigator.appVersion.indexOf(\"MSIE 10\") !== -1) {\n    ie10 = true;\n  }\n\n  var fns = [],\n    listener,\n    doc = typeof document === \"object\" && document,\n    hack = ie10\n      ? doc.documentElement.doScroll(\"left\")\n      : doc.documentElement.doScroll,\n    domContentLoaded = \"DOMContentLoaded\",\n    loaded =\n      doc && (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState);\n\n  if (!loaded && doc)\n    doc.addEventListener(\n      domContentLoaded,\n      (listener = function() {\n        doc.removeEventListener(domContentLoaded, listener);\n        loaded = 1;\n        while ((listener = fns.shift())) listener();\n      })\n    );\n\n  return function(fn) {\n    loaded ? setTimeout(fn, 0) : fns.push(fn);\n  };\n});\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","import { apiRunner } from \"./api-runner-browser\"\n\nif (\n  window.location.protocol !== `https:` &&\n  window.location.hostname !== `localhost`\n) {\n  console.error(\n    `Service workers can only be used over HTTPS, or on localhost for development`\n  )\n} else if (`serviceWorker` in navigator) {\n  navigator.serviceWorker\n    .register(`${__BASE_PATH__}/sw.js`)\n    .then(function (reg) {\n      reg.addEventListener(`updatefound`, () => {\n        apiRunner(`onServiceWorkerUpdateFound`, { serviceWorker: reg })\n        // The updatefound event implies that reg.installing is set; see\n        // https://w3c.github.io/ServiceWorker/#service-worker-registration-updatefound-event\n        const installingWorker = reg.installing\n        console.log(`installingWorker`, installingWorker)\n        installingWorker.addEventListener(`statechange`, () => {\n          switch (installingWorker.state) {\n            case `installed`:\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and the fresh content will\n                // have been added to the cache.\n\n                // We set a flag so Gatsby Link knows to refresh the page on next navigation attempt\n                window.___swUpdated = true\n                // We call the onServiceWorkerUpdateReady API so users can show update prompts.\n                apiRunner(`onServiceWorkerUpdateReady`, { serviceWorker: reg })\n\n                // If resources failed for the current page, reload.\n                if (window.___failedResources) {\n                  console.log(`resources failed, SW updated - reloading`)\n                  window.location.reload()\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a \"Content is cached for offline use.\" message.\n                console.log(`Content is now available offline!`)\n\n                // Post to service worker that install is complete.\n                // Delay to allow time for the event listener to be added --\n                // otherwise fetch is called too soon and resources aren't cached.\n                apiRunner(`onServiceWorkerInstalled`, { serviceWorker: reg })\n              }\n              break\n\n            case `redundant`:\n              console.error(`The installing service worker became redundant.`)\n              apiRunner(`onServiceWorkerRedundant`, { serviceWorker: reg })\n              break\n\n            case `activated`:\n              apiRunner(`onServiceWorkerActive`, { serviceWorker: reg })\n              break\n          }\n        })\n      })\n    })\n    .catch(function (e) {\n      console.error(`Error during service worker registration:`, e)\n    })\n}\n","// prefer default export if available\nconst preferDefault = m => (m && m.default) || m\n\nexports.components = {\n  \"component---src-pages-404-jsx\": () => import(\"./../../../src/pages/404.jsx\" /* webpackChunkName: \"component---src-pages-404-jsx\" */),\n  \"component---src-pages-index-js\": () => import(\"./../../../src/pages/index.js\" /* webpackChunkName: \"component---src-pages-index-js\" */),\n  \"component---src-templates-page-jsx\": () => import(\"./../../../src/templates/Page.jsx\" /* webpackChunkName: \"component---src-templates-page-jsx\" */),\n  \"component---src-templates-video-jsx\": () => import(\"./../../../src/templates/Video.jsx\" /* webpackChunkName: \"component---src-templates-video-jsx\" */)\n}\n\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar ONE_SECOND_IN_TS = 90000,\n    // 90kHz clock\nsecondsToVideoTs,\n    secondsToAudioTs,\n    videoTsToSeconds,\n    audioTsToSeconds,\n    audioTsToVideoTs,\n    videoTsToAudioTs,\n    metadataTsToSeconds;\n\nsecondsToVideoTs = function secondsToVideoTs(seconds) {\n  return seconds * ONE_SECOND_IN_TS;\n};\n\nsecondsToAudioTs = function secondsToAudioTs(seconds, sampleRate) {\n  return seconds * sampleRate;\n};\n\nvideoTsToSeconds = function videoTsToSeconds(timestamp) {\n  return timestamp / ONE_SECOND_IN_TS;\n};\n\naudioTsToSeconds = function audioTsToSeconds(timestamp, sampleRate) {\n  return timestamp / sampleRate;\n};\n\naudioTsToVideoTs = function audioTsToVideoTs(timestamp, sampleRate) {\n  return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n};\n\nvideoTsToAudioTs = function videoTsToAudioTs(timestamp, sampleRate) {\n  return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n};\n/**\n * Adjust ID3 tag or caption timing information by the timeline pts values\n * (if keepOriginalTimestamps is false) and convert to seconds\n */\n\n\nmetadataTsToSeconds = function metadataTsToSeconds(timestamp, timelineStartPts, keepOriginalTimestamps) {\n  return videoTsToSeconds(keepOriginalTimestamps ? timestamp : timestamp - timelineStartPts);\n};\n\nmodule.exports = {\n  ONE_SECOND_IN_TS: ONE_SECOND_IN_TS,\n  secondsToVideoTs: secondsToVideoTs,\n  secondsToAudioTs: secondsToAudioTs,\n  videoTsToSeconds: videoTsToSeconds,\n  audioTsToSeconds: audioTsToSeconds,\n  audioTsToVideoTs: audioTsToVideoTs,\n  videoTsToAudioTs: videoTsToAudioTs,\n  metadataTsToSeconds: metadataTsToSeconds\n};","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about TS Segments.\n */\n'use strict';\n\nvar StreamTypes = require('./stream-types.js');\n\nvar parsePid = function parsePid(packet) {\n  var pid = packet[1] & 0x1f;\n  pid <<= 8;\n  pid |= packet[2];\n  return pid;\n};\n\nvar parsePayloadUnitStartIndicator = function parsePayloadUnitStartIndicator(packet) {\n  return !!(packet[1] & 0x40);\n};\n\nvar parseAdaptionField = function parseAdaptionField(packet) {\n  var offset = 0; // if an adaption field is present, its length is specified by the\n  // fifth byte of the TS packet header. The adaptation field is\n  // used to add stuffing to PES packets that don't fill a complete\n  // TS packet, and to specify some forms of timing and control data\n  // that we do not currently use.\n\n  if ((packet[3] & 0x30) >>> 4 > 0x01) {\n    offset += packet[4] + 1;\n  }\n\n  return offset;\n};\n\nvar parseType = function parseType(packet, pmtPid) {\n  var pid = parsePid(packet);\n\n  if (pid === 0) {\n    return 'pat';\n  } else if (pid === pmtPid) {\n    return 'pmt';\n  } else if (pmtPid) {\n    return 'pes';\n  }\n\n  return null;\n};\n\nvar parsePat = function parsePat(packet) {\n  var pusi = parsePayloadUnitStartIndicator(packet);\n  var offset = 4 + parseAdaptionField(packet);\n\n  if (pusi) {\n    offset += packet[offset] + 1;\n  }\n\n  return (packet[offset + 10] & 0x1f) << 8 | packet[offset + 11];\n};\n\nvar parsePmt = function parsePmt(packet) {\n  var programMapTable = {};\n  var pusi = parsePayloadUnitStartIndicator(packet);\n  var payloadOffset = 4 + parseAdaptionField(packet);\n\n  if (pusi) {\n    payloadOffset += packet[payloadOffset] + 1;\n  } // PMTs can be sent ahead of the time when they should actually\n  // take effect. We don't believe this should ever be the case\n  // for HLS but we'll ignore \"forward\" PMT declarations if we see\n  // them. Future PMT declarations have the current_next_indicator\n  // set to zero.\n\n\n  if (!(packet[payloadOffset + 5] & 0x01)) {\n    return;\n  }\n\n  var sectionLength, tableEnd, programInfoLength; // the mapping table ends at the end of the current section\n\n  sectionLength = (packet[payloadOffset + 1] & 0x0f) << 8 | packet[payloadOffset + 2];\n  tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n  // long the program info descriptors are\n\n  programInfoLength = (packet[payloadOffset + 10] & 0x0f) << 8 | packet[payloadOffset + 11]; // advance the offset to the first entry in the mapping table\n\n  var offset = 12 + programInfoLength;\n\n  while (offset < tableEnd) {\n    var i = payloadOffset + offset; // add an entry that maps the elementary_pid to the stream_type\n\n    programMapTable[(packet[i + 1] & 0x1F) << 8 | packet[i + 2]] = packet[i]; // move to the next table entry\n    // skip past the elementary stream descriptors, if present\n\n    offset += ((packet[i + 3] & 0x0F) << 8 | packet[i + 4]) + 5;\n  }\n\n  return programMapTable;\n};\n\nvar parsePesType = function parsePesType(packet, programMapTable) {\n  var pid = parsePid(packet);\n  var type = programMapTable[pid];\n\n  switch (type) {\n    case StreamTypes.H264_STREAM_TYPE:\n      return 'video';\n\n    case StreamTypes.ADTS_STREAM_TYPE:\n      return 'audio';\n\n    case StreamTypes.METADATA_STREAM_TYPE:\n      return 'timed-metadata';\n\n    default:\n      return null;\n  }\n};\n\nvar parsePesTime = function parsePesTime(packet) {\n  var pusi = parsePayloadUnitStartIndicator(packet);\n\n  if (!pusi) {\n    return null;\n  }\n\n  var offset = 4 + parseAdaptionField(packet);\n\n  if (offset >= packet.byteLength) {\n    // From the H 222.0 MPEG-TS spec\n    // \"For transport stream packets carrying PES packets, stuffing is needed when there\n    //  is insufficient PES packet data to completely fill the transport stream packet\n    //  payload bytes. Stuffing is accomplished by defining an adaptation field longer than\n    //  the sum of the lengths of the data elements in it, so that the payload bytes\n    //  remaining after the adaptation field exactly accommodates the available PES packet\n    //  data.\"\n    //\n    // If the offset is >= the length of the packet, then the packet contains no data\n    // and instead is just adaption field stuffing bytes\n    return null;\n  }\n\n  var pes = null;\n  var ptsDtsFlags; // PES packets may be annotated with a PTS value, or a PTS value\n  // and a DTS value. Determine what combination of values is\n  // available to work with.\n\n  ptsDtsFlags = packet[offset + 7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n  // performs all bitwise operations on 32-bit integers but javascript\n  // supports a much greater range (52-bits) of integer using standard\n  // mathematical operations.\n  // We construct a 31-bit value using bitwise operators over the 31\n  // most significant bits and then multiply by 4 (equal to a left-shift\n  // of 2) before we add the final 2 least significant bits of the\n  // timestamp (equal to an OR.)\n\n  if (ptsDtsFlags & 0xC0) {\n    pes = {}; // the PTS and DTS are not written out directly. For information\n    // on how they are encoded, see\n    // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n\n    pes.pts = (packet[offset + 9] & 0x0E) << 27 | (packet[offset + 10] & 0xFF) << 20 | (packet[offset + 11] & 0xFE) << 12 | (packet[offset + 12] & 0xFF) << 5 | (packet[offset + 13] & 0xFE) >>> 3;\n    pes.pts *= 4; // Left shift by 2\n\n    pes.pts += (packet[offset + 13] & 0x06) >>> 1; // OR by the two LSBs\n\n    pes.dts = pes.pts;\n\n    if (ptsDtsFlags & 0x40) {\n      pes.dts = (packet[offset + 14] & 0x0E) << 27 | (packet[offset + 15] & 0xFF) << 20 | (packet[offset + 16] & 0xFE) << 12 | (packet[offset + 17] & 0xFF) << 5 | (packet[offset + 18] & 0xFE) >>> 3;\n      pes.dts *= 4; // Left shift by 2\n\n      pes.dts += (packet[offset + 18] & 0x06) >>> 1; // OR by the two LSBs\n    }\n  }\n\n  return pes;\n};\n\nvar parseNalUnitType = function parseNalUnitType(type) {\n  switch (type) {\n    case 0x05:\n      return 'slice_layer_without_partitioning_rbsp_idr';\n\n    case 0x06:\n      return 'sei_rbsp';\n\n    case 0x07:\n      return 'seq_parameter_set_rbsp';\n\n    case 0x08:\n      return 'pic_parameter_set_rbsp';\n\n    case 0x09:\n      return 'access_unit_delimiter_rbsp';\n\n    default:\n      return null;\n  }\n};\n\nvar videoPacketContainsKeyFrame = function videoPacketContainsKeyFrame(packet) {\n  var offset = 4 + parseAdaptionField(packet);\n  var frameBuffer = packet.subarray(offset);\n  var frameI = 0;\n  var frameSyncPoint = 0;\n  var foundKeyFrame = false;\n  var nalType; // advance the sync point to a NAL start, if necessary\n\n  for (; frameSyncPoint < frameBuffer.byteLength - 3; frameSyncPoint++) {\n    if (frameBuffer[frameSyncPoint + 2] === 1) {\n      // the sync point is properly aligned\n      frameI = frameSyncPoint + 5;\n      break;\n    }\n  }\n\n  while (frameI < frameBuffer.byteLength) {\n    // look at the current byte to determine if we've hit the end of\n    // a NAL unit boundary\n    switch (frameBuffer[frameI]) {\n      case 0:\n        // skip past non-sync sequences\n        if (frameBuffer[frameI - 1] !== 0) {\n          frameI += 2;\n          break;\n        } else if (frameBuffer[frameI - 2] !== 0) {\n          frameI++;\n          break;\n        }\n\n        if (frameSyncPoint + 3 !== frameI - 2) {\n          nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n          if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n            foundKeyFrame = true;\n          }\n        } // drop trailing zeroes\n\n\n        do {\n          frameI++;\n        } while (frameBuffer[frameI] !== 1 && frameI < frameBuffer.length);\n\n        frameSyncPoint = frameI - 2;\n        frameI += 3;\n        break;\n\n      case 1:\n        // skip past non-sync sequences\n        if (frameBuffer[frameI - 1] !== 0 || frameBuffer[frameI - 2] !== 0) {\n          frameI += 3;\n          break;\n        }\n\n        nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n        if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n          foundKeyFrame = true;\n        }\n\n        frameSyncPoint = frameI - 2;\n        frameI += 3;\n        break;\n\n      default:\n        // the current byte isn't a one or zero, so it cannot be part\n        // of a sync sequence\n        frameI += 3;\n        break;\n    }\n  }\n\n  frameBuffer = frameBuffer.subarray(frameSyncPoint);\n  frameI -= frameSyncPoint;\n  frameSyncPoint = 0; // parse the final nal\n\n  if (frameBuffer && frameBuffer.byteLength > 3) {\n    nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n    if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n      foundKeyFrame = true;\n    }\n  }\n\n  return foundKeyFrame;\n};\n\nmodule.exports = {\n  parseType: parseType,\n  parsePat: parsePat,\n  parsePmt: parsePmt,\n  parsePayloadUnitStartIndicator: parsePayloadUnitStartIndicator,\n  parsePesType: parsePesType,\n  parsePesTime: parsePesTime,\n  videoPacketContainsKeyFrame: videoPacketContainsKeyFrame\n};","var global = require('../internals/global');\n\nmodule.exports = global;\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * A lightweight readable stream implemention that handles event dispatching.\n * Objects that inherit from streams should call init in their constructors.\n */\n'use strict';\n\nvar Stream = function Stream() {\n  this.init = function () {\n    var listeners = {};\n    /**\n     * Add a listener for a specified event type.\n     * @param type {string} the event name\n     * @param listener {function} the callback to be invoked when an event of\n     * the specified type occurs\n     */\n\n    this.on = function (type, listener) {\n      if (!listeners[type]) {\n        listeners[type] = [];\n      }\n\n      listeners[type] = listeners[type].concat(listener);\n    };\n    /**\n     * Remove a listener for a specified event type.\n     * @param type {string} the event name\n     * @param listener {function} a function previously registered for this\n     * type of event through `on`\n     */\n\n\n    this.off = function (type, listener) {\n      var index;\n\n      if (!listeners[type]) {\n        return false;\n      }\n\n      index = listeners[type].indexOf(listener);\n      listeners[type] = listeners[type].slice();\n      listeners[type].splice(index, 1);\n      return index > -1;\n    };\n    /**\n     * Trigger an event of the specified type on this stream. Any additional\n     * arguments to this function are passed as parameters to event listeners.\n     * @param type {string} the event name\n     */\n\n\n    this.trigger = function (type) {\n      var callbacks, i, length, args;\n      callbacks = listeners[type];\n\n      if (!callbacks) {\n        return;\n      } // Slicing the arguments on every invocation of this method\n      // can add a significant amount of overhead. Avoid the\n      // intermediate object creation for the common case of a\n      // single callback argument\n\n\n      if (arguments.length === 2) {\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].call(this, arguments[1]);\n        }\n      } else {\n        args = [];\n        i = arguments.length;\n\n        for (i = 1; i < arguments.length; ++i) {\n          args.push(arguments[i]);\n        }\n\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].apply(this, args);\n        }\n      }\n    };\n    /**\n     * Destroys the stream and cleans up.\n     */\n\n\n    this.dispose = function () {\n      listeners = {};\n    };\n  };\n};\n/**\n * Forwards all `data` events on this stream to the destination stream. The\n * destination stream should provide a method `push` to receive the data\n * events as they arrive.\n * @param destination {stream} the stream that will receive all `data` events\n * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n *                            when the current stream emits a 'done' event\n * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n */\n\n\nStream.prototype.pipe = function (destination) {\n  this.on('data', function (data) {\n    destination.push(data);\n  });\n  this.on('done', function (flushSource) {\n    destination.flush(flushSource);\n  });\n  this.on('partialdone', function (flushSource) {\n    destination.partialFlush(flushSource);\n  });\n  this.on('endedtimeline', function (flushSource) {\n    destination.endTimeline(flushSource);\n  });\n  this.on('reset', function (flushSource) {\n    destination.reset(flushSource);\n  });\n  return destination;\n}; // Default stream functions that are expected to be overridden to perform\n// actual work. These are provided by the prototype as a sort of no-op\n// implementation so that we don't have to check for their existence in the\n// `pipe` function above.\n\n\nStream.prototype.push = function (data) {\n  this.trigger('data', data);\n};\n\nStream.prototype.flush = function (flushSource) {\n  this.trigger('done', flushSource);\n};\n\nStream.prototype.partialFlush = function (flushSource) {\n  this.trigger('partialdone', flushSource);\n};\n\nStream.prototype.endTimeline = function (flushSource) {\n  this.trigger('endedtimeline', flushSource);\n};\n\nStream.prototype.reset = function (flushSource) {\n  this.trigger('reset', flushSource);\n};\n\nmodule.exports = Stream;","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// This is extracted to separate module because it's shared\n// between browser and SSR code\nexport const RouteAnnouncerProps = {\n  id: `gatsby-announcer`,\n  style: {\n    position: `absolute`,\n    top: 0,\n    width: 1,\n    height: 1,\n    padding: 0,\n    overflow: `hidden`,\n    clip: `rect(0, 0, 0, 0)`,\n    whiteSpace: `nowrap`,\n    border: 0,\n  },\n  \"aria-live\": `assertive`,\n  \"aria-atomic\": `true`,\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport loader, { PageResourceStatus } from \"./loader\"\nimport redirects from \"./redirects.json\"\nimport { apiRunner } from \"./api-runner-browser\"\nimport emitter from \"./emitter\"\nimport { RouteAnnouncerProps } from \"./route-announcer-props\"\nimport { navigate as reachNavigate } from \"@reach/router\"\nimport { globalHistory } from \"@reach/router/lib/history\"\nimport { parsePath } from \"gatsby-link\"\n\n// Convert to a map for faster lookup in maybeRedirect()\nconst redirectMap = redirects.reduce((map, redirect) => {\n  map[redirect.fromPath] = redirect\n  return map\n}, {})\n\nfunction maybeRedirect(pathname) {\n  const redirect = redirectMap[pathname]\n\n  if (redirect != null) {\n    if (process.env.NODE_ENV !== `production`) {\n      if (!loader.isPageNotFound(pathname)) {\n        console.error(\n          `The route \"${pathname}\" matches both a page and a redirect; this is probably not intentional.`\n        )\n      }\n    }\n\n    window.___replace(redirect.toPath)\n    return true\n  } else {\n    return false\n  }\n}\n\nconst onPreRouteUpdate = (location, prevLocation) => {\n  if (!maybeRedirect(location.pathname)) {\n    apiRunner(`onPreRouteUpdate`, { location, prevLocation })\n  }\n}\n\nconst onRouteUpdate = (location, prevLocation) => {\n  if (!maybeRedirect(location.pathname)) {\n    apiRunner(`onRouteUpdate`, { location, prevLocation })\n  }\n}\n\nconst navigate = (to, options = {}) => {\n  // Support forward/backward navigation with numbers\n  // navigate(-2) (jumps back 2 history steps)\n  // navigate(2)  (jumps forward 2 history steps)\n  if (typeof to === `number`) {\n    globalHistory.navigate(to)\n    return\n  }\n\n  let { pathname } = parsePath(to)\n  const redirect = redirectMap[pathname]\n\n  // If we're redirecting, just replace the passed in pathname\n  // to the one we want to redirect to.\n  if (redirect) {\n    to = redirect.toPath\n    pathname = parsePath(to).pathname\n  }\n\n  // If we had a service worker update, no matter the path, reload window and\n  // reset the pathname whitelist\n  if (window.___swUpdated) {\n    window.location = pathname\n    return\n  }\n\n  // Start a timer to wait for a second before transitioning and showing a\n  // loader in case resources aren't around yet.\n  const timeoutId = setTimeout(() => {\n    emitter.emit(`onDelayedLoadPageResources`, { pathname })\n    apiRunner(`onRouteUpdateDelayed`, {\n      location: window.location,\n    })\n  }, 1000)\n\n  loader.loadPage(pathname).then(pageResources => {\n    // If no page resources, then refresh the page\n    // Do this, rather than simply `window.location.reload()`, so that\n    // pressing the back/forward buttons work - otherwise when pressing\n    // back, the browser will just change the URL and expect JS to handle\n    // the change, which won't always work since it might not be a Gatsby\n    // page.\n    if (!pageResources || pageResources.status === PageResourceStatus.Error) {\n      window.history.replaceState({}, ``, location.href)\n      window.location = pathname\n      clearTimeout(timeoutId)\n      return\n    }\n\n    // If the loaded page has a different compilation hash to the\n    // window, then a rebuild has occurred on the server. Reload.\n    if (process.env.NODE_ENV === `production` && pageResources) {\n      if (\n        pageResources.page.webpackCompilationHash !==\n        window.___webpackCompilationHash\n      ) {\n        // Purge plugin-offline cache\n        if (\n          `serviceWorker` in navigator &&\n          navigator.serviceWorker.controller !== null &&\n          navigator.serviceWorker.controller.state === `activated`\n        ) {\n          navigator.serviceWorker.controller.postMessage({\n            gatsbyApi: `clearPathResources`,\n          })\n        }\n\n        window.location = pathname\n      }\n    }\n    reachNavigate(to, options)\n    clearTimeout(timeoutId)\n  })\n}\n\nfunction shouldUpdateScroll(prevRouterProps, { location }) {\n  const { pathname, hash } = location\n  const results = apiRunner(`shouldUpdateScroll`, {\n    prevRouterProps,\n    // `pathname` for backwards compatibility\n    pathname,\n    routerProps: { location },\n    getSavedScrollPosition: args => this._stateStorage.read(args),\n  })\n  if (results.length > 0) {\n    // Use the latest registered shouldUpdateScroll result, this allows users to override plugin's configuration\n    // @see https://github.com/gatsbyjs/gatsby/issues/12038\n    return results[results.length - 1]\n  }\n\n  if (prevRouterProps) {\n    const {\n      location: { pathname: oldPathname },\n    } = prevRouterProps\n    if (oldPathname === pathname) {\n      // Scroll to element if it exists, if it doesn't, or no hash is provided,\n      // scroll to top.\n      return hash ? decodeURI(hash.slice(1)) : [0, 0]\n    }\n  }\n  return true\n}\n\nfunction init() {\n  // The \"scroll-behavior\" package expects the \"action\" to be on the location\n  // object so let's copy it over.\n  globalHistory.listen(args => {\n    args.location.action = args.action\n  })\n\n  window.___push = to => navigate(to, { replace: false })\n  window.___replace = to => navigate(to, { replace: true })\n  window.___navigate = (to, options) => navigate(to, options)\n\n  // Check for initial page-load redirect\n  maybeRedirect(window.location.pathname)\n}\n\nclass RouteAnnouncer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.announcementRef = React.createRef()\n  }\n\n  componentDidUpdate(prevProps, nextProps) {\n    requestAnimationFrame(() => {\n      let pageName = `new page at ${this.props.location.pathname}`\n      if (document.title) {\n        pageName = document.title\n      }\n      const pageHeadings = document.querySelectorAll(`#gatsby-focus-wrapper h1`)\n      if (pageHeadings && pageHeadings.length) {\n        pageName = pageHeadings[0].textContent\n      }\n      const newAnnouncement = `Navigated to ${pageName}`\n      if (this.announcementRef.current) {\n        const oldAnnouncement = this.announcementRef.current.innerText\n        if (oldAnnouncement !== newAnnouncement) {\n          this.announcementRef.current.innerText = newAnnouncement\n        }\n      }\n    })\n  }\n\n  render() {\n    return <div {...RouteAnnouncerProps} ref={this.announcementRef}></div>\n  }\n}\n\n// Fire on(Pre)RouteUpdate APIs\nclass RouteUpdates extends React.Component {\n  constructor(props) {\n    super(props)\n    onPreRouteUpdate(props.location, null)\n  }\n\n  componentDidMount() {\n    onRouteUpdate(this.props.location, null)\n  }\n\n  shouldComponentUpdate(prevProps) {\n    if (this.props.location.href !== prevProps.location.href) {\n      onPreRouteUpdate(this.props.location, prevProps.location)\n      return true\n    }\n\n    return false\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.href !== prevProps.location.href) {\n      onRouteUpdate(this.props.location, prevProps.location)\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.children}\n        <RouteAnnouncer location={location} />\n      </React.Fragment>\n    )\n  }\n}\n\nRouteUpdates.propTypes = {\n  location: PropTypes.object.isRequired,\n}\n\nexport { init, shouldUpdateScroll, RouteUpdates }\n","// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(a, b) {\n  for (var i in a) {\n    if (!(i in b)) return true;\n  }for (var _i in b) {\n    if (a[_i] !== b[_i]) return true;\n  }return false;\n}\n\nexport default (function (instance, nextProps, nextState) {\n  return shallowDiffers(instance.props, nextProps) || shallowDiffers(instance.state, nextState);\n});","import React from \"react\"\nimport loader, { PageResourceStatus } from \"./loader\"\nimport shallowCompare from \"shallow-compare\"\n\nclass EnsureResources extends React.Component {\n  constructor(props) {\n    super()\n    const { location, pageResources } = props\n    this.state = {\n      location: { ...location },\n      pageResources: pageResources || loader.loadPageSync(location.pathname),\n    }\n  }\n\n  static getDerivedStateFromProps({ location }, prevState) {\n    if (prevState.location.href !== location.href) {\n      const pageResources = loader.loadPageSync(location.pathname)\n      return {\n        pageResources,\n        location: { ...location },\n      }\n    }\n\n    return {\n      location: { ...location },\n    }\n  }\n\n  loadResources(rawPath) {\n    loader.loadPage(rawPath).then(pageResources => {\n      if (pageResources && pageResources.status !== PageResourceStatus.Error) {\n        this.setState({\n          location: { ...window.location },\n          pageResources,\n        })\n      } else {\n        window.history.replaceState({}, ``, location.href)\n        window.location = rawPath\n      }\n    })\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Always return false if we're missing resources.\n    if (!nextState.pageResources) {\n      this.loadResources(nextProps.location.pathname)\n      return false\n    }\n\n    if (\n      process.env.GATSBY_EXPERIMENTAL_QUERY_ON_DEMAND &&\n      nextState.pageResources.stale\n    ) {\n      this.loadResources(nextProps.location.pathname)\n      return false\n    }\n\n    // Check if the component or json have changed.\n    if (this.state.pageResources !== nextState.pageResources) {\n      return true\n    }\n    if (\n      this.state.pageResources.component !== nextState.pageResources.component\n    ) {\n      return true\n    }\n\n    if (this.state.pageResources.json !== nextState.pageResources.json) {\n      return true\n    }\n    // Check if location has changed on a page using internal routing\n    // via matchPath configuration.\n    if (\n      this.state.location.key !== nextState.location.key &&\n      nextState.pageResources.page &&\n      (nextState.pageResources.page.matchPath ||\n        nextState.pageResources.page.path)\n    ) {\n      return true\n    }\n    return shallowCompare(this, nextProps, nextState)\n  }\n\n  render() {\n    if (process.env.NODE_ENV !== `production` && !this.state.pageResources) {\n      throw new Error(\n        `EnsureResources was not able to find resources for path: \"${this.props.location.pathname}\"\nThis typically means that an issue occurred building components for that path.\nRun \\`gatsby clean\\` to remove any cached elements.`\n      )\n    }\n\n    return this.props.children(this.state)\n  }\n}\n\nexport default EnsureResources\n","import { apiRunner, apiRunnerAsync } from \"./api-runner-browser\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Router, navigate, Location, BaseContext } from \"@reach/router\"\nimport { ScrollContext } from \"gatsby-react-router-scroll\"\nimport domReady from \"@mikaelkristiansson/domready\"\nimport { StaticQueryContext } from \"gatsby\"\nimport {\n  shouldUpdateScroll,\n  init as navigationInit,\n  RouteUpdates,\n} from \"./navigation\"\nimport emitter from \"./emitter\"\nimport PageRenderer from \"./page-renderer\"\nimport asyncRequires from \"$virtual/async-requires\"\nimport {\n  setLoader,\n  ProdLoader,\n  publicLoader,\n  PageResourceStatus,\n  getStaticQueryResults,\n} from \"./loader\"\nimport EnsureResources from \"./ensure-resources\"\nimport stripPrefix from \"./strip-prefix\"\n\n// Generated during bootstrap\nimport matchPaths from \"$virtual/match-paths.json\"\n\nconst loader = new ProdLoader(asyncRequires, matchPaths)\nsetLoader(loader)\nloader.setApiRunner(apiRunner)\n\nwindow.asyncRequires = asyncRequires\nwindow.___emitter = emitter\nwindow.___loader = publicLoader\n\nnavigationInit()\n\napiRunnerAsync(`onClientEntry`).then(() => {\n  // Let plugins register a service worker. The plugin just needs\n  // to return true.\n  if (apiRunner(`registerServiceWorker`).length > 0) {\n    require(`./register-service-worker`)\n  }\n\n  // In gatsby v2 if Router is used in page using matchPaths\n  // paths need to contain full path.\n  // For example:\n  //   - page have `/app/*` matchPath\n  //   - inside template user needs to use `/app/xyz` as path\n  // Resetting `basepath`/`baseuri` keeps current behaviour\n  // to not introduce breaking change.\n  // Remove this in v3\n  const RouteHandler = props => (\n    <BaseContext.Provider\n      value={{\n        baseuri: `/`,\n        basepath: `/`,\n      }}\n    >\n      <PageRenderer {...props} />\n    </BaseContext.Provider>\n  )\n\n  const DataContext = React.createContext({})\n\n  class GatsbyRoot extends React.Component {\n    render() {\n      const { children } = this.props\n      return (\n        <Location>\n          {({ location }) => (\n            <EnsureResources location={location}>\n              {({ pageResources, location }) => {\n                const staticQueryResults = getStaticQueryResults()\n                return (\n                  <StaticQueryContext.Provider value={staticQueryResults}>\n                    <DataContext.Provider value={{ pageResources, location }}>\n                      {children}\n                    </DataContext.Provider>\n                  </StaticQueryContext.Provider>\n                )\n              }}\n            </EnsureResources>\n          )}\n        </Location>\n      )\n    }\n  }\n\n  class LocationHandler extends React.Component {\n    render() {\n      return (\n        <DataContext.Consumer>\n          {({ pageResources, location }) => (\n            <RouteUpdates location={location}>\n              <ScrollContext\n                location={location}\n                shouldUpdateScroll={shouldUpdateScroll}\n              >\n                <Router\n                  basepath={__BASE_PATH__}\n                  location={location}\n                  id=\"gatsby-focus-wrapper\"\n                >\n                  <RouteHandler\n                    path={\n                      pageResources.page.path === `/404.html`\n                        ? stripPrefix(location.pathname, __BASE_PATH__)\n                        : encodeURI(\n                            pageResources.page.matchPath ||\n                              pageResources.page.path\n                          )\n                    }\n                    {...this.props}\n                    location={location}\n                    pageResources={pageResources}\n                    {...pageResources.json}\n                  />\n                </Router>\n              </ScrollContext>\n            </RouteUpdates>\n          )}\n        </DataContext.Consumer>\n      )\n    }\n  }\n\n  const { pagePath, location: browserLoc } = window\n\n  // Explicitly call navigate if the canonical path (window.pagePath)\n  // is different to the browser path (window.location.pathname). But\n  // only if NONE of the following conditions hold:\n  //\n  // - The url matches a client side route (page.matchPath)\n  // - it's a 404 page\n  // - it's the offline plugin shell (/offline-plugin-app-shell-fallback/)\n  if (\n    pagePath &&\n    __BASE_PATH__ + pagePath !== browserLoc.pathname &&\n    !(\n      loader.findMatchPath(stripPrefix(browserLoc.pathname, __BASE_PATH__)) ||\n      pagePath === `/404.html` ||\n      pagePath.match(/^\\/404\\/?$/) ||\n      pagePath.match(/^\\/offline-plugin-app-shell-fallback\\/?$/)\n    )\n  ) {\n    navigate(__BASE_PATH__ + pagePath + browserLoc.search + browserLoc.hash, {\n      replace: true,\n    })\n  }\n\n  publicLoader.loadPage(browserLoc.pathname).then(page => {\n    if (!page || page.status === PageResourceStatus.Error) {\n      throw new Error(\n        `page resources for ${browserLoc.pathname} not found. Not rendering React`\n      )\n    }\n\n    window.___webpackCompilationHash = page.page.webpackCompilationHash\n\n    const SiteRoot = apiRunner(\n      `wrapRootElement`,\n      { element: <LocationHandler /> },\n      <LocationHandler />,\n      ({ result }) => {\n        return { element: result }\n      }\n    ).pop()\n\n    const App = () => <GatsbyRoot>{SiteRoot}</GatsbyRoot>\n\n    const renderer = apiRunner(\n      `replaceHydrateFunction`,\n      undefined,\n      ReactDOM.hydrate\n    )[0]\n\n    domReady(() => {\n      renderer(\n        <App />,\n        typeof window !== `undefined`\n          ? document.getElementById(`___gatsby`)\n          : void 0,\n        () => {\n          apiRunner(`onInitialClientRender`)\n        }\n      )\n    })\n  })\n})\n","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.8.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport { useScrollRestoration } from \"gatsby-react-router-scroll\"\nimport PageRenderer from \"./public-page-renderer\"\nimport loader, { getStaticQueryResults } from \"./loader\"\n\nconst prefetchPathname = loader.enqueue\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  let combinedStaticQueryData = staticQueryData\n\n  if (process.env.GATSBY_EXPERIMENTAL_LAZY_DEVJS) {\n    // when we remove the flag, we don't need to combine them\n    // w/ changes @pieh made.\n    combinedStaticQueryData = {\n      ...getStaticQueryResults(),\n      ...staticQueryData,\n    }\n  }\n\n  const finalData = data\n    ? data.data\n    : combinedStaticQueryData[query] && combinedStaticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n\n  // query is a stringified number like `3303882` when wrapped with graphql, If a user forgets\n  // to wrap the query in a grqphql, then casting it to a Number results in `NaN` allowing us to\n  // catch the misuse of the API and give proper direction\n  if (isNaN(Number(query))) {\n    throw new Error(`useStaticQuery was called with a string but expects to be called using \\`graphql\\`. Try this:\n\nimport { useStaticQuery, graphql } from 'gatsby';\n\nuseStaticQuery(graphql\\`${query}\\`);\n`)\n  }\n\n  let queryNotFound = false\n  if (process.env.GATSBY_EXPERIMENTAL_LAZY_DEVJS) {\n    // Merge data loaded via socket.io & xhr\n    // when we remove the flag, we don't need to combine them\n    // w/ changes @pieh made.\n    const staticQueryData = {\n      ...getStaticQueryResults(),\n      ...context,\n    }\n    if (staticQueryData[query]?.data) {\n      return staticQueryData[query].data\n    } else {\n      queryNotFound = true\n    }\n  } else {\n    if (context[query]?.data) {\n      return context[query].data\n    } else {\n      queryNotFound = true\n    }\n  }\n\n  if (queryNotFound) {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n\n  return null\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  useScrollRestoration,\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n  prefetchPathname,\n}\n","/*! @name @videojs/vhs-utils @version 2.2.1 @license MIT */\n'use strict';\n\nvar URLToolkit = require('url-toolkit');\n\nvar window = require('global/window');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar URLToolkit__default = /*#__PURE__*/_interopDefaultLegacy(URLToolkit);\n\nvar window__default = /*#__PURE__*/_interopDefaultLegacy(window);\n\nvar resolveUrl = function resolveUrl(baseUrl, relativeUrl) {\n  // return early if we don't need to resolve\n  if (/^[a-z]+:/i.test(relativeUrl)) {\n    return relativeUrl;\n  } // if the base URL is relative then combine with the current location\n\n\n  if (!/\\/\\//i.test(baseUrl)) {\n    baseUrl = URLToolkit__default['default'].buildAbsoluteURL(window__default['default'].location && window__default['default'].location.href || '', baseUrl);\n  }\n\n  return URLToolkit__default['default'].buildAbsoluteURL(baseUrl, relativeUrl);\n};\n\nmodule.exports = resolveUrl;","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","\"use strict\";\n\nmodule.exports = Object.assign;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable jsx-a11y/anchor-has-content */\nimport React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"invariant\";\nimport createContext from \"create-react-context\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { startsWith, pick, resolve, match, insertParams, validateRedirect, shallowCompare } from \"./lib/utils\";\nimport { globalHistory, navigate, createHistory, createMemorySource } from \"./lib/history\";\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar createNamedContext = function createNamedContext(name, defaultValue) {\n  var Ctx = createContext(defaultValue);\n  Ctx.displayName = name;\n  return Ctx;\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// Location Context/Provider\nvar LocationContext = createNamedContext(\"Location\");\n\n// sets up a listener if there isn't one already so apps don't need to be\n// wrapped in some top level provider\nvar Location = function Location(_ref) {\n  var children = _ref.children;\n  return React.createElement(\n    LocationContext.Consumer,\n    null,\n    function (context) {\n      return context ? children(context) : React.createElement(\n        LocationProvider,\n        null,\n        children\n      );\n    }\n  );\n};\n\nvar LocationProvider = function (_React$Component) {\n  _inherits(LocationProvider, _React$Component);\n\n  function LocationProvider() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LocationProvider);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      context: _this.getContext(),\n      refs: { unlisten: null }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  LocationProvider.prototype.getContext = function getContext() {\n    var _props$history = this.props.history,\n        navigate = _props$history.navigate,\n        location = _props$history.location;\n\n    return { navigate: navigate, location: location };\n  };\n\n  LocationProvider.prototype.componentDidCatch = function componentDidCatch(error, info) {\n    if (isRedirect(error)) {\n      var _navigate = this.props.history.navigate;\n\n      _navigate(error.uri, { replace: true });\n    } else {\n      throw error;\n    }\n  };\n\n  LocationProvider.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (prevState.context.location !== this.state.context.location) {\n      this.props.history._onTransitionComplete();\n    }\n  };\n\n  LocationProvider.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var refs = this.state.refs,\n        history = this.props.history;\n\n    history._onTransitionComplete();\n    refs.unlisten = history.listen(function () {\n      Promise.resolve().then(function () {\n        // TODO: replace rAF with react deferred update API when it's ready https://github.com/facebook/react/issues/13306\n        requestAnimationFrame(function () {\n          if (!_this2.unmounted) {\n            _this2.setState(function () {\n              return { context: _this2.getContext() };\n            });\n          }\n        });\n      });\n    });\n  };\n\n  LocationProvider.prototype.componentWillUnmount = function componentWillUnmount() {\n    var refs = this.state.refs;\n\n    this.unmounted = true;\n    refs.unlisten();\n  };\n\n  LocationProvider.prototype.render = function render() {\n    var context = this.state.context,\n        children = this.props.children;\n\n    return React.createElement(\n      LocationContext.Provider,\n      { value: context },\n      typeof children === \"function\" ? children(context) : children || null\n    );\n  };\n\n  return LocationProvider;\n}(React.Component);\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nLocationProvider.defaultProps = {\n  history: globalHistory\n};\nprocess.env.NODE_ENV !== \"production\" ? LocationProvider.propTypes = {\n  history: PropTypes.object.isRequired\n} : void 0;\nvar ServerLocation = function ServerLocation(_ref2) {\n  var url = _ref2.url,\n      children = _ref2.children;\n\n  var searchIndex = url.indexOf(\"?\");\n  var searchExists = searchIndex > -1;\n  var pathname = void 0;\n  var search = \"\";\n  var hash = \"\";\n\n  if (searchExists) {\n    pathname = url.substring(0, searchIndex);\n    search = url.substring(searchIndex);\n  } else {\n    pathname = url;\n  }\n\n  return React.createElement(\n    LocationContext.Provider,\n    {\n      value: {\n        location: {\n          pathname: pathname,\n          search: search,\n          hash: hash\n        },\n        navigate: function navigate() {\n          throw new Error(\"You can't call navigate on the server.\");\n        }\n      }\n    },\n    children\n  );\n};\n////////////////////////////////////////////////////////////////////////////////\n// Sets baseuri and basepath for nested routers and links\nvar BaseContext = createNamedContext(\"Base\", { baseuri: \"/\", basepath: \"/\" });\n\n////////////////////////////////////////////////////////////////////////////////\n// The main event, welcome to the show everybody.\nvar Router = function Router(props) {\n  return React.createElement(\n    BaseContext.Consumer,\n    null,\n    function (baseContext) {\n      return React.createElement(\n        Location,\n        null,\n        function (locationContext) {\n          return React.createElement(RouterImpl, _extends({}, baseContext, locationContext, props));\n        }\n      );\n    }\n  );\n};\n\nvar RouterImpl = function (_React$PureComponent) {\n  _inherits(RouterImpl, _React$PureComponent);\n\n  function RouterImpl() {\n    _classCallCheck(this, RouterImpl);\n\n    return _possibleConstructorReturn(this, _React$PureComponent.apply(this, arguments));\n  }\n\n  RouterImpl.prototype.render = function render() {\n    var _props = this.props,\n        location = _props.location,\n        _navigate2 = _props.navigate,\n        basepath = _props.basepath,\n        primary = _props.primary,\n        children = _props.children,\n        baseuri = _props.baseuri,\n        _props$component = _props.component,\n        component = _props$component === undefined ? \"div\" : _props$component,\n        domProps = _objectWithoutProperties(_props, [\"location\", \"navigate\", \"basepath\", \"primary\", \"children\", \"baseuri\", \"component\"]);\n\n    var routes = React.Children.toArray(children).reduce(function (array, child) {\n      var routes = createRoute(basepath)(child);\n      return array.concat(routes);\n    }, []);\n    var pathname = location.pathname;\n\n\n    var match = pick(routes, pathname);\n\n    if (match) {\n      var params = match.params,\n          uri = match.uri,\n          route = match.route,\n          element = match.route.value;\n\n      // remove the /* from the end for child routes relative paths\n\n      basepath = route.default ? basepath : route.path.replace(/\\*$/, \"\");\n\n      var props = _extends({}, params, {\n        uri: uri,\n        location: location,\n        navigate: function navigate(to, options) {\n          return _navigate2(resolve(to, uri), options);\n        }\n      });\n\n      var clone = React.cloneElement(element, props, element.props.children ? React.createElement(\n        Router,\n        { location: location, primary: primary },\n        element.props.children\n      ) : undefined);\n\n      // using 'div' for < 16.3 support\n      var FocusWrapper = primary ? FocusHandler : component;\n      // don't pass any props to 'div'\n      var wrapperProps = primary ? _extends({ uri: uri, location: location, component: component }, domProps) : domProps;\n\n      return React.createElement(\n        BaseContext.Provider,\n        { value: { baseuri: uri, basepath: basepath } },\n        React.createElement(\n          FocusWrapper,\n          wrapperProps,\n          clone\n        )\n      );\n    } else {\n      // Not sure if we want this, would require index routes at every level\n      // warning(\n      //   false,\n      //   `<Router basepath=\"${basepath}\">\\n\\nNothing matched:\\n\\t${\n      //     location.pathname\n      //   }\\n\\nPaths checked: \\n\\t${routes\n      //     .map(route => route.path)\n      //     .join(\n      //       \"\\n\\t\"\n      //     )}\\n\\nTo get rid of this warning, add a default NotFound component as child of Router:\n      //   \\n\\tlet NotFound = () => <div>Not Found!</div>\n      //   \\n\\t<Router>\\n\\t  <NotFound default/>\\n\\t  {/* ... */}\\n\\t</Router>`\n      // );\n      return null;\n    }\n  };\n\n  return RouterImpl;\n}(React.PureComponent);\n\nRouterImpl.defaultProps = {\n  primary: true\n};\n\n\nvar FocusContext = createNamedContext(\"Focus\");\n\nvar FocusHandler = function FocusHandler(_ref3) {\n  var uri = _ref3.uri,\n      location = _ref3.location,\n      component = _ref3.component,\n      domProps = _objectWithoutProperties(_ref3, [\"uri\", \"location\", \"component\"]);\n\n  return React.createElement(\n    FocusContext.Consumer,\n    null,\n    function (requestFocus) {\n      return React.createElement(FocusHandlerImpl, _extends({}, domProps, {\n        component: component,\n        requestFocus: requestFocus,\n        uri: uri,\n        location: location\n      }));\n    }\n  );\n};\n\n// don't focus on initial render\nvar initialRender = true;\nvar focusHandlerCount = 0;\n\nvar FocusHandlerImpl = function (_React$Component2) {\n  _inherits(FocusHandlerImpl, _React$Component2);\n\n  function FocusHandlerImpl() {\n    var _temp2, _this4, _ret2;\n\n    _classCallCheck(this, FocusHandlerImpl);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this4 = _possibleConstructorReturn(this, _React$Component2.call.apply(_React$Component2, [this].concat(args))), _this4), _this4.state = {}, _this4.requestFocus = function (node) {\n      if (!_this4.state.shouldFocus && node) {\n        node.focus();\n      }\n    }, _temp2), _possibleConstructorReturn(_this4, _ret2);\n  }\n\n  FocusHandlerImpl.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var initial = prevState.uri == null;\n    if (initial) {\n      return _extends({\n        shouldFocus: true\n      }, nextProps);\n    } else {\n      var myURIChanged = nextProps.uri !== prevState.uri;\n      var navigatedUpToMe = prevState.location.pathname !== nextProps.location.pathname && nextProps.location.pathname === nextProps.uri;\n      return _extends({\n        shouldFocus: myURIChanged || navigatedUpToMe\n      }, nextProps);\n    }\n  };\n\n  FocusHandlerImpl.prototype.componentDidMount = function componentDidMount() {\n    focusHandlerCount++;\n    this.focus();\n  };\n\n  FocusHandlerImpl.prototype.componentWillUnmount = function componentWillUnmount() {\n    focusHandlerCount--;\n    if (focusHandlerCount === 0) {\n      initialRender = true;\n    }\n  };\n\n  FocusHandlerImpl.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (prevProps.location !== this.props.location && this.state.shouldFocus) {\n      this.focus();\n    }\n  };\n\n  FocusHandlerImpl.prototype.focus = function focus() {\n    if (process.env.NODE_ENV === \"test\") {\n      // getting cannot read property focus of null in the tests\n      // and that bit of global `initialRender` state causes problems\n      // should probably figure it out!\n      return;\n    }\n\n    var requestFocus = this.props.requestFocus;\n\n\n    if (requestFocus) {\n      requestFocus(this.node);\n    } else {\n      if (initialRender) {\n        initialRender = false;\n      } else if (this.node) {\n        // React polyfills [autofocus] and it fires earlier than cDM,\n        // so we were stealing focus away, this line prevents that.\n        if (!this.node.contains(document.activeElement)) {\n          this.node.focus();\n        }\n      }\n    }\n  };\n\n  FocusHandlerImpl.prototype.render = function render() {\n    var _this5 = this;\n\n    var _props2 = this.props,\n        children = _props2.children,\n        style = _props2.style,\n        requestFocus = _props2.requestFocus,\n        _props2$component = _props2.component,\n        Comp = _props2$component === undefined ? \"div\" : _props2$component,\n        uri = _props2.uri,\n        location = _props2.location,\n        domProps = _objectWithoutProperties(_props2, [\"children\", \"style\", \"requestFocus\", \"component\", \"uri\", \"location\"]);\n\n    return React.createElement(\n      Comp,\n      _extends({\n        style: _extends({ outline: \"none\" }, style),\n        tabIndex: \"-1\",\n        ref: function ref(n) {\n          return _this5.node = n;\n        }\n      }, domProps),\n      React.createElement(\n        FocusContext.Provider,\n        { value: this.requestFocus },\n        this.props.children\n      )\n    );\n  };\n\n  return FocusHandlerImpl;\n}(React.Component);\n\npolyfill(FocusHandlerImpl);\n\nvar k = function k() {};\n\n////////////////////////////////////////////////////////////////////////////////\nvar forwardRef = React.forwardRef;\n\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = function forwardRef(C) {\n    return C;\n  };\n}\n\nvar Link = forwardRef(function (_ref4, ref) {\n  var innerRef = _ref4.innerRef,\n      props = _objectWithoutProperties(_ref4, [\"innerRef\"]);\n\n  return React.createElement(\n    BaseContext.Consumer,\n    null,\n    function (_ref5) {\n      var basepath = _ref5.basepath,\n          baseuri = _ref5.baseuri;\n      return React.createElement(\n        Location,\n        null,\n        function (_ref6) {\n          var location = _ref6.location,\n              navigate = _ref6.navigate;\n\n          var to = props.to,\n              state = props.state,\n              replace = props.replace,\n              _props$getProps = props.getProps,\n              getProps = _props$getProps === undefined ? k : _props$getProps,\n              anchorProps = _objectWithoutProperties(props, [\"to\", \"state\", \"replace\", \"getProps\"]);\n\n          var href = resolve(to, baseuri);\n          var encodedHref = encodeURI(href);\n          var isCurrent = location.pathname === encodedHref;\n          var isPartiallyCurrent = startsWith(location.pathname, encodedHref);\n\n          return React.createElement(\"a\", _extends({\n            ref: ref || innerRef,\n            \"aria-current\": isCurrent ? \"page\" : undefined\n          }, anchorProps, getProps({ isCurrent: isCurrent, isPartiallyCurrent: isPartiallyCurrent, href: href, location: location }), {\n            href: href,\n            onClick: function onClick(event) {\n              if (anchorProps.onClick) anchorProps.onClick(event);\n              if (shouldNavigate(event)) {\n                event.preventDefault();\n                var shouldReplace = replace;\n                if (typeof replace !== \"boolean\" && isCurrent) {\n                  var _location$state = _extends({}, location.state),\n                      key = _location$state.key,\n                      restState = _objectWithoutProperties(_location$state, [\"key\"]);\n\n                  shouldReplace = shallowCompare(_extends({}, state), restState);\n                }\n                navigate(href, {\n                  state: state,\n                  replace: shouldReplace\n                });\n              }\n            }\n          }));\n        }\n      );\n    }\n  );\n});\n\nLink.displayName = \"Link\";\n\nprocess.env.NODE_ENV !== \"production\" ? Link.propTypes = {\n  to: PropTypes.string.isRequired\n} : void 0;\n\n////////////////////////////////////////////////////////////////////////////////\nfunction RedirectRequest(uri) {\n  this.uri = uri;\n}\n\nvar isRedirect = function isRedirect(o) {\n  return o instanceof RedirectRequest;\n};\n\nvar redirectTo = function redirectTo(to) {\n  throw new RedirectRequest(to);\n};\n\nvar RedirectImpl = function (_React$Component3) {\n  _inherits(RedirectImpl, _React$Component3);\n\n  function RedirectImpl() {\n    _classCallCheck(this, RedirectImpl);\n\n    return _possibleConstructorReturn(this, _React$Component3.apply(this, arguments));\n  }\n\n  // Support React < 16 with this hook\n  RedirectImpl.prototype.componentDidMount = function componentDidMount() {\n    var _props3 = this.props,\n        navigate = _props3.navigate,\n        to = _props3.to,\n        from = _props3.from,\n        _props3$replace = _props3.replace,\n        replace = _props3$replace === undefined ? true : _props3$replace,\n        state = _props3.state,\n        noThrow = _props3.noThrow,\n        baseuri = _props3.baseuri,\n        props = _objectWithoutProperties(_props3, [\"navigate\", \"to\", \"from\", \"replace\", \"state\", \"noThrow\", \"baseuri\"]);\n\n    Promise.resolve().then(function () {\n      var resolvedTo = resolve(to, baseuri);\n      navigate(insertParams(resolvedTo, props), { replace: replace, state: state });\n    });\n  };\n\n  RedirectImpl.prototype.render = function render() {\n    var _props4 = this.props,\n        navigate = _props4.navigate,\n        to = _props4.to,\n        from = _props4.from,\n        replace = _props4.replace,\n        state = _props4.state,\n        noThrow = _props4.noThrow,\n        baseuri = _props4.baseuri,\n        props = _objectWithoutProperties(_props4, [\"navigate\", \"to\", \"from\", \"replace\", \"state\", \"noThrow\", \"baseuri\"]);\n\n    var resolvedTo = resolve(to, baseuri);\n    if (!noThrow) redirectTo(insertParams(resolvedTo, props));\n    return null;\n  };\n\n  return RedirectImpl;\n}(React.Component);\n\nvar Redirect = function Redirect(props) {\n  return React.createElement(\n    BaseContext.Consumer,\n    null,\n    function (_ref7) {\n      var baseuri = _ref7.baseuri;\n      return React.createElement(\n        Location,\n        null,\n        function (locationContext) {\n          return React.createElement(RedirectImpl, _extends({}, locationContext, { baseuri: baseuri }, props));\n        }\n      );\n    }\n  );\n};\n\nprocess.env.NODE_ENV !== \"production\" ? Redirect.propTypes = {\n  from: PropTypes.string,\n  to: PropTypes.string.isRequired\n} : void 0;\n\n////////////////////////////////////////////////////////////////////////////////\nvar Match = function Match(_ref8) {\n  var path = _ref8.path,\n      children = _ref8.children;\n  return React.createElement(\n    BaseContext.Consumer,\n    null,\n    function (_ref9) {\n      var baseuri = _ref9.baseuri;\n      return React.createElement(\n        Location,\n        null,\n        function (_ref10) {\n          var navigate = _ref10.navigate,\n              location = _ref10.location;\n\n          var resolvedPath = resolve(path, baseuri);\n          var result = match(resolvedPath, location.pathname);\n          return children({\n            navigate: navigate,\n            location: location,\n            match: result ? _extends({}, result.params, {\n              uri: result.uri,\n              path: path\n            }) : null\n          });\n        }\n      );\n    }\n  );\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// Hooks\n\nvar useLocation = function useLocation() {\n  var context = useContext(LocationContext);\n\n  if (!context) {\n    throw new Error(\"useLocation hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  return context.location;\n};\n\nvar useNavigate = function useNavigate() {\n  var context = useContext(LocationContext);\n\n  if (!context) {\n    throw new Error(\"useNavigate hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  return context.navigate;\n};\n\nvar useParams = function useParams() {\n  var context = useContext(BaseContext);\n\n  if (!context) {\n    throw new Error(\"useParams hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  var location = useLocation();\n\n  var results = match(context.basepath, location.pathname);\n\n  return results ? results.params : null;\n};\n\nvar useMatch = function useMatch(path) {\n  if (!path) {\n    throw new Error(\"useMatch(path: string) requires an argument of a string to match against\");\n  }\n  var context = useContext(BaseContext);\n\n  if (!context) {\n    throw new Error(\"useMatch hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  var location = useLocation();\n\n  var resolvedPath = resolve(path, context.baseuri);\n  var result = match(resolvedPath, location.pathname);\n  return result ? _extends({}, result.params, {\n    uri: result.uri,\n    path: path\n  }) : null;\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// Junk\nvar stripSlashes = function stripSlashes(str) {\n  return str.replace(/(^\\/+|\\/+$)/g, \"\");\n};\n\nvar createRoute = function createRoute(basepath) {\n  return function (element) {\n    if (!element) {\n      return null;\n    }\n\n    if (element.type === React.Fragment && element.props.children) {\n      return React.Children.map(element.props.children, createRoute(basepath));\n    }\n    !(element.props.path || element.props.default || element.type === Redirect) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Router>: Children of <Router> must have a `path` or `default` prop, or be a `<Redirect>`. None found on element type `\" + element.type + \"`\") : invariant(false) : void 0;\n\n    !!(element.type === Redirect && (!element.props.from || !element.props.to)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Redirect from=\\\"\" + element.props.from + \"\\\" to=\\\"\" + element.props.to + \"\\\"/> requires both \\\"from\\\" and \\\"to\\\" props when inside a <Router>.\") : invariant(false) : void 0;\n\n    !!(element.type === Redirect && !validateRedirect(element.props.from, element.props.to)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Redirect from=\\\"\" + element.props.from + \" to=\\\"\" + element.props.to + \"\\\"/> has mismatched dynamic segments, ensure both paths have the exact same dynamic segments.\") : invariant(false) : void 0;\n\n    if (element.props.default) {\n      return { value: element, default: true };\n    }\n\n    var elementPath = element.type === Redirect ? element.props.from : element.props.path;\n\n    var path = elementPath === \"/\" ? basepath : stripSlashes(basepath) + \"/\" + stripSlashes(elementPath);\n\n    return {\n      value: element,\n      default: element.props.default,\n      path: element.props.children ? stripSlashes(path) + \"/*\" : path\n    };\n  };\n};\n\nvar shouldNavigate = function shouldNavigate(event) {\n  return !event.defaultPrevented && event.button === 0 && !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n};\n\n////////////////////////////////////////////////////////////////////////\nexport {  Link, Location, LocationProvider, Match, Redirect, Router, ServerLocation, createHistory, createMemorySource, isRedirect, navigate, redirectTo, globalHistory, match as matchPath, useLocation, useNavigate, useParams, useMatch , BaseContext };","var win;\n\nif (typeof window !== \"undefined\") {\n  win = window;\n} else if (typeof global !== \"undefined\") {\n  win = global;\n} else if (typeof self !== \"undefined\") {\n  win = self;\n} else {\n  win = {};\n}\n\nmodule.exports = win;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * Remove a prefix from a string. Return the input string if the given prefix\n * isn't found.\n */\n\nexport default function stripPrefix(str, prefix = ``) {\n  if (!prefix) {\n    return str\n  }\n\n  if (str === prefix) {\n    return `/`\n  }\n\n  if (str.startsWith(`${prefix}/`)) {\n    return str.slice(prefix.length)\n  }\n\n  return str\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports.parsePath = parsePath;\n\nfunction parsePath(path) {\n  var pathname = path || \"/\";\n  var search = \"\";\n  var hash = \"\";\n  var hashIndex = pathname.indexOf(\"#\");\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf(\"?\");\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === \"?\" ? \"\" : search,\n    hash: hash === \"#\" ? \"\" : hash\n  };\n}","exports.f = Object.getOwnPropertySymbols;\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","/*\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n */\nfunction copy(src, dest) {\n  for (var p in src) {\n    dest[p] = src[p];\n  }\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\n\n\nfunction _extends(Class, Super) {\n  var pt = Class.prototype;\n\n  if (Object.create) {\n    var ppt = Object.create(Super.prototype);\n    pt.__proto__ = ppt;\n  }\n\n  if (!(pt instanceof Super)) {\n    var t = function t() {};\n\n    ;\n    t.prototype = Super.prototype;\n    t = new t();\n    copy(pt, t);\n    Class.prototype = pt = t;\n  }\n\n  if (pt.constructor != Class) {\n    if (typeof Class != 'function') {\n      console.error(\"unknow Class:\" + Class);\n    }\n\n    pt.constructor = Class;\n  }\n}\n\nvar htmlns = 'http://www.w3.org/1999/xhtml'; // Node Types\n\nvar NodeType = {};\nvar ELEMENT_NODE = NodeType.ELEMENT_NODE = 1;\nvar ATTRIBUTE_NODE = NodeType.ATTRIBUTE_NODE = 2;\nvar TEXT_NODE = NodeType.TEXT_NODE = 3;\nvar CDATA_SECTION_NODE = NodeType.CDATA_SECTION_NODE = 4;\nvar ENTITY_REFERENCE_NODE = NodeType.ENTITY_REFERENCE_NODE = 5;\nvar ENTITY_NODE = NodeType.ENTITY_NODE = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE = NodeType.COMMENT_NODE = 8;\nvar DOCUMENT_NODE = NodeType.DOCUMENT_NODE = 9;\nvar DOCUMENT_TYPE_NODE = NodeType.DOCUMENT_TYPE_NODE = 10;\nvar DOCUMENT_FRAGMENT_NODE = NodeType.DOCUMENT_FRAGMENT_NODE = 11;\nvar NOTATION_NODE = NodeType.NOTATION_NODE = 12; // ExceptionCode\n\nvar ExceptionCode = {};\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR = ExceptionCode.INDEX_SIZE_ERR = (ExceptionMessage[1] = \"Index size error\", 1);\nvar DOMSTRING_SIZE_ERR = ExceptionCode.DOMSTRING_SIZE_ERR = (ExceptionMessage[2] = \"DOMString size error\", 2);\nvar HIERARCHY_REQUEST_ERR = ExceptionCode.HIERARCHY_REQUEST_ERR = (ExceptionMessage[3] = \"Hierarchy request error\", 3);\nvar WRONG_DOCUMENT_ERR = ExceptionCode.WRONG_DOCUMENT_ERR = (ExceptionMessage[4] = \"Wrong document\", 4);\nvar INVALID_CHARACTER_ERR = ExceptionCode.INVALID_CHARACTER_ERR = (ExceptionMessage[5] = \"Invalid character\", 5);\nvar NO_DATA_ALLOWED_ERR = ExceptionCode.NO_DATA_ALLOWED_ERR = (ExceptionMessage[6] = \"No data allowed\", 6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = (ExceptionMessage[7] = \"No modification allowed\", 7);\nvar NOT_FOUND_ERR = ExceptionCode.NOT_FOUND_ERR = (ExceptionMessage[8] = \"Not found\", 8);\nvar NOT_SUPPORTED_ERR = ExceptionCode.NOT_SUPPORTED_ERR = (ExceptionMessage[9] = \"Not supported\", 9);\nvar INUSE_ATTRIBUTE_ERR = ExceptionCode.INUSE_ATTRIBUTE_ERR = (ExceptionMessage[10] = \"Attribute in use\", 10); //level2\n\nvar INVALID_STATE_ERR = ExceptionCode.INVALID_STATE_ERR = (ExceptionMessage[11] = \"Invalid state\", 11);\nvar SYNTAX_ERR = ExceptionCode.SYNTAX_ERR = (ExceptionMessage[12] = \"Syntax error\", 12);\nvar INVALID_MODIFICATION_ERR = ExceptionCode.INVALID_MODIFICATION_ERR = (ExceptionMessage[13] = \"Invalid modification\", 13);\nvar NAMESPACE_ERR = ExceptionCode.NAMESPACE_ERR = (ExceptionMessage[14] = \"Invalid namespace\", 14);\nvar INVALID_ACCESS_ERR = ExceptionCode.INVALID_ACCESS_ERR = (ExceptionMessage[15] = \"Invalid access\", 15);\n\nfunction DOMException(code, message) {\n  if (message instanceof Error) {\n    var error = message;\n  } else {\n    error = this;\n    Error.call(this, ExceptionMessage[code]);\n    this.message = ExceptionMessage[code];\n    if (Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n  }\n\n  error.code = code;\n  if (message) this.message = this.message + \": \" + message;\n  return error;\n}\n\n;\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode, DOMException);\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\n\nfunction NodeList() {}\n\n;\nNodeList.prototype = {\n  /**\n   * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n   * @standard level1\n   */\n  length: 0,\n\n  /**\n   * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n   * @standard level1\n   * @param index  unsigned long \n   *   Index into the collection.\n   * @return Node\n   * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n   */\n  item: function item(index) {\n    return this[index] || null;\n  },\n  toString: function toString(isHTML, nodeFilter) {\n    for (var buf = [], i = 0; i < this.length; i++) {\n      serializeToString(this[i], buf, isHTML, nodeFilter);\n    }\n\n    return buf.join('');\n  }\n};\n\nfunction LiveNodeList(node, refresh) {\n  this._node = node;\n  this._refresh = refresh;\n\n  _updateLiveList(this);\n}\n\nfunction _updateLiveList(list) {\n  var inc = list._node._inc || list._node.ownerDocument._inc;\n\n  if (list._inc != inc) {\n    var ls = list._refresh(list._node); //console.log(ls.length)\n\n\n    __set__(list, 'length', ls.length);\n\n    copy(ls, list);\n    list._inc = inc;\n  }\n}\n\nLiveNodeList.prototype.item = function (i) {\n  _updateLiveList(this);\n\n  return this[i];\n};\n\n_extends(LiveNodeList, NodeList);\n/**\n * \n * Objects implementing the NamedNodeMap interface are used to represent collections of nodes that can be accessed by name. Note that NamedNodeMap does not inherit from NodeList; NamedNodeMaps are not maintained in any particular order. Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index, but this is simply to allow convenient enumeration of the contents of a NamedNodeMap, and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\n\n\nfunction NamedNodeMap() {}\n\n;\n\nfunction _findNodeIndex(list, node) {\n  var i = list.length;\n\n  while (i--) {\n    if (list[i] === node) {\n      return i;\n    }\n  }\n}\n\nfunction _addNamedNode(el, list, newAttr, oldAttr) {\n  if (oldAttr) {\n    list[_findNodeIndex(list, oldAttr)] = newAttr;\n  } else {\n    list[list.length++] = newAttr;\n  }\n\n  if (el) {\n    newAttr.ownerElement = el;\n    var doc = el.ownerDocument;\n\n    if (doc) {\n      oldAttr && _onRemoveAttribute(doc, el, oldAttr);\n\n      _onAddAttribute(doc, el, newAttr);\n    }\n  }\n}\n\nfunction _removeNamedNode(el, list, attr) {\n  //console.log('remove attr:'+attr)\n  var i = _findNodeIndex(list, attr);\n\n  if (i >= 0) {\n    var lastIndex = list.length - 1;\n\n    while (i < lastIndex) {\n      list[i] = list[++i];\n    }\n\n    list.length = lastIndex;\n\n    if (el) {\n      var doc = el.ownerDocument;\n\n      if (doc) {\n        _onRemoveAttribute(doc, el, attr);\n\n        attr.ownerElement = null;\n      }\n    }\n  } else {\n    throw DOMException(NOT_FOUND_ERR, new Error(el.tagName + '@' + attr));\n  }\n}\n\nNamedNodeMap.prototype = {\n  length: 0,\n  item: NodeList.prototype.item,\n  getNamedItem: function getNamedItem(key) {\n    //\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n    //\t\t\treturn null;\n    //\t\t}\n    //console.log()\n    var i = this.length;\n\n    while (i--) {\n      var attr = this[i]; //console.log(attr.nodeName,key)\n\n      if (attr.nodeName == key) {\n        return attr;\n      }\n    }\n  },\n  setNamedItem: function setNamedItem(attr) {\n    var el = attr.ownerElement;\n\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR);\n    }\n\n    var oldAttr = this.getNamedItem(attr.nodeName);\n\n    _addNamedNode(this._ownerElement, this, attr, oldAttr);\n\n    return oldAttr;\n  },\n\n  /* returns Node */\n  setNamedItemNS: function setNamedItemNS(attr) {\n    // raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n    var el = attr.ownerElement,\n        oldAttr;\n\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR);\n    }\n\n    oldAttr = this.getNamedItemNS(attr.namespaceURI, attr.localName);\n\n    _addNamedNode(this._ownerElement, this, attr, oldAttr);\n\n    return oldAttr;\n  },\n\n  /* returns Node */\n  removeNamedItem: function removeNamedItem(key) {\n    var attr = this.getNamedItem(key);\n\n    _removeNamedNode(this._ownerElement, this, attr);\n\n    return attr;\n  },\n  // raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n  //for level2\n  removeNamedItemNS: function removeNamedItemNS(namespaceURI, localName) {\n    var attr = this.getNamedItemNS(namespaceURI, localName);\n\n    _removeNamedNode(this._ownerElement, this, attr);\n\n    return attr;\n  },\n  getNamedItemNS: function getNamedItemNS(namespaceURI, localName) {\n    var i = this.length;\n\n    while (i--) {\n      var node = this[i];\n\n      if (node.localName == localName && node.namespaceURI == namespaceURI) {\n        return node;\n      }\n    }\n\n    return null;\n  }\n};\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\n\nfunction DOMImplementation(\n/* Object */\nfeatures) {\n  this._features = {};\n\n  if (features) {\n    for (var feature in features) {\n      this._features = features[feature];\n    }\n  }\n}\n\n;\nDOMImplementation.prototype = {\n  hasFeature: function hasFeature(\n  /* string */\n  feature,\n  /* string */\n  version) {\n    var versions = this._features[feature.toLowerCase()];\n\n    if (versions && (!version || version in versions)) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n  // Introduced in DOM Level 2:\n  createDocument: function createDocument(namespaceURI, qualifiedName, doctype) {\n    // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n    var doc = new Document();\n    doc.implementation = this;\n    doc.childNodes = new NodeList();\n    doc.doctype = doctype;\n\n    if (doctype) {\n      doc.appendChild(doctype);\n    }\n\n    if (qualifiedName) {\n      var root = doc.createElementNS(namespaceURI, qualifiedName);\n      doc.appendChild(root);\n    }\n\n    return doc;\n  },\n  // Introduced in DOM Level 2:\n  createDocumentType: function createDocumentType(qualifiedName, publicId, systemId) {\n    // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n    var node = new DocumentType();\n    node.name = qualifiedName;\n    node.nodeName = qualifiedName;\n    node.publicId = publicId;\n    node.systemId = systemId; // Introduced in DOM Level 2:\n    //readonly attribute DOMString        internalSubset;\n    //TODO:..\n    //  readonly attribute NamedNodeMap     entities;\n    //  readonly attribute NamedNodeMap     notations;\n\n    return node;\n  }\n};\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {}\n\n;\nNode.prototype = {\n  firstChild: null,\n  lastChild: null,\n  previousSibling: null,\n  nextSibling: null,\n  attributes: null,\n  parentNode: null,\n  childNodes: null,\n  ownerDocument: null,\n  nodeValue: null,\n  namespaceURI: null,\n  prefix: null,\n  localName: null,\n  // Modified in DOM Level 2:\n  insertBefore: function insertBefore(newChild, refChild) {\n    //raises \n    return _insertBefore(this, newChild, refChild);\n  },\n  replaceChild: function replaceChild(newChild, oldChild) {\n    //raises \n    this.insertBefore(newChild, oldChild);\n\n    if (oldChild) {\n      this.removeChild(oldChild);\n    }\n  },\n  removeChild: function removeChild(oldChild) {\n    return _removeChild(this, oldChild);\n  },\n  appendChild: function appendChild(newChild) {\n    return this.insertBefore(newChild, null);\n  },\n  hasChildNodes: function hasChildNodes() {\n    return this.firstChild != null;\n  },\n  cloneNode: function cloneNode(deep) {\n    return _cloneNode(this.ownerDocument || this, this, deep);\n  },\n  // Modified in DOM Level 2:\n  normalize: function normalize() {\n    var child = this.firstChild;\n\n    while (child) {\n      var next = child.nextSibling;\n\n      if (next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE) {\n        this.removeChild(next);\n        child.appendData(next.data);\n      } else {\n        child.normalize();\n        child = next;\n      }\n    }\n  },\n  // Introduced in DOM Level 2:\n  isSupported: function isSupported(feature, version) {\n    return this.ownerDocument.implementation.hasFeature(feature, version);\n  },\n  // Introduced in DOM Level 2:\n  hasAttributes: function hasAttributes() {\n    return this.attributes.length > 0;\n  },\n  lookupPrefix: function lookupPrefix(namespaceURI) {\n    var el = this;\n\n    while (el) {\n      var map = el._nsMap; //console.dir(map)\n\n      if (map) {\n        for (var n in map) {\n          if (map[n] == namespaceURI) {\n            return n;\n          }\n        }\n      }\n\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode;\n    }\n\n    return null;\n  },\n  // Introduced in DOM Level 3:\n  lookupNamespaceURI: function lookupNamespaceURI(prefix) {\n    var el = this;\n\n    while (el) {\n      var map = el._nsMap; //console.dir(map)\n\n      if (map) {\n        if (prefix in map) {\n          return map[prefix];\n        }\n      }\n\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode;\n    }\n\n    return null;\n  },\n  // Introduced in DOM Level 3:\n  isDefaultNamespace: function isDefaultNamespace(namespaceURI) {\n    var prefix = this.lookupPrefix(namespaceURI);\n    return prefix == null;\n  }\n};\n\nfunction _xmlEncoder(c) {\n  return c == '<' && '&lt;' || c == '>' && '&gt;' || c == '&' && '&amp;' || c == '\"' && '&quot;' || '&#' + c.charCodeAt() + ';';\n}\n\ncopy(NodeType, Node);\ncopy(NodeType, Node.prototype);\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\n\nfunction _visitNode(node, callback) {\n  if (callback(node)) {\n    return true;\n  }\n\n  if (node = node.firstChild) {\n    do {\n      if (_visitNode(node, callback)) {\n        return true;\n      }\n    } while (node = node.nextSibling);\n  }\n}\n\nfunction Document() {}\n\nfunction _onAddAttribute(doc, el, newAttr) {\n  doc && doc._inc++;\n  var ns = newAttr.namespaceURI;\n\n  if (ns == 'http://www.w3.org/2000/xmlns/') {\n    //update namespace\n    el._nsMap[newAttr.prefix ? newAttr.localName : ''] = newAttr.value;\n  }\n}\n\nfunction _onRemoveAttribute(doc, el, newAttr, remove) {\n  doc && doc._inc++;\n  var ns = newAttr.namespaceURI;\n\n  if (ns == 'http://www.w3.org/2000/xmlns/') {\n    //update namespace\n    delete el._nsMap[newAttr.prefix ? newAttr.localName : ''];\n  }\n}\n\nfunction _onUpdateChild(doc, el, newChild) {\n  if (doc && doc._inc) {\n    doc._inc++; //update childNodes\n\n    var cs = el.childNodes;\n\n    if (newChild) {\n      cs[cs.length++] = newChild;\n    } else {\n      //console.log(1)\n      var child = el.firstChild;\n      var i = 0;\n\n      while (child) {\n        cs[i++] = child;\n        child = child.nextSibling;\n      }\n\n      cs.length = i;\n    }\n  }\n}\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\n\n\nfunction _removeChild(parentNode, child) {\n  var previous = child.previousSibling;\n  var next = child.nextSibling;\n\n  if (previous) {\n    previous.nextSibling = next;\n  } else {\n    parentNode.firstChild = next;\n  }\n\n  if (next) {\n    next.previousSibling = previous;\n  } else {\n    parentNode.lastChild = previous;\n  }\n\n  _onUpdateChild(parentNode.ownerDocument, parentNode);\n\n  return child;\n}\n/**\n * preformance key(refChild == null)\n */\n\n\nfunction _insertBefore(parentNode, newChild, nextChild) {\n  var cp = newChild.parentNode;\n\n  if (cp) {\n    cp.removeChild(newChild); //remove and update\n  }\n\n  if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n    var newFirst = newChild.firstChild;\n\n    if (newFirst == null) {\n      return newChild;\n    }\n\n    var newLast = newChild.lastChild;\n  } else {\n    newFirst = newLast = newChild;\n  }\n\n  var pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n  newFirst.previousSibling = pre;\n  newLast.nextSibling = nextChild;\n\n  if (pre) {\n    pre.nextSibling = newFirst;\n  } else {\n    parentNode.firstChild = newFirst;\n  }\n\n  if (nextChild == null) {\n    parentNode.lastChild = newLast;\n  } else {\n    nextChild.previousSibling = newLast;\n  }\n\n  do {\n    newFirst.parentNode = parentNode;\n  } while (newFirst !== newLast && (newFirst = newFirst.nextSibling));\n\n  _onUpdateChild(parentNode.ownerDocument || parentNode, parentNode); //console.log(parentNode.lastChild.nextSibling == null)\n\n\n  if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n    newChild.firstChild = newChild.lastChild = null;\n  }\n\n  return newChild;\n}\n\nfunction _appendSingleChild(parentNode, newChild) {\n  var cp = newChild.parentNode;\n\n  if (cp) {\n    var pre = parentNode.lastChild;\n    cp.removeChild(newChild); //remove and update\n\n    var pre = parentNode.lastChild;\n  }\n\n  var pre = parentNode.lastChild;\n  newChild.parentNode = parentNode;\n  newChild.previousSibling = pre;\n  newChild.nextSibling = null;\n\n  if (pre) {\n    pre.nextSibling = newChild;\n  } else {\n    parentNode.firstChild = newChild;\n  }\n\n  parentNode.lastChild = newChild;\n\n  _onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\n  return newChild; //console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\n\nDocument.prototype = {\n  //implementation : null,\n  nodeName: '#document',\n  nodeType: DOCUMENT_NODE,\n  doctype: null,\n  documentElement: null,\n  _inc: 1,\n  insertBefore: function insertBefore(newChild, refChild) {\n    //raises \n    if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n      var child = newChild.firstChild;\n\n      while (child) {\n        var next = child.nextSibling;\n        this.insertBefore(child, refChild);\n        child = next;\n      }\n\n      return newChild;\n    }\n\n    if (this.documentElement == null && newChild.nodeType == ELEMENT_NODE) {\n      this.documentElement = newChild;\n    }\n\n    return _insertBefore(this, newChild, refChild), newChild.ownerDocument = this, newChild;\n  },\n  removeChild: function removeChild(oldChild) {\n    if (this.documentElement == oldChild) {\n      this.documentElement = null;\n    }\n\n    return _removeChild(this, oldChild);\n  },\n  // Introduced in DOM Level 2:\n  importNode: function importNode(importedNode, deep) {\n    return _importNode(this, importedNode, deep);\n  },\n  // Introduced in DOM Level 2:\n  getElementById: function getElementById(id) {\n    var rtv = null;\n\n    _visitNode(this.documentElement, function (node) {\n      if (node.nodeType == ELEMENT_NODE) {\n        if (node.getAttribute('id') == id) {\n          rtv = node;\n          return true;\n        }\n      }\n    });\n\n    return rtv;\n  },\n  //document factory method:\n  createElement: function createElement(tagName) {\n    var node = new Element();\n    node.ownerDocument = this;\n    node.nodeName = tagName;\n    node.tagName = tagName;\n    node.childNodes = new NodeList();\n    var attrs = node.attributes = new NamedNodeMap();\n    attrs._ownerElement = node;\n    return node;\n  },\n  createDocumentFragment: function createDocumentFragment() {\n    var node = new DocumentFragment();\n    node.ownerDocument = this;\n    node.childNodes = new NodeList();\n    return node;\n  },\n  createTextNode: function createTextNode(data) {\n    var node = new Text();\n    node.ownerDocument = this;\n    node.appendData(data);\n    return node;\n  },\n  createComment: function createComment(data) {\n    var node = new Comment();\n    node.ownerDocument = this;\n    node.appendData(data);\n    return node;\n  },\n  createCDATASection: function createCDATASection(data) {\n    var node = new CDATASection();\n    node.ownerDocument = this;\n    node.appendData(data);\n    return node;\n  },\n  createProcessingInstruction: function createProcessingInstruction(target, data) {\n    var node = new ProcessingInstruction();\n    node.ownerDocument = this;\n    node.tagName = node.target = target;\n    node.nodeValue = node.data = data;\n    return node;\n  },\n  createAttribute: function createAttribute(name) {\n    var node = new Attr();\n    node.ownerDocument = this;\n    node.name = name;\n    node.nodeName = name;\n    node.localName = name;\n    node.specified = true;\n    return node;\n  },\n  createEntityReference: function createEntityReference(name) {\n    var node = new EntityReference();\n    node.ownerDocument = this;\n    node.nodeName = name;\n    return node;\n  },\n  // Introduced in DOM Level 2:\n  createElementNS: function createElementNS(namespaceURI, qualifiedName) {\n    var node = new Element();\n    var pl = qualifiedName.split(':');\n    var attrs = node.attributes = new NamedNodeMap();\n    node.childNodes = new NodeList();\n    node.ownerDocument = this;\n    node.nodeName = qualifiedName;\n    node.tagName = qualifiedName;\n    node.namespaceURI = namespaceURI;\n\n    if (pl.length == 2) {\n      node.prefix = pl[0];\n      node.localName = pl[1];\n    } else {\n      //el.prefix = null;\n      node.localName = qualifiedName;\n    }\n\n    attrs._ownerElement = node;\n    return node;\n  },\n  // Introduced in DOM Level 2:\n  createAttributeNS: function createAttributeNS(namespaceURI, qualifiedName) {\n    var node = new Attr();\n    var pl = qualifiedName.split(':');\n    node.ownerDocument = this;\n    node.nodeName = qualifiedName;\n    node.name = qualifiedName;\n    node.namespaceURI = namespaceURI;\n    node.specified = true;\n\n    if (pl.length == 2) {\n      node.prefix = pl[0];\n      node.localName = pl[1];\n    } else {\n      //el.prefix = null;\n      node.localName = qualifiedName;\n    }\n\n    return node;\n  }\n};\n\n_extends(Document, Node);\n\nfunction Element() {\n  this._nsMap = {};\n}\n\n;\nElement.prototype = {\n  nodeType: ELEMENT_NODE,\n  hasAttribute: function hasAttribute(name) {\n    return this.getAttributeNode(name) != null;\n  },\n  getAttribute: function getAttribute(name) {\n    var attr = this.getAttributeNode(name);\n    return attr && attr.value || '';\n  },\n  getAttributeNode: function getAttributeNode(name) {\n    return this.attributes.getNamedItem(name);\n  },\n  setAttribute: function setAttribute(name, value) {\n    var attr = this.ownerDocument.createAttribute(name);\n    attr.value = attr.nodeValue = \"\" + value;\n    this.setAttributeNode(attr);\n  },\n  removeAttribute: function removeAttribute(name) {\n    var attr = this.getAttributeNode(name);\n    attr && this.removeAttributeNode(attr);\n  },\n  //four real opeartion method\n  appendChild: function appendChild(newChild) {\n    if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      return this.insertBefore(newChild, null);\n    } else {\n      return _appendSingleChild(this, newChild);\n    }\n  },\n  setAttributeNode: function setAttributeNode(newAttr) {\n    return this.attributes.setNamedItem(newAttr);\n  },\n  setAttributeNodeNS: function setAttributeNodeNS(newAttr) {\n    return this.attributes.setNamedItemNS(newAttr);\n  },\n  removeAttributeNode: function removeAttributeNode(oldAttr) {\n    //console.log(this == oldAttr.ownerElement)\n    return this.attributes.removeNamedItem(oldAttr.nodeName);\n  },\n  //get real attribute name,and remove it by removeAttributeNode\n  removeAttributeNS: function removeAttributeNS(namespaceURI, localName) {\n    var old = this.getAttributeNodeNS(namespaceURI, localName);\n    old && this.removeAttributeNode(old);\n  },\n  hasAttributeNS: function hasAttributeNS(namespaceURI, localName) {\n    return this.getAttributeNodeNS(namespaceURI, localName) != null;\n  },\n  getAttributeNS: function getAttributeNS(namespaceURI, localName) {\n    var attr = this.getAttributeNodeNS(namespaceURI, localName);\n    return attr && attr.value || '';\n  },\n  setAttributeNS: function setAttributeNS(namespaceURI, qualifiedName, value) {\n    var attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n    attr.value = attr.nodeValue = \"\" + value;\n    this.setAttributeNode(attr);\n  },\n  getAttributeNodeNS: function getAttributeNodeNS(namespaceURI, localName) {\n    return this.attributes.getNamedItemNS(namespaceURI, localName);\n  },\n  getElementsByTagName: function getElementsByTagName(tagName) {\n    return new LiveNodeList(this, function (base) {\n      var ls = [];\n\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)) {\n          ls.push(node);\n        }\n      });\n\n      return ls;\n    });\n  },\n  getElementsByTagNameNS: function getElementsByTagNameNS(namespaceURI, localName) {\n    return new LiveNodeList(this, function (base) {\n      var ls = [];\n\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)) {\n          ls.push(node);\n        }\n      });\n\n      return ls;\n    });\n  }\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n_extends(Element, Node);\n\nfunction Attr() {}\n\n;\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n\n_extends(Attr, Node);\n\nfunction CharacterData() {}\n\n;\nCharacterData.prototype = {\n  data: '',\n  substringData: function substringData(offset, count) {\n    return this.data.substring(offset, offset + count);\n  },\n  appendData: function appendData(text) {\n    text = this.data + text;\n    this.nodeValue = this.data = text;\n    this.length = text.length;\n  },\n  insertData: function insertData(offset, text) {\n    this.replaceData(offset, 0, text);\n  },\n  appendChild: function appendChild(newChild) {\n    throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR]);\n  },\n  deleteData: function deleteData(offset, count) {\n    this.replaceData(offset, count, \"\");\n  },\n  replaceData: function replaceData(offset, count, text) {\n    var start = this.data.substring(0, offset);\n    var end = this.data.substring(offset + count);\n    text = start + text + end;\n    this.nodeValue = this.data = text;\n    this.length = text.length;\n  }\n};\n\n_extends(CharacterData, Node);\n\nfunction Text() {}\n\n;\nText.prototype = {\n  nodeName: \"#text\",\n  nodeType: TEXT_NODE,\n  splitText: function splitText(offset) {\n    var text = this.data;\n    var newText = text.substring(offset);\n    text = text.substring(0, offset);\n    this.data = this.nodeValue = text;\n    this.length = text.length;\n    var newNode = this.ownerDocument.createTextNode(newText);\n\n    if (this.parentNode) {\n      this.parentNode.insertBefore(newNode, this.nextSibling);\n    }\n\n    return newNode;\n  }\n};\n\n_extends(Text, CharacterData);\n\nfunction Comment() {}\n\n;\nComment.prototype = {\n  nodeName: \"#comment\",\n  nodeType: COMMENT_NODE\n};\n\n_extends(Comment, CharacterData);\n\nfunction CDATASection() {}\n\n;\nCDATASection.prototype = {\n  nodeName: \"#cdata-section\",\n  nodeType: CDATA_SECTION_NODE\n};\n\n_extends(CDATASection, CharacterData);\n\nfunction DocumentType() {}\n\n;\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n\n_extends(DocumentType, Node);\n\nfunction Notation() {}\n\n;\nNotation.prototype.nodeType = NOTATION_NODE;\n\n_extends(Notation, Node);\n\nfunction Entity() {}\n\n;\nEntity.prototype.nodeType = ENTITY_NODE;\n\n_extends(Entity, Node);\n\nfunction EntityReference() {}\n\n;\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n\n_extends(EntityReference, Node);\n\nfunction DocumentFragment() {}\n\n;\nDocumentFragment.prototype.nodeName = \"#document-fragment\";\nDocumentFragment.prototype.nodeType = DOCUMENT_FRAGMENT_NODE;\n\n_extends(DocumentFragment, Node);\n\nfunction ProcessingInstruction() {}\n\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n\n_extends(ProcessingInstruction, Node);\n\nfunction XMLSerializer() {}\n\nXMLSerializer.prototype.serializeToString = function (node, isHtml, nodeFilter) {\n  return nodeSerializeToString.call(node, isHtml, nodeFilter);\n};\n\nNode.prototype.toString = nodeSerializeToString;\n\nfunction nodeSerializeToString(isHtml, nodeFilter) {\n  var buf = [];\n  var refNode = this.nodeType == 9 ? this.documentElement : this;\n  var prefix = refNode.prefix;\n  var uri = refNode.namespaceURI;\n\n  if (uri && prefix == null) {\n    //console.log(prefix)\n    var prefix = refNode.lookupPrefix(uri);\n\n    if (prefix == null) {\n      //isHTML = true;\n      var visibleNamespaces = [{\n        namespace: uri,\n        prefix: null\n      } //{namespace:uri,prefix:''}\n      ];\n    }\n  }\n\n  serializeToString(this, buf, isHtml, nodeFilter, visibleNamespaces); //console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\n  return buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n  var prefix = node.prefix || '';\n  var uri = node.namespaceURI;\n\n  if (!prefix && !uri) {\n    return false;\n  }\n\n  if (prefix === \"xml\" && uri === \"http://www.w3.org/XML/1998/namespace\" || uri == 'http://www.w3.org/2000/xmlns/') {\n    return false;\n  }\n\n  var i = visibleNamespaces.length; //console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n\n  while (i--) {\n    var ns = visibleNamespaces[i]; // get namespace prefix\n    //console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n\n    if (ns.prefix == prefix) {\n      return ns.namespace != uri;\n    }\n  } //console.log(isHTML,uri,prefix=='')\n  //if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n  //\treturn false;\n  //}\n  //node.flag = '11111'\n  //console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n\n\n  return true;\n}\n\nfunction serializeToString(node, buf, isHTML, nodeFilter, visibleNamespaces) {\n  if (nodeFilter) {\n    node = nodeFilter(node);\n\n    if (node) {\n      if (typeof node == 'string') {\n        buf.push(node);\n        return;\n      }\n    } else {\n      return;\n    } //buf.sort.apply(attrs, attributeSorter);\n\n  }\n\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      if (!visibleNamespaces) visibleNamespaces = [];\n      var startVisibleNamespaces = visibleNamespaces.length;\n      var attrs = node.attributes;\n      var len = attrs.length;\n      var child = node.firstChild;\n      var nodeName = node.tagName;\n      isHTML = htmlns === node.namespaceURI || isHTML;\n      buf.push('<', nodeName);\n\n      for (var i = 0; i < len; i++) {\n        // add namespaces for attributes\n        var attr = attrs.item(i);\n\n        if (attr.prefix == 'xmlns') {\n          visibleNamespaces.push({\n            prefix: attr.localName,\n            namespace: attr.value\n          });\n        } else if (attr.nodeName == 'xmlns') {\n          visibleNamespaces.push({\n            prefix: '',\n            namespace: attr.value\n          });\n        }\n      }\n\n      for (var i = 0; i < len; i++) {\n        var attr = attrs.item(i);\n\n        if (needNamespaceDefine(attr, isHTML, visibleNamespaces)) {\n          var prefix = attr.prefix || '';\n          var uri = attr.namespaceURI;\n          var ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n          buf.push(ns, '=\"', uri, '\"');\n          visibleNamespaces.push({\n            prefix: prefix,\n            namespace: uri\n          });\n        }\n\n        serializeToString(attr, buf, isHTML, nodeFilter, visibleNamespaces);\n      } // add namespace for current node\t\t\n\n\n      if (needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n        var prefix = node.prefix || '';\n        var uri = node.namespaceURI;\n        var ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n        buf.push(ns, '=\"', uri, '\"');\n        visibleNamespaces.push({\n          prefix: prefix,\n          namespace: uri\n        });\n      }\n\n      if (child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)) {\n        buf.push('>'); //if is cdata child node\n\n        if (isHTML && /^script$/i.test(nodeName)) {\n          while (child) {\n            if (child.data) {\n              buf.push(child.data);\n            } else {\n              serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces);\n            }\n\n            child = child.nextSibling;\n          }\n        } else {\n          while (child) {\n            serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces);\n            child = child.nextSibling;\n          }\n        }\n\n        buf.push('</', nodeName, '>');\n      } else {\n        buf.push('/>');\n      } // remove added visible namespaces\n      //visibleNamespaces.length = startVisibleNamespaces;\n\n\n      return;\n\n    case DOCUMENT_NODE:\n    case DOCUMENT_FRAGMENT_NODE:\n      var child = node.firstChild;\n\n      while (child) {\n        serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces);\n        child = child.nextSibling;\n      }\n\n      return;\n\n    case ATTRIBUTE_NODE:\n      return buf.push(' ', node.name, '=\"', node.value.replace(/[<&\"]/g, _xmlEncoder), '\"');\n\n    case TEXT_NODE:\n      return buf.push(node.data.replace(/[<&]/g, _xmlEncoder));\n\n    case CDATA_SECTION_NODE:\n      return buf.push('<![CDATA[', node.data, ']]>');\n\n    case COMMENT_NODE:\n      return buf.push(\"<!--\", node.data, \"-->\");\n\n    case DOCUMENT_TYPE_NODE:\n      var pubid = node.publicId;\n      var sysid = node.systemId;\n      buf.push('<!DOCTYPE ', node.name);\n\n      if (pubid) {\n        buf.push(' PUBLIC \"', pubid);\n\n        if (sysid && sysid != '.') {\n          buf.push('\" \"', sysid);\n        }\n\n        buf.push('\">');\n      } else if (sysid && sysid != '.') {\n        buf.push(' SYSTEM \"', sysid, '\">');\n      } else {\n        var sub = node.internalSubset;\n\n        if (sub) {\n          buf.push(\" [\", sub, \"]\");\n        }\n\n        buf.push(\">\");\n      }\n\n      return;\n\n    case PROCESSING_INSTRUCTION_NODE:\n      return buf.push(\"<?\", node.target, \" \", node.data, \"?>\");\n\n    case ENTITY_REFERENCE_NODE:\n      return buf.push('&', node.nodeName, ';');\n    //case ENTITY_NODE:\n    //case NOTATION_NODE:\n\n    default:\n      buf.push('??', node.nodeName);\n  }\n}\n\nfunction _importNode(doc, node, deep) {\n  var node2;\n\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      node2 = node.cloneNode(false);\n      node2.ownerDocument = doc;\n    //var attrs = node2.attributes;\n    //var len = attrs.length;\n    //for(var i=0;i<len;i++){\n    //node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n    //}\n\n    case DOCUMENT_FRAGMENT_NODE:\n      break;\n\n    case ATTRIBUTE_NODE:\n      deep = true;\n      break;\n    //case ENTITY_REFERENCE_NODE:\n    //case PROCESSING_INSTRUCTION_NODE:\n    ////case TEXT_NODE:\n    //case CDATA_SECTION_NODE:\n    //case COMMENT_NODE:\n    //\tdeep = false;\n    //\tbreak;\n    //case DOCUMENT_NODE:\n    //case DOCUMENT_TYPE_NODE:\n    //cannot be imported.\n    //case ENTITY_NODE:\n    //case NOTATION_NODE：\n    //can not hit in level3\n    //default:throw e;\n  }\n\n  if (!node2) {\n    node2 = node.cloneNode(false); //false\n  }\n\n  node2.ownerDocument = doc;\n  node2.parentNode = null;\n\n  if (deep) {\n    var child = node.firstChild;\n\n    while (child) {\n      node2.appendChild(_importNode(doc, child, deep));\n      child = child.nextSibling;\n    }\n  }\n\n  return node2;\n} //\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\n\n\nfunction _cloneNode(doc, node, deep) {\n  var node2 = new node.constructor();\n\n  for (var n in node) {\n    var v = node[n];\n\n    if (typeof v != 'object') {\n      if (v != node2[n]) {\n        node2[n] = v;\n      }\n    }\n  }\n\n  if (node.childNodes) {\n    node2.childNodes = new NodeList();\n  }\n\n  node2.ownerDocument = doc;\n\n  switch (node2.nodeType) {\n    case ELEMENT_NODE:\n      var attrs = node.attributes;\n      var attrs2 = node2.attributes = new NamedNodeMap();\n      var len = attrs.length;\n      attrs2._ownerElement = node2;\n\n      for (var i = 0; i < len; i++) {\n        node2.setAttributeNode(_cloneNode(doc, attrs.item(i), true));\n      }\n\n      break;\n      ;\n\n    case ATTRIBUTE_NODE:\n      deep = true;\n  }\n\n  if (deep) {\n    var child = node.firstChild;\n\n    while (child) {\n      node2.appendChild(_cloneNode(doc, child, deep));\n      child = child.nextSibling;\n    }\n  }\n\n  return node2;\n}\n\nfunction __set__(object, key, value) {\n  object[key] = value;\n} //do dynamic\n\n\ntry {\n  if (Object.defineProperty) {\n    var getTextContent = function getTextContent(node) {\n      switch (node.nodeType) {\n        case ELEMENT_NODE:\n        case DOCUMENT_FRAGMENT_NODE:\n          var buf = [];\n          node = node.firstChild;\n\n          while (node) {\n            if (node.nodeType !== 7 && node.nodeType !== 8) {\n              buf.push(getTextContent(node));\n            }\n\n            node = node.nextSibling;\n          }\n\n          return buf.join('');\n\n        default:\n          return node.nodeValue;\n      }\n    };\n\n    Object.defineProperty(LiveNodeList.prototype, 'length', {\n      get: function get() {\n        _updateLiveList(this);\n\n        return this.$$length;\n      }\n    });\n    Object.defineProperty(Node.prototype, 'textContent', {\n      get: function get() {\n        return getTextContent(this);\n      },\n      set: function set(data) {\n        switch (this.nodeType) {\n          case ELEMENT_NODE:\n          case DOCUMENT_FRAGMENT_NODE:\n            while (this.firstChild) {\n              this.removeChild(this.firstChild);\n            }\n\n            if (data || String(data)) {\n              this.appendChild(this.ownerDocument.createTextNode(data));\n            }\n\n            break;\n\n          default:\n            //TODO:\n            this.data = data;\n            this.value = data;\n            this.nodeValue = data;\n        }\n      }\n    });\n\n    __set__ = function __set__(object, key, value) {\n      //console.log(value)\n      object['$$' + key] = value;\n    };\n  }\n} catch (e) {//ie8\n} //if(typeof require == 'function'){\n\n\nexports.DOMImplementation = DOMImplementation;\nexports.XMLSerializer = XMLSerializer; //}","/*! @name @videojs/vhs-utils @version 2.2.1 @license MIT */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar toUint8 = function toUint8(bytes) {\n  return bytes instanceof Uint8Array ? bytes : new Uint8Array(bytes && bytes.buffer || bytes, bytes && bytes.byteOffset || 0, bytes && bytes.byteLength || 0);\n};\n\nvar bytesToString = function bytesToString(bytes) {\n  if (!bytes) {\n    return '';\n  }\n\n  bytes = Array.prototype.slice.call(bytes);\n  var string = String.fromCharCode.apply(null, toUint8(bytes));\n\n  try {\n    return decodeURIComponent(escape(string));\n  } catch (e) {// if decodeURIComponent/escape fails, we are dealing with partial\n    // or full non string data. Just return the potentially garbled string.\n  }\n\n  return string;\n};\n\nvar id3Size = function id3Size(bytes, offset) {\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  bytes = toUint8(bytes);\n  var returnSize = bytes[offset + 6] << 21 | bytes[offset + 7] << 14 | bytes[offset + 8] << 7 | bytes[offset + 9];\n  var flags = bytes[offset + 5];\n  var footerPresent = (flags & 16) >> 4;\n\n  if (footerPresent) {\n    return returnSize + 20;\n  }\n\n  return returnSize + 10;\n};\n\nvar getId3Offset = function getId3Offset(bytes, offset) {\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  bytes = toUint8(bytes);\n\n  if (bytes.length - offset < 10 || bytesToString(bytes.subarray(offset, offset + 3)) !== 'ID3') {\n    return offset;\n  }\n\n  offset += id3Size(bytes, offset); // recursive check for id3 tags as some files\n  // have multiple ID3 tag sections even though\n  // they should not.\n\n  return getId3Offset(bytes, offset);\n};\n\nvar isLikely = {\n  aac: function aac(bytes) {\n    var offset = getId3Offset(bytes);\n    return bytes.length >= offset + 2 && (bytes[offset] & 0xFF) === 0xFF && (bytes[offset + 1] & 0xE0) === 0xE0 && (bytes[offset + 1] & 0x16) === 0x10;\n  },\n  mp3: function mp3(bytes) {\n    var offset = getId3Offset(bytes);\n    return bytes.length >= offset + 2 && (bytes[offset] & 0xFF) === 0xFF && (bytes[offset + 1] & 0xE0) === 0xE0 && (bytes[offset + 1] & 0x06) === 0x02;\n  },\n  webm: function webm(bytes) {\n    return bytes.length >= 4 && (bytes[0] & 0xFF) === 0x1A && (bytes[1] & 0xFF) === 0x45 && (bytes[2] & 0xFF) === 0xDF && (bytes[3] & 0xFF) === 0xA3;\n  },\n  mp4: function mp4(bytes) {\n    return bytes.length >= 8 && /^(f|s)typ$/.test(bytesToString(bytes.subarray(4, 8))) && // not 3gp data\n    !/^ftyp3g$/.test(bytesToString(bytes.subarray(4, 10)));\n  },\n  '3gp': function gp(bytes) {\n    return bytes.length >= 10 && /^ftyp3g$/.test(bytesToString(bytes.subarray(4, 10)));\n  },\n  ts: function ts(bytes) {\n    if (bytes.length < 189 && bytes.length >= 1) {\n      return bytes[0] === 0x47;\n    }\n\n    var i = 0; // check the first 376 bytes for two matching sync bytes\n\n    while (i + 188 < bytes.length && i < 188) {\n      if (bytes[i] === 0x47 && bytes[i + 188] === 0x47) {\n        return true;\n      }\n\n      i += 1;\n    }\n\n    return false;\n  },\n  flac: function flac(bytes) {\n    return bytes.length >= 4 && /^fLaC$/.test(bytesToString(bytes.subarray(0, 4)));\n  },\n  ogg: function ogg(bytes) {\n    return bytes.length >= 4 && /^OggS$/.test(bytesToString(bytes.subarray(0, 4)));\n  }\n}; // get all the isLikely functions\n// but make sure 'ts' is at the bottom\n// as it is the least specific\n\nvar isLikelyTypes = Object.keys(isLikely) // remove ts\n.filter(function (t) {\n  return t !== 'ts';\n}) // add it back to the bottom\n.concat('ts'); // make sure we are dealing with uint8 data.\n\nisLikelyTypes.forEach(function (type) {\n  var isLikelyFn = isLikely[type];\n\n  isLikely[type] = function (bytes) {\n    return isLikelyFn(toUint8(bytes));\n  };\n}); // A useful list of file signatures can be found here\n// https://en.wikipedia.org/wiki/List_of_file_signatures\n\nvar detectContainerForBytes = function detectContainerForBytes(bytes) {\n  bytes = toUint8(bytes);\n\n  for (var i = 0; i < isLikelyTypes.length; i++) {\n    var type = isLikelyTypes[i];\n\n    if (isLikely[type](bytes)) {\n      return type;\n    }\n  }\n\n  return '';\n}; // fmp4 is not a container\n\n\nvar isLikelyFmp4MediaSegment = function isLikelyFmp4MediaSegment(bytes) {\n  bytes = toUint8(bytes);\n  var i = 0;\n\n  while (i < bytes.length) {\n    var size = (bytes[i] << 24 | bytes[i + 1] << 16 | bytes[i + 2] << 8 | bytes[i + 3]) >>> 0;\n    var type = bytesToString(bytes.subarray(i + 4, i + 8));\n\n    if (type === 'moof') {\n      return true;\n    }\n\n    if (size === 0 || size + i > bytes.length) {\n      i = bytes.length;\n    } else {\n      i += size;\n    }\n  }\n\n  return false;\n};\n\nexports.detectContainerForBytes = detectContainerForBytes;\nexports.getId3Offset = getId3Offset;\nexports.id3Size = id3Size;\nexports.isLikely = isLikely;\nexports.isLikelyFmp4MediaSegment = isLikelyFmp4MediaSegment;","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","const support = function (feature) {\n  if (typeof document === `undefined`) {\n    return false\n  }\n  const fakeLink = document.createElement(`link`)\n  try {\n    if (fakeLink.relList && typeof fakeLink.relList.supports === `function`) {\n      return fakeLink.relList.supports(feature)\n    }\n  } catch (err) {\n    return false\n  }\n  return false\n}\n\nconst linkPrefetchStrategy = function (url, options) {\n  return new Promise((resolve, reject) => {\n    if (typeof document === `undefined`) {\n      reject()\n      return\n    }\n\n    const link = document.createElement(`link`)\n    link.setAttribute(`rel`, `prefetch`)\n    link.setAttribute(`href`, url)\n\n    Object.keys(options).forEach(key => {\n      link.setAttribute(key, options[key])\n    })\n\n    link.onload = resolve\n    link.onerror = reject\n\n    const parentElement =\n      document.getElementsByTagName(`head`)[0] ||\n      document.getElementsByName(`script`)[0].parentNode\n    parentElement.appendChild(link)\n  })\n}\n\nconst xhrPrefetchStrategy = function (url) {\n  return new Promise((resolve, reject) => {\n    const req = new XMLHttpRequest()\n    req.open(`GET`, url, true)\n\n    req.onload = () => {\n      if (req.status === 200) {\n        resolve()\n      } else {\n        reject()\n      }\n    }\n\n    req.send(null)\n  })\n}\n\nconst supportedPrefetchStrategy = support(`prefetch`)\n  ? linkPrefetchStrategy\n  : xhrPrefetchStrategy\n\nconst preFetched = {}\n\nconst prefetch = function (url, options) {\n  return new Promise(resolve => {\n    if (preFetched[url]) {\n      resolve()\n      return\n    }\n\n    supportedPrefetchStrategy(url, options)\n      .then(() => {\n        resolve()\n        preFetched[url] = true\n      })\n      .catch(() => {}) // 404s are logged to the console anyway\n  })\n}\n\nexport default prefetch\n","import prefetchHelper from \"./prefetch\"\nimport emitter from \"./emitter\"\nimport { setMatchPaths, findPath, findMatchPath } from \"./find-path\"\n\n/**\n * Available resource loading statuses\n */\nexport const PageResourceStatus = {\n  /**\n   * At least one of critical resources failed to load\n   */\n  Error: `error`,\n  /**\n   * Resources loaded successfully\n   */\n  Success: `success`,\n}\n\nconst preferDefault = m => (m && m.default) || m\n\nconst stripSurroundingSlashes = s => {\n  s = s[0] === `/` ? s.slice(1) : s\n  s = s.endsWith(`/`) ? s.slice(0, -1) : s\n  return s\n}\n\nconst createPageDataUrl = path => {\n  const fixedPath = path === `/` ? `index` : stripSurroundingSlashes(path)\n  return `${__PATH_PREFIX__}/page-data/${fixedPath}/page-data.json`\n}\n\nfunction doFetch(url, method = `GET`) {\n  return new Promise((resolve, reject) => {\n    const req = new XMLHttpRequest()\n    req.open(method, url, true)\n    req.onreadystatechange = () => {\n      if (req.readyState == 4) {\n        resolve(req)\n      }\n    }\n    req.send(null)\n  })\n}\n\nconst doesConnectionSupportPrefetch = () => {\n  if (\n    `connection` in navigator &&\n    typeof navigator.connection !== `undefined`\n  ) {\n    if ((navigator.connection.effectiveType || ``).includes(`2g`)) {\n      return false\n    }\n    if (navigator.connection.saveData) {\n      return false\n    }\n  }\n  return true\n}\n\nconst toPageResources = (pageData, component = null) => {\n  const page = {\n    componentChunkName: pageData.componentChunkName,\n    path: pageData.path,\n    webpackCompilationHash: pageData.webpackCompilationHash,\n    matchPath: pageData.matchPath,\n    staticQueryHashes: pageData.staticQueryHashes,\n  }\n\n  return {\n    component,\n    json: pageData.result,\n    page,\n  }\n}\n\nexport class BaseLoader {\n  constructor(loadComponent, matchPaths) {\n    // Map of pagePath -> Page. Where Page is an object with: {\n    //   status: PageResourceStatus.Success || PageResourceStatus.Error,\n    //   payload: PageResources, // undefined if PageResourceStatus.Error\n    // }\n    // PageResources is {\n    //   component,\n    //   json: pageData.result,\n    //   page: {\n    //     componentChunkName,\n    //     path,\n    //     webpackCompilationHash,\n    //     staticQueryHashes\n    //   },\n    //   staticQueryResults\n    // }\n    this.pageDb = new Map()\n    this.inFlightDb = new Map()\n    this.staticQueryDb = {}\n    this.pageDataDb = new Map()\n    this.prefetchTriggered = new Set()\n    this.prefetchCompleted = new Set()\n    this.loadComponent = loadComponent\n    setMatchPaths(matchPaths)\n  }\n\n  inFlightNetworkRequests = new Map()\n\n  memoizedGet(url) {\n    let inFlightPromise = this.inFlightNetworkRequests.get(url)\n\n    if (!inFlightPromise) {\n      inFlightPromise = doFetch(url, `GET`)\n      this.inFlightNetworkRequests.set(url, inFlightPromise)\n    }\n\n    // Prefer duplication with then + catch over .finally to prevent problems in ie11 + firefox\n    return inFlightPromise\n      .then(response => {\n        this.inFlightNetworkRequests.delete(url)\n        return response\n      })\n      .catch(err => {\n        this.inFlightNetworkRequests.delete(url)\n        throw err\n      })\n  }\n\n  setApiRunner(apiRunner) {\n    this.apiRunner = apiRunner\n    this.prefetchDisabled = apiRunner(`disableCorePrefetching`).some(a => a)\n  }\n\n  fetchPageDataJson(loadObj) {\n    const { pagePath, retries = 0 } = loadObj\n    const url = createPageDataUrl(pagePath)\n    return this.memoizedGet(url).then(req => {\n      const { status, responseText } = req\n\n      // Handle 200\n      if (status === 200) {\n        try {\n          const jsonPayload = JSON.parse(responseText)\n          if (jsonPayload.path === undefined) {\n            throw new Error(`not a valid pageData response`)\n          }\n\n          // In development, check if the page is in the bundle yet.\n          if (\n            process.env.NODE_ENV === `development` &&\n            process.env.GATSBY_EXPERIMENTAL_LAZY_DEVJS\n          ) {\n            const ensureComponentInBundle = require(`./ensure-page-component-in-bundle`)\n              .default\n            if (process.env.NODE_ENV !== `test`) {\n              delete require.cache[\n                require.resolve(`$virtual/lazy-client-sync-requires`)\n              ]\n            }\n\n            const lazyRequires = require(`$virtual/lazy-client-sync-requires`)\n            if (\n              lazyRequires.notVisitedPageComponents[\n                jsonPayload.componentChunkName\n              ]\n            ) {\n              // Tell the server the user wants to visit this page\n              // to trigger it including the page component's code in the\n              // commons bundles.\n              ensureComponentInBundle(jsonPayload.componentChunkName)\n\n              return new Promise(resolve =>\n                setTimeout(() => resolve(this.fetchPageDataJson(loadObj)), 100)\n              )\n            }\n          }\n\n          return Object.assign(loadObj, {\n            status: PageResourceStatus.Success,\n            payload: jsonPayload,\n          })\n        } catch (err) {\n          // continue regardless of error\n        }\n      }\n\n      // Handle 404\n      if (status === 404 || status === 200) {\n        // If the request was for a 404 page and it doesn't exist, we're done\n        if (pagePath === `/404.html`) {\n          return Object.assign(loadObj, {\n            status: PageResourceStatus.Error,\n          })\n        }\n\n        // Need some code here to cache the 404 request. In case\n        // multiple loadPageDataJsons result in 404s\n        return this.fetchPageDataJson(\n          Object.assign(loadObj, { pagePath: `/404.html`, notFound: true })\n        )\n      }\n\n      // handle 500 response (Unrecoverable)\n      if (status === 500) {\n        return Object.assign(loadObj, {\n          status: PageResourceStatus.Error,\n        })\n      }\n\n      // Handle everything else, including status === 0, and 503s. Should retry\n      if (retries < 3) {\n        return this.fetchPageDataJson(\n          Object.assign(loadObj, { retries: retries + 1 })\n        )\n      }\n\n      // Retried 3 times already, result is an error.\n      return Object.assign(loadObj, {\n        status: PageResourceStatus.Error,\n      })\n    })\n  }\n\n  loadPageDataJson(rawPath) {\n    const pagePath = findPath(rawPath)\n    if (this.pageDataDb.has(pagePath)) {\n      const pageData = this.pageDataDb.get(pagePath)\n      if (!process.env.GATSBY_EXPERIMENTAL_QUERY_ON_DEMAND || !pageData.stale) {\n        return Promise.resolve(pageData)\n      }\n    }\n\n    return this.fetchPageDataJson({ pagePath }).then(pageData => {\n      this.pageDataDb.set(pagePath, pageData)\n\n      return pageData\n    })\n  }\n\n  findMatchPath(rawPath) {\n    return findMatchPath(rawPath)\n  }\n\n  // TODO check all uses of this and whether they use undefined for page resources not exist\n  loadPage(rawPath) {\n    const pagePath = findPath(rawPath)\n    if (this.pageDb.has(pagePath)) {\n      const page = this.pageDb.get(pagePath)\n      if (\n        !process.env.GATSBY_EXPERIMENTAL_QUERY_ON_DEMAND ||\n        !page.payload.stale\n      ) {\n        return Promise.resolve(page.payload)\n      }\n    }\n\n    if (this.inFlightDb.has(pagePath)) {\n      return this.inFlightDb.get(pagePath)\n    }\n\n    const inFlightPromise = Promise.all([\n      this.loadAppData(),\n      this.loadPageDataJson(pagePath),\n    ]).then(allData => {\n      const result = allData[1]\n      if (result.status === PageResourceStatus.Error) {\n        return {\n          status: PageResourceStatus.Error,\n        }\n      }\n\n      let pageData = result.payload\n      const { componentChunkName, staticQueryHashes = [] } = pageData\n\n      const finalResult = {}\n\n      const componentChunkPromise = this.loadComponent(componentChunkName).then(\n        component => {\n          finalResult.createdAt = new Date()\n          let pageResources\n          if (!component) {\n            finalResult.status = PageResourceStatus.Error\n          } else {\n            finalResult.status = PageResourceStatus.Success\n            if (result.notFound === true) {\n              finalResult.notFound = true\n            }\n            pageData = Object.assign(pageData, {\n              webpackCompilationHash: allData[0]\n                ? allData[0].webpackCompilationHash\n                : ``,\n            })\n            pageResources = toPageResources(pageData, component)\n          }\n          // undefined if final result is an error\n          return pageResources\n        }\n      )\n\n      const staticQueryBatchPromise = Promise.all(\n        staticQueryHashes.map(staticQueryHash => {\n          // Check for cache in case this static query result has already been loaded\n          if (this.staticQueryDb[staticQueryHash]) {\n            const jsonPayload = this.staticQueryDb[staticQueryHash]\n            return { staticQueryHash, jsonPayload }\n          }\n\n          return this.memoizedGet(\n            `${__PATH_PREFIX__}/page-data/sq/d/${staticQueryHash}.json`\n          ).then(req => {\n            const jsonPayload = JSON.parse(req.responseText)\n            return { staticQueryHash, jsonPayload }\n          })\n        })\n      ).then(staticQueryResults => {\n        const staticQueryResultsMap = {}\n\n        staticQueryResults.forEach(({ staticQueryHash, jsonPayload }) => {\n          staticQueryResultsMap[staticQueryHash] = jsonPayload\n          this.staticQueryDb[staticQueryHash] = jsonPayload\n        })\n\n        return staticQueryResultsMap\n      })\n\n      return Promise.all([componentChunkPromise, staticQueryBatchPromise]).then(\n        ([pageResources, staticQueryResults]) => {\n          let payload\n          if (pageResources) {\n            payload = { ...pageResources, staticQueryResults }\n            finalResult.payload = payload\n            emitter.emit(`onPostLoadPageResources`, {\n              page: payload,\n              pageResources: payload,\n            })\n          }\n\n          this.pageDb.set(pagePath, finalResult)\n\n          return payload\n        }\n      )\n    })\n\n    inFlightPromise\n      .then(response => {\n        this.inFlightDb.delete(pagePath)\n      })\n      .catch(error => {\n        this.inFlightDb.delete(pagePath)\n        throw error\n      })\n\n    this.inFlightDb.set(pagePath, inFlightPromise)\n\n    return inFlightPromise\n  }\n\n  // returns undefined if loading page ran into errors\n  loadPageSync(rawPath) {\n    const pagePath = findPath(rawPath)\n    if (this.pageDb.has(pagePath)) {\n      const pageData = this.pageDb.get(pagePath).payload\n      return pageData\n    }\n    return undefined\n  }\n\n  shouldPrefetch(pagePath) {\n    // Skip prefetching if we know user is on slow or constrained connection\n    if (!doesConnectionSupportPrefetch()) {\n      return false\n    }\n\n    // Check if the page exists.\n    if (this.pageDb.has(pagePath)) {\n      return false\n    }\n\n    return true\n  }\n\n  prefetch(pagePath) {\n    if (!this.shouldPrefetch(pagePath)) {\n      return false\n    }\n\n    // Tell plugins with custom prefetching logic that they should start\n    // prefetching this path.\n    if (!this.prefetchTriggered.has(pagePath)) {\n      this.apiRunner(`onPrefetchPathname`, { pathname: pagePath })\n      this.prefetchTriggered.add(pagePath)\n    }\n\n    // If a plugin has disabled core prefetching, stop now.\n    if (this.prefetchDisabled) {\n      return false\n    }\n\n    const realPath = findPath(pagePath)\n    // Todo make doPrefetch logic cacheable\n    // eslint-disable-next-line consistent-return\n    this.doPrefetch(realPath).then(() => {\n      if (!this.prefetchCompleted.has(pagePath)) {\n        this.apiRunner(`onPostPrefetchPathname`, { pathname: pagePath })\n        this.prefetchCompleted.add(pagePath)\n      }\n    })\n\n    return true\n  }\n\n  doPrefetch(pagePath) {\n    const pageDataUrl = createPageDataUrl(pagePath)\n    return prefetchHelper(pageDataUrl, {\n      crossOrigin: `anonymous`,\n      as: `fetch`,\n    }).then(() =>\n      // This was just prefetched, so will return a response from\n      // the cache instead of making another request to the server\n      this.loadPageDataJson(pagePath)\n    )\n  }\n\n  hovering(rawPath) {\n    this.loadPage(rawPath)\n  }\n\n  getResourceURLsForPathname(rawPath) {\n    const pagePath = findPath(rawPath)\n    const page = this.pageDataDb.get(pagePath)\n    if (page) {\n      const pageResources = toPageResources(page.payload)\n\n      return [\n        ...createComponentUrls(pageResources.page.componentChunkName),\n        createPageDataUrl(pagePath),\n      ]\n    } else {\n      return null\n    }\n  }\n\n  isPageNotFound(rawPath) {\n    const pagePath = findPath(rawPath)\n    const page = this.pageDb.get(pagePath)\n    return !page || page.notFound\n  }\n\n  loadAppData(retries = 0) {\n    return this.memoizedGet(`${__PATH_PREFIX__}/page-data/app-data.json`).then(\n      req => {\n        const { status, responseText } = req\n\n        let appData\n\n        if (status !== 200 && retries < 3) {\n          // Retry 3 times incase of non-200 responses\n          return this.loadAppData(retries + 1)\n        }\n\n        // Handle 200\n        if (status === 200) {\n          try {\n            const jsonPayload = JSON.parse(responseText)\n            if (jsonPayload.webpackCompilationHash === undefined) {\n              throw new Error(`not a valid app-data response`)\n            }\n\n            appData = jsonPayload\n          } catch (err) {\n            // continue regardless of error\n          }\n        }\n\n        return appData\n      }\n    )\n  }\n}\n\nconst createComponentUrls = componentChunkName =>\n  (window.___chunkMapping[componentChunkName] || []).map(\n    chunk => __PATH_PREFIX__ + chunk\n  )\n\nexport class ProdLoader extends BaseLoader {\n  constructor(asyncRequires, matchPaths) {\n    const loadComponent = chunkName =>\n      asyncRequires.components[chunkName]\n        ? asyncRequires.components[chunkName]()\n            .then(preferDefault)\n            // loader will handle the case when component is null\n            .catch(() => null)\n        : Promise.resolve()\n\n    super(loadComponent, matchPaths)\n  }\n\n  doPrefetch(pagePath) {\n    return super.doPrefetch(pagePath).then(result => {\n      if (result.status !== PageResourceStatus.Success) {\n        return Promise.resolve()\n      }\n      const pageData = result.payload\n      const chunkName = pageData.componentChunkName\n      const componentUrls = createComponentUrls(chunkName)\n      return Promise.all(componentUrls.map(prefetchHelper)).then(() => pageData)\n    })\n  }\n\n  loadPageDataJson(rawPath) {\n    return super.loadPageDataJson(rawPath).then(data => {\n      if (data.notFound) {\n        // check if html file exist using HEAD request:\n        // if it does we should navigate to it instead of showing 404\n        return doFetch(rawPath, `HEAD`).then(req => {\n          if (req.status === 200) {\n            // page (.html file) actually exist (or we asked for 404 )\n            // returning page resources status as errored to trigger\n            // regular browser navigation to given page\n            return {\n              status: PageResourceStatus.Error,\n            }\n          }\n\n          // if HEAD request wasn't 200, return notFound result\n          // and show 404 page\n          return data\n        })\n      }\n      return data\n    })\n  }\n}\n\nlet instance\n\nexport const setLoader = _loader => {\n  instance = _loader\n}\n\nexport const publicLoader = {\n  // Deprecated methods. As far as we're aware, these are only used by\n  // core gatsby and the offline plugin, however there's a very small\n  // chance they're called by others.\n  getResourcesForPathname: rawPath => {\n    console.warn(\n      `Warning: getResourcesForPathname is deprecated. Use loadPage instead`\n    )\n    return instance.i.loadPage(rawPath)\n  },\n  getResourcesForPathnameSync: rawPath => {\n    console.warn(\n      `Warning: getResourcesForPathnameSync is deprecated. Use loadPageSync instead`\n    )\n    return instance.i.loadPageSync(rawPath)\n  },\n  enqueue: rawPath => instance.prefetch(rawPath),\n\n  // Real methods\n  getResourceURLsForPathname: rawPath =>\n    instance.getResourceURLsForPathname(rawPath),\n  loadPage: rawPath => instance.loadPage(rawPath),\n  loadPageSync: rawPath => instance.loadPageSync(rawPath),\n  prefetch: rawPath => instance.prefetch(rawPath),\n  isPageNotFound: rawPath => instance.isPageNotFound(rawPath),\n  hovering: rawPath => instance.hovering(rawPath),\n  loadAppData: () => instance.loadAppData(),\n}\n\nexport default publicLoader\n\nexport function getStaticQueryResults() {\n  if (instance) {\n    return instance.staticQueryDb\n  } else {\n    return {}\n  }\n}\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar toUnsigned = function toUnsigned(value) {\n  return value >>> 0;\n};\n\nvar toHexString = function toHexString(value) {\n  return ('00' + value.toString(16)).slice(-2);\n};\n\nmodule.exports = {\n  toUnsigned: toUnsigned,\n  toHexString: toHexString\n};","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","module.exports = isFunction;\nvar toString = Object.prototype.toString;\n\nfunction isFunction(fn) {\n  if (!fn) {\n    return false;\n  }\n\n  var string = toString.call(fn);\n  return string === '[object Function]' || typeof fn === 'function' && string !== '[object RegExp]' || typeof window !== 'undefined' && ( // IE8 and below\n  fn === window.setTimeout || fn === window.alert || fn === window.confirm || fn === window.prompt);\n}\n\n;","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var parseSidx = function parseSidx(data) {\n  var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n      result = {\n    version: data[0],\n    flags: new Uint8Array(data.subarray(1, 4)),\n    references: [],\n    referenceId: view.getUint32(4),\n    timescale: view.getUint32(8),\n    earliestPresentationTime: view.getUint32(12),\n    firstOffset: view.getUint32(16)\n  },\n      referenceCount = view.getUint16(22),\n      i;\n\n  for (i = 24; referenceCount; i += 12, referenceCount--) {\n    result.references.push({\n      referenceType: (data[i] & 0x80) >>> 7,\n      referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n      subsegmentDuration: view.getUint32(i + 4),\n      startsWithSap: !!(data[i + 8] & 0x80),\n      sapType: (data[i + 8] & 0x70) >>> 4,\n      sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n    });\n  }\n\n  return result;\n};\n\nmodule.exports = parseSidx;","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","import \"core-js/modules/es.array.reduce\";\n\n/*! @name mpd-parser @version 0.14.0 @license Apache-2.0 */\nimport resolveUrl from '@videojs/vhs-utils/dist/resolve-url';\nimport window from 'global/window';\nimport decodeB64ToUint8Array from '@videojs/vhs-utils/dist/decode-b64-to-uint8-array';\nimport { DOMParser } from 'xmldom';\nvar version = \"0.14.0\";\n\nvar isObject = function isObject(obj) {\n  return !!obj && typeof obj === 'object';\n};\n\nvar merge = function merge() {\n  for (var _len = arguments.length, objects = new Array(_len), _key = 0; _key < _len; _key++) {\n    objects[_key] = arguments[_key];\n  }\n\n  return objects.reduce(function (result, source) {\n    Object.keys(source).forEach(function (key) {\n      if (Array.isArray(result[key]) && Array.isArray(source[key])) {\n        result[key] = result[key].concat(source[key]);\n      } else if (isObject(result[key]) && isObject(source[key])) {\n        result[key] = merge(result[key], source[key]);\n      } else {\n        result[key] = source[key];\n      }\n    });\n    return result;\n  }, {});\n};\n\nvar values = function values(o) {\n  return Object.keys(o).map(function (k) {\n    return o[k];\n  });\n};\n\nvar range = function range(start, end) {\n  var result = [];\n\n  for (var i = start; i < end; i++) {\n    result.push(i);\n  }\n\n  return result;\n};\n\nvar flatten = function flatten(lists) {\n  return lists.reduce(function (x, y) {\n    return x.concat(y);\n  }, []);\n};\n\nvar from = function from(list) {\n  if (!list.length) {\n    return [];\n  }\n\n  var result = [];\n\n  for (var i = 0; i < list.length; i++) {\n    result.push(list[i]);\n  }\n\n  return result;\n};\n\nvar findIndexes = function findIndexes(l, key) {\n  return l.reduce(function (a, e, i) {\n    if (e[key]) {\n      a.push(i);\n    }\n\n    return a;\n  }, []);\n};\n\nvar errors = {\n  INVALID_NUMBER_OF_PERIOD: 'INVALID_NUMBER_OF_PERIOD',\n  DASH_EMPTY_MANIFEST: 'DASH_EMPTY_MANIFEST',\n  DASH_INVALID_XML: 'DASH_INVALID_XML',\n  NO_BASE_URL: 'NO_BASE_URL',\n  MISSING_SEGMENT_INFORMATION: 'MISSING_SEGMENT_INFORMATION',\n  SEGMENT_TIME_UNSPECIFIED: 'SEGMENT_TIME_UNSPECIFIED',\n  UNSUPPORTED_UTC_TIMING_SCHEME: 'UNSUPPORTED_UTC_TIMING_SCHEME'\n};\n/**\n * @typedef {Object} SingleUri\n * @property {string} uri - relative location of segment\n * @property {string} resolvedUri - resolved location of segment\n * @property {Object} byterange - Object containing information on how to make byte range\n *   requests following byte-range-spec per RFC2616.\n * @property {String} byterange.length - length of range request\n * @property {String} byterange.offset - byte offset of range request\n *\n * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.1\n */\n\n/**\n * Converts a URLType node (5.3.9.2.3 Table 13) to a segment object\n * that conforms to how m3u8-parser is structured\n *\n * @see https://github.com/videojs/m3u8-parser\n *\n * @param {string} baseUrl - baseUrl provided by <BaseUrl> nodes\n * @param {string} source - source url for segment\n * @param {string} range - optional range used for range calls,\n *   follows  RFC 2616, Clause 14.35.1\n * @return {SingleUri} full segment information transformed into a format similar\n *   to m3u8-parser\n */\n\nvar urlTypeToSegment = function urlTypeToSegment(_ref) {\n  var _ref$baseUrl = _ref.baseUrl,\n      baseUrl = _ref$baseUrl === void 0 ? '' : _ref$baseUrl,\n      _ref$source = _ref.source,\n      source = _ref$source === void 0 ? '' : _ref$source,\n      _ref$range = _ref.range,\n      range = _ref$range === void 0 ? '' : _ref$range,\n      _ref$indexRange = _ref.indexRange,\n      indexRange = _ref$indexRange === void 0 ? '' : _ref$indexRange;\n  var segment = {\n    uri: source,\n    resolvedUri: resolveUrl(baseUrl || '', source)\n  };\n\n  if (range || indexRange) {\n    var rangeStr = range ? range : indexRange;\n    var ranges = rangeStr.split('-');\n    var startRange = parseInt(ranges[0], 10);\n    var endRange = parseInt(ranges[1], 10); // byterange should be inclusive according to\n    // RFC 2616, Clause 14.35.1\n\n    segment.byterange = {\n      length: endRange - startRange + 1,\n      offset: startRange\n    };\n  }\n\n  return segment;\n};\n\nvar byteRangeToString = function byteRangeToString(byterange) {\n  // `endRange` is one less than `offset + length` because the HTTP range\n  // header uses inclusive ranges\n  var endRange = byterange.offset + byterange.length - 1;\n  return byterange.offset + \"-\" + endRange;\n};\n/**\n * Functions for calculating the range of available segments in static and dynamic\n * manifests.\n */\n\n\nvar segmentRange = {\n  /**\n   * Returns the entire range of available segments for a static MPD\n   *\n   * @param {Object} attributes\n   *        Inheritied MPD attributes\n   * @return {{ start: number, end: number }}\n   *         The start and end numbers for available segments\n   */\n  static: function _static(attributes) {\n    var duration = attributes.duration,\n        _attributes$timescale = attributes.timescale,\n        timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n        sourceDuration = attributes.sourceDuration;\n    return {\n      start: 0,\n      end: Math.ceil(sourceDuration / (duration / timescale))\n    };\n  },\n\n  /**\n   * Returns the current live window range of available segments for a dynamic MPD\n   *\n   * @param {Object} attributes\n   *        Inheritied MPD attributes\n   * @return {{ start: number, end: number }}\n   *         The start and end numbers for available segments\n   */\n  dynamic: function dynamic(attributes) {\n    var NOW = attributes.NOW,\n        clientOffset = attributes.clientOffset,\n        availabilityStartTime = attributes.availabilityStartTime,\n        _attributes$timescale2 = attributes.timescale,\n        timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n        duration = attributes.duration,\n        _attributes$start = attributes.start,\n        start = _attributes$start === void 0 ? 0 : _attributes$start,\n        _attributes$minimumUp = attributes.minimumUpdatePeriod,\n        minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp,\n        _attributes$timeShift = attributes.timeShiftBufferDepth,\n        timeShiftBufferDepth = _attributes$timeShift === void 0 ? Infinity : _attributes$timeShift;\n    var now = (NOW + clientOffset) / 1000;\n    var periodStartWC = availabilityStartTime + start;\n    var periodEndWC = now + minimumUpdatePeriod;\n    var periodDuration = periodEndWC - periodStartWC;\n    var segmentCount = Math.ceil(periodDuration * timescale / duration);\n    var availableStart = Math.floor((now - periodStartWC - timeShiftBufferDepth) * timescale / duration);\n    var availableEnd = Math.floor((now - periodStartWC) * timescale / duration);\n    return {\n      start: Math.max(0, availableStart),\n      end: Math.min(segmentCount, availableEnd)\n    };\n  }\n};\n/**\n * Maps a range of numbers to objects with information needed to build the corresponding\n * segment list\n *\n * @name toSegmentsCallback\n * @function\n * @param {number} number\n *        Number of the segment\n * @param {number} index\n *        Index of the number in the range list\n * @return {{ number: Number, duration: Number, timeline: Number, time: Number }}\n *         Object with segment timing and duration info\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping a range of numbers to\n * information needed to build the segment list.\n *\n * @param {Object} attributes\n *        Inherited MPD attributes\n * @return {toSegmentsCallback}\n *         Callback map function\n */\n\nvar toSegments = function toSegments(attributes) {\n  return function (number, index) {\n    var duration = attributes.duration,\n        _attributes$timescale3 = attributes.timescale,\n        timescale = _attributes$timescale3 === void 0 ? 1 : _attributes$timescale3,\n        periodIndex = attributes.periodIndex,\n        _attributes$startNumb = attributes.startNumber,\n        startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb;\n    return {\n      number: startNumber + number,\n      duration: duration / timescale,\n      timeline: periodIndex,\n      time: index * duration\n    };\n  };\n};\n/**\n * Returns a list of objects containing segment timing and duration info used for\n * building the list of segments. This uses the @duration attribute specified\n * in the MPD manifest to derive the range of segments.\n *\n * @param {Object} attributes\n *        Inherited MPD attributes\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseByDuration = function parseByDuration(attributes) {\n  var _attributes$type = attributes.type,\n      type = _attributes$type === void 0 ? 'static' : _attributes$type,\n      duration = attributes.duration,\n      _attributes$timescale4 = attributes.timescale,\n      timescale = _attributes$timescale4 === void 0 ? 1 : _attributes$timescale4,\n      sourceDuration = attributes.sourceDuration;\n\n  var _segmentRange$type = segmentRange[type](attributes),\n      start = _segmentRange$type.start,\n      end = _segmentRange$type.end;\n\n  var segments = range(start, end).map(toSegments(attributes));\n\n  if (type === 'static') {\n    var index = segments.length - 1; // final segment may be less than full segment duration\n\n    segments[index].duration = sourceDuration - duration / timescale * index;\n  }\n\n  return segments;\n};\n/**\n * Translates SegmentBase into a set of segments.\n * (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n * node should be translated into segment.\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @return {Object.<Array>} list of segments\n */\n\n\nvar segmentsFromBase = function segmentsFromBase(attributes) {\n  var baseUrl = attributes.baseUrl,\n      _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ,\n      sourceDuration = attributes.sourceDuration,\n      _attributes$indexRang = attributes.indexRange,\n      indexRange = _attributes$indexRang === void 0 ? '' : _attributes$indexRang,\n      duration = attributes.duration; // base url is required for SegmentBase to work, per spec (Section 5.3.9.2.1)\n\n  if (!baseUrl) {\n    throw new Error(errors.NO_BASE_URL);\n  }\n\n  var initSegment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: initialization.sourceURL,\n    range: initialization.range\n  });\n  var segment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: baseUrl,\n    indexRange: indexRange\n  });\n  segment.map = initSegment; // If there is a duration, use it, otherwise use the given duration of the source\n  // (since SegmentBase is only for one total segment)\n\n  if (duration) {\n    var segmentTimeInfo = parseByDuration(attributes);\n\n    if (segmentTimeInfo.length) {\n      segment.duration = segmentTimeInfo[0].duration;\n      segment.timeline = segmentTimeInfo[0].timeline;\n    }\n  } else if (sourceDuration) {\n    segment.duration = sourceDuration;\n    segment.timeline = 0;\n  } // This is used for mediaSequence\n\n\n  segment.number = 0;\n  return [segment];\n};\n/**\n * Given a playlist, a sidx box, and a baseUrl, update the segment list of the playlist\n * according to the sidx information given.\n *\n * playlist.sidx has metadadata about the sidx where-as the sidx param\n * is the parsed sidx box itself.\n *\n * @param {Object} playlist the playlist to update the sidx information for\n * @param {Object} sidx the parsed sidx box\n * @return {Object} the playlist object with the updated sidx information\n */\n\n\nvar addSegmentsToPlaylist = function addSegmentsToPlaylist(playlist, sidx, baseUrl) {\n  // Retain init segment information\n  var initSegment = playlist.sidx.map ? playlist.sidx.map : null; // Retain source duration from initial master manifest parsing\n\n  var sourceDuration = playlist.sidx.duration; // Retain source timeline\n\n  var timeline = playlist.timeline || 0;\n  var sidxByteRange = playlist.sidx.byterange;\n  var sidxEnd = sidxByteRange.offset + sidxByteRange.length; // Retain timescale of the parsed sidx\n\n  var timescale = sidx.timescale; // referenceType 1 refers to other sidx boxes\n\n  var mediaReferences = sidx.references.filter(function (r) {\n    return r.referenceType !== 1;\n  });\n  var segments = []; // firstOffset is the offset from the end of the sidx box\n\n  var startIndex = sidxEnd + sidx.firstOffset;\n\n  for (var i = 0; i < mediaReferences.length; i++) {\n    var reference = sidx.references[i]; // size of the referenced (sub)segment\n\n    var size = reference.referencedSize; // duration of the referenced (sub)segment, in  the  timescale\n    // this will be converted to seconds when generating segments\n\n    var duration = reference.subsegmentDuration; // should be an inclusive range\n\n    var endIndex = startIndex + size - 1;\n    var indexRange = startIndex + \"-\" + endIndex;\n    var attributes = {\n      baseUrl: baseUrl,\n      timescale: timescale,\n      timeline: timeline,\n      // this is used in parseByDuration\n      periodIndex: timeline,\n      duration: duration,\n      sourceDuration: sourceDuration,\n      indexRange: indexRange\n    };\n    var segment = segmentsFromBase(attributes)[0];\n\n    if (initSegment) {\n      segment.map = initSegment;\n    }\n\n    segments.push(segment);\n    startIndex += size;\n  }\n\n  playlist.segments = segments;\n  return playlist;\n};\n\nvar mergeDiscontiguousPlaylists = function mergeDiscontiguousPlaylists(playlists) {\n  var mergedPlaylists = values(playlists.reduce(function (acc, playlist) {\n    // assuming playlist IDs are the same across periods\n    // TODO: handle multiperiod where representation sets are not the same\n    // across periods\n    var name = playlist.attributes.id + (playlist.attributes.lang || ''); // Periods after first\n\n    if (acc[name]) {\n      var _acc$name$segments; // first segment of subsequent periods signal a discontinuity\n\n\n      if (playlist.segments[0]) {\n        playlist.segments[0].discontinuity = true;\n      }\n\n      (_acc$name$segments = acc[name].segments).push.apply(_acc$name$segments, playlist.segments); // bubble up contentProtection, this assumes all DRM content\n      // has the same contentProtection\n\n\n      if (playlist.attributes.contentProtection) {\n        acc[name].attributes.contentProtection = playlist.attributes.contentProtection;\n      }\n    } else {\n      // first Period\n      acc[name] = playlist;\n    }\n\n    return acc;\n  }, {}));\n  return mergedPlaylists.map(function (playlist) {\n    playlist.discontinuityStarts = findIndexes(playlist.segments, 'discontinuity');\n    return playlist;\n  });\n};\n\nvar addSegmentInfoFromSidx = function addSegmentInfoFromSidx(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  if (!Object.keys(sidxMapping).length) {\n    return playlists;\n  }\n\n  for (var i in playlists) {\n    var playlist = playlists[i];\n\n    if (!playlist.sidx) {\n      continue;\n    }\n\n    var sidxKey = playlist.sidx.uri + '-' + byteRangeToString(playlist.sidx.byterange);\n    var sidxMatch = sidxMapping[sidxKey] && sidxMapping[sidxKey].sidx;\n\n    if (playlist.sidx && sidxMatch) {\n      addSegmentsToPlaylist(playlist, sidxMatch, playlist.sidx.resolvedUri);\n    }\n  }\n\n  return playlists;\n};\n\nvar formatAudioPlaylist = function formatAudioPlaylist(_ref) {\n  var _attributes;\n\n  var attributes = _ref.attributes,\n      segments = _ref.segments,\n      sidx = _ref.sidx;\n  var playlist = {\n    attributes: (_attributes = {\n      NAME: attributes.id,\n      BANDWIDTH: attributes.bandwidth,\n      CODECS: attributes.codecs\n    }, _attributes['PROGRAM-ID'] = 1, _attributes),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n\n  if (attributes.contentProtection) {\n    playlist.contentProtection = attributes.contentProtection;\n  }\n\n  if (sidx) {\n    playlist.sidx = sidx;\n  }\n\n  return playlist;\n};\n\nvar formatVttPlaylist = function formatVttPlaylist(_ref2) {\n  var _m3u8Attributes;\n\n  var attributes = _ref2.attributes,\n      segments = _ref2.segments;\n\n  if (typeof segments === 'undefined') {\n    // vtt tracks may use single file in BaseURL\n    segments = [{\n      uri: attributes.baseUrl,\n      timeline: attributes.periodIndex,\n      resolvedUri: attributes.baseUrl || '',\n      duration: attributes.sourceDuration,\n      number: 0\n    }]; // targetDuration should be the same duration as the only segment\n\n    attributes.duration = attributes.sourceDuration;\n  }\n\n  var m3u8Attributes = (_m3u8Attributes = {\n    NAME: attributes.id,\n    BANDWIDTH: attributes.bandwidth\n  }, _m3u8Attributes['PROGRAM-ID'] = 1, _m3u8Attributes);\n\n  if (attributes.codecs) {\n    m3u8Attributes.CODECS = attributes.codecs;\n  }\n\n  return {\n    attributes: m3u8Attributes,\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: attributes.baseUrl || '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n};\n\nvar organizeAudioPlaylists = function organizeAudioPlaylists(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  var mainPlaylist;\n  var formattedPlaylists = playlists.reduce(function (a, playlist) {\n    var role = playlist.attributes.role && playlist.attributes.role.value || '';\n    var language = playlist.attributes.lang || '';\n    var label = 'main';\n\n    if (language) {\n      var roleLabel = role ? \" (\" + role + \")\" : '';\n      label = \"\" + playlist.attributes.lang + roleLabel;\n    } // skip if we already have the highest quality audio for a language\n\n\n    if (a[label] && a[label].playlists[0].attributes.BANDWIDTH > playlist.attributes.bandwidth) {\n      return a;\n    }\n\n    a[label] = {\n      language: language,\n      autoselect: true,\n      default: role === 'main',\n      playlists: addSegmentInfoFromSidx([formatAudioPlaylist(playlist)], sidxMapping),\n      uri: ''\n    };\n\n    if (typeof mainPlaylist === 'undefined' && role === 'main') {\n      mainPlaylist = playlist;\n      mainPlaylist.default = true;\n    }\n\n    return a;\n  }, {}); // if no playlists have role \"main\", mark the first as main\n\n  if (!mainPlaylist) {\n    var firstLabel = Object.keys(formattedPlaylists)[0];\n    formattedPlaylists[firstLabel].default = true;\n  }\n\n  return formattedPlaylists;\n};\n\nvar organizeVttPlaylists = function organizeVttPlaylists(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  return playlists.reduce(function (a, playlist) {\n    var label = playlist.attributes.lang || 'text'; // skip if we already have subtitles\n\n    if (a[label]) {\n      return a;\n    }\n\n    a[label] = {\n      language: label,\n      default: false,\n      autoselect: false,\n      playlists: addSegmentInfoFromSidx([formatVttPlaylist(playlist)], sidxMapping),\n      uri: ''\n    };\n    return a;\n  }, {});\n};\n\nvar formatVideoPlaylist = function formatVideoPlaylist(_ref3) {\n  var _attributes2;\n\n  var attributes = _ref3.attributes,\n      segments = _ref3.segments,\n      sidx = _ref3.sidx;\n  var playlist = {\n    attributes: (_attributes2 = {\n      NAME: attributes.id,\n      AUDIO: 'audio',\n      SUBTITLES: 'subs',\n      RESOLUTION: {\n        width: attributes.width,\n        height: attributes.height\n      },\n      CODECS: attributes.codecs,\n      BANDWIDTH: attributes.bandwidth\n    }, _attributes2['PROGRAM-ID'] = 1, _attributes2),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n\n  if (attributes.contentProtection) {\n    playlist.contentProtection = attributes.contentProtection;\n  }\n\n  if (sidx) {\n    playlist.sidx = sidx;\n  }\n\n  return playlist;\n};\n\nvar toM3u8 = function toM3u8(dashPlaylists, locations, sidxMapping) {\n  var _mediaGroups;\n\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  if (!dashPlaylists.length) {\n    return {};\n  } // grab all master attributes\n\n\n  var _dashPlaylists$0$attr = dashPlaylists[0].attributes,\n      duration = _dashPlaylists$0$attr.sourceDuration,\n      _dashPlaylists$0$attr2 = _dashPlaylists$0$attr.type,\n      type = _dashPlaylists$0$attr2 === void 0 ? 'static' : _dashPlaylists$0$attr2,\n      suggestedPresentationDelay = _dashPlaylists$0$attr.suggestedPresentationDelay,\n      minimumUpdatePeriod = _dashPlaylists$0$attr.minimumUpdatePeriod;\n\n  var videoOnly = function videoOnly(_ref4) {\n    var attributes = _ref4.attributes;\n    return attributes.mimeType === 'video/mp4' || attributes.contentType === 'video';\n  };\n\n  var audioOnly = function audioOnly(_ref5) {\n    var attributes = _ref5.attributes;\n    return attributes.mimeType === 'audio/mp4' || attributes.contentType === 'audio';\n  };\n\n  var vttOnly = function vttOnly(_ref6) {\n    var attributes = _ref6.attributes;\n    return attributes.mimeType === 'text/vtt' || attributes.contentType === 'text';\n  };\n\n  var videoPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(videoOnly)).map(formatVideoPlaylist);\n  var audioPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(audioOnly));\n  var vttPlaylists = dashPlaylists.filter(vttOnly);\n  var master = {\n    allowCache: true,\n    discontinuityStarts: [],\n    segments: [],\n    endList: true,\n    mediaGroups: (_mediaGroups = {\n      AUDIO: {},\n      VIDEO: {}\n    }, _mediaGroups['CLOSED-CAPTIONS'] = {}, _mediaGroups.SUBTITLES = {}, _mediaGroups),\n    uri: '',\n    duration: duration,\n    playlists: addSegmentInfoFromSidx(videoPlaylists, sidxMapping)\n  };\n\n  if (minimumUpdatePeriod >= 0) {\n    master.minimumUpdatePeriod = minimumUpdatePeriod * 1000;\n  }\n\n  if (locations) {\n    master.locations = locations;\n  }\n\n  if (type === 'dynamic') {\n    master.suggestedPresentationDelay = suggestedPresentationDelay;\n  }\n\n  if (audioPlaylists.length) {\n    master.mediaGroups.AUDIO.audio = organizeAudioPlaylists(audioPlaylists, sidxMapping);\n  }\n\n  if (vttPlaylists.length) {\n    master.mediaGroups.SUBTITLES.subs = organizeVttPlaylists(vttPlaylists, sidxMapping);\n  }\n\n  return master;\n};\n/**\n * Calculates the R (repetition) value for a live stream (for the final segment\n * in a manifest where the r value is negative 1)\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {number} time\n *        current time (typically the total time up until the final segment)\n * @param {number} duration\n *        duration property for the given <S />\n *\n * @return {number}\n *        R value to reach the end of the given period\n */\n\n\nvar getLiveRValue = function getLiveRValue(attributes, time, duration) {\n  var NOW = attributes.NOW,\n      clientOffset = attributes.clientOffset,\n      availabilityStartTime = attributes.availabilityStartTime,\n      _attributes$timescale = attributes.timescale,\n      timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n      _attributes$start = attributes.start,\n      start = _attributes$start === void 0 ? 0 : _attributes$start,\n      _attributes$minimumUp = attributes.minimumUpdatePeriod,\n      minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp;\n  var now = (NOW + clientOffset) / 1000;\n  var periodStartWC = availabilityStartTime + start;\n  var periodEndWC = now + minimumUpdatePeriod;\n  var periodDuration = periodEndWC - periodStartWC;\n  return Math.ceil((periodDuration * timescale - time) / duration);\n};\n/**\n * Uses information provided by SegmentTemplate.SegmentTimeline to determine segment\n * timing and duration\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseByTimeline = function parseByTimeline(attributes, segmentTimeline) {\n  var _attributes$type = attributes.type,\n      type = _attributes$type === void 0 ? 'static' : _attributes$type,\n      _attributes$minimumUp2 = attributes.minimumUpdatePeriod,\n      minimumUpdatePeriod = _attributes$minimumUp2 === void 0 ? 0 : _attributes$minimumUp2,\n      _attributes$media = attributes.media,\n      media = _attributes$media === void 0 ? '' : _attributes$media,\n      sourceDuration = attributes.sourceDuration,\n      _attributes$timescale2 = attributes.timescale,\n      timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n      _attributes$startNumb = attributes.startNumber,\n      startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb,\n      timeline = attributes.periodIndex;\n  var segments = [];\n  var time = -1;\n\n  for (var sIndex = 0; sIndex < segmentTimeline.length; sIndex++) {\n    var S = segmentTimeline[sIndex];\n    var duration = S.d;\n    var repeat = S.r || 0;\n    var segmentTime = S.t || 0;\n\n    if (time < 0) {\n      // first segment\n      time = segmentTime;\n    }\n\n    if (segmentTime && segmentTime > time) {\n      // discontinuity\n      // TODO: How to handle this type of discontinuity\n      // timeline++ here would treat it like HLS discontuity and content would\n      // get appended without gap\n      // E.G.\n      //  <S t=\"0\" d=\"1\" />\n      //  <S d=\"1\" />\n      //  <S d=\"1\" />\n      //  <S t=\"5\" d=\"1\" />\n      // would have $Time$ values of [0, 1, 2, 5]\n      // should this be appened at time positions [0, 1, 2, 3],(#EXT-X-DISCONTINUITY)\n      // or [0, 1, 2, gap, gap, 5]? (#EXT-X-GAP)\n      // does the value of sourceDuration consider this when calculating arbitrary\n      // negative @r repeat value?\n      // E.G. Same elements as above with this added at the end\n      //  <S d=\"1\" r=\"-1\" />\n      //  with a sourceDuration of 10\n      // Would the 2 gaps be included in the time duration calculations resulting in\n      // 8 segments with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9] or 10 segments\n      // with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9, 10, 11] ?\n      time = segmentTime;\n    }\n\n    var count = void 0;\n\n    if (repeat < 0) {\n      var nextS = sIndex + 1;\n\n      if (nextS === segmentTimeline.length) {\n        // last segment\n        if (type === 'dynamic' && minimumUpdatePeriod > 0 && media.indexOf('$Number$') > 0) {\n          count = getLiveRValue(attributes, time, duration);\n        } else {\n          // TODO: This may be incorrect depending on conclusion of TODO above\n          count = (sourceDuration * timescale - time) / duration;\n        }\n      } else {\n        count = (segmentTimeline[nextS].t - time) / duration;\n      }\n    } else {\n      count = repeat + 1;\n    }\n\n    var end = startNumber + segments.length + count;\n    var number = startNumber + segments.length;\n\n    while (number < end) {\n      segments.push({\n        number: number,\n        duration: duration / timescale,\n        time: time,\n        timeline: timeline\n      });\n      time += duration;\n      number++;\n    }\n  }\n\n  return segments;\n};\n\nvar identifierPattern = /\\$([A-z]*)(?:(%0)([0-9]+)d)?\\$/g;\n/**\n * Replaces template identifiers with corresponding values. To be used as the callback\n * for String.prototype.replace\n *\n * @name replaceCallback\n * @function\n * @param {string} match\n *        Entire match of identifier\n * @param {string} identifier\n *        Name of matched identifier\n * @param {string} format\n *        Format tag string. Its presence indicates that padding is expected\n * @param {string} width\n *        Desired length of the replaced value. Values less than this width shall be left\n *        zero padded\n * @return {string}\n *         Replacement for the matched identifier\n */\n\n/**\n * Returns a function to be used as a callback for String.prototype.replace to replace\n * template identifiers\n *\n * @param {Obect} values\n *        Object containing values that shall be used to replace known identifiers\n * @param {number} values.RepresentationID\n *        Value of the Representation@id attribute\n * @param {number} values.Number\n *        Number of the corresponding segment\n * @param {number} values.Bandwidth\n *        Value of the Representation@bandwidth attribute.\n * @param {number} values.Time\n *        Timestamp value of the corresponding segment\n * @return {replaceCallback}\n *         Callback to be used with String.prototype.replace to replace identifiers\n */\n\nvar identifierReplacement = function identifierReplacement(values) {\n  return function (match, identifier, format, width) {\n    if (match === '$$') {\n      // escape sequence\n      return '$';\n    }\n\n    if (typeof values[identifier] === 'undefined') {\n      return match;\n    }\n\n    var value = '' + values[identifier];\n\n    if (identifier === 'RepresentationID') {\n      // Format tag shall not be present with RepresentationID\n      return value;\n    }\n\n    if (!format) {\n      width = 1;\n    } else {\n      width = parseInt(width, 10);\n    }\n\n    if (value.length >= width) {\n      return value;\n    }\n\n    return \"\" + new Array(width - value.length + 1).join('0') + value;\n  };\n};\n/**\n * Constructs a segment url from a template string\n *\n * @param {string} url\n *        Template string to construct url from\n * @param {Obect} values\n *        Object containing values that shall be used to replace known identifiers\n * @param {number} values.RepresentationID\n *        Value of the Representation@id attribute\n * @param {number} values.Number\n *        Number of the corresponding segment\n * @param {number} values.Bandwidth\n *        Value of the Representation@bandwidth attribute.\n * @param {number} values.Time\n *        Timestamp value of the corresponding segment\n * @return {string}\n *         Segment url with identifiers replaced\n */\n\n\nvar constructTemplateUrl = function constructTemplateUrl(url, values) {\n  return url.replace(identifierPattern, identifierReplacement(values));\n};\n/**\n * Generates a list of objects containing timing and duration information about each\n * segment needed to generate segment uris and the complete segment object\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseTemplateInfo = function parseTemplateInfo(attributes, segmentTimeline) {\n  if (!attributes.duration && !segmentTimeline) {\n    // if neither @duration or SegmentTimeline are present, then there shall be exactly\n    // one media segment\n    return [{\n      number: attributes.startNumber || 1,\n      duration: attributes.sourceDuration,\n      time: 0,\n      timeline: attributes.periodIndex\n    }];\n  }\n\n  if (attributes.duration) {\n    return parseByDuration(attributes);\n  }\n\n  return parseByTimeline(attributes, segmentTimeline);\n};\n/**\n * Generates a list of segments using information provided by the SegmentTemplate element\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {Object[]}\n *         List of segment objects\n */\n\n\nvar segmentsFromTemplate = function segmentsFromTemplate(attributes, segmentTimeline) {\n  var templateValues = {\n    RepresentationID: attributes.id,\n    Bandwidth: attributes.bandwidth || 0\n  };\n  var _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {\n    sourceURL: '',\n    range: ''\n  } : _attributes$initializ;\n  var mapSegment = urlTypeToSegment({\n    baseUrl: attributes.baseUrl,\n    source: constructTemplateUrl(initialization.sourceURL, templateValues),\n    range: initialization.range\n  });\n  var segments = parseTemplateInfo(attributes, segmentTimeline);\n  return segments.map(function (segment) {\n    templateValues.Number = segment.number;\n    templateValues.Time = segment.time;\n    var uri = constructTemplateUrl(attributes.media || '', templateValues);\n    return {\n      uri: uri,\n      timeline: segment.timeline,\n      duration: segment.duration,\n      resolvedUri: resolveUrl(attributes.baseUrl || '', uri),\n      map: mapSegment,\n      number: segment.number\n    };\n  });\n};\n/**\n * Converts a <SegmentUrl> (of type URLType from the DASH spec 5.3.9.2 Table 14)\n * to an object that matches the output of a segment in videojs/mpd-parser\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @param {Object} segmentUrl\n *   <SegmentURL> node to translate into a segment object\n * @return {Object} translated segment object\n */\n\n\nvar SegmentURLToSegmentObject = function SegmentURLToSegmentObject(attributes, segmentUrl) {\n  var baseUrl = attributes.baseUrl,\n      _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ;\n  var initSegment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: initialization.sourceURL,\n    range: initialization.range\n  });\n  var segment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: segmentUrl.media,\n    range: segmentUrl.mediaRange\n  });\n  segment.map = initSegment;\n  return segment;\n};\n/**\n * Generates a list of segments using information provided by the SegmentList element\n * SegmentList (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n * node should be translated into segment.\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {Object.<Array>} list of segments\n */\n\n\nvar segmentsFromList = function segmentsFromList(attributes, segmentTimeline) {\n  var duration = attributes.duration,\n      _attributes$segmentUr = attributes.segmentUrls,\n      segmentUrls = _attributes$segmentUr === void 0 ? [] : _attributes$segmentUr; // Per spec (5.3.9.2.1) no way to determine segment duration OR\n  // if both SegmentTimeline and @duration are defined, it is outside of spec.\n\n  if (!duration && !segmentTimeline || duration && segmentTimeline) {\n    throw new Error(errors.SEGMENT_TIME_UNSPECIFIED);\n  }\n\n  var segmentUrlMap = segmentUrls.map(function (segmentUrlObject) {\n    return SegmentURLToSegmentObject(attributes, segmentUrlObject);\n  });\n  var segmentTimeInfo;\n\n  if (duration) {\n    segmentTimeInfo = parseByDuration(attributes);\n  }\n\n  if (segmentTimeline) {\n    segmentTimeInfo = parseByTimeline(attributes, segmentTimeline);\n  }\n\n  var segments = segmentTimeInfo.map(function (segmentTime, index) {\n    if (segmentUrlMap[index]) {\n      var segment = segmentUrlMap[index];\n      segment.timeline = segmentTime.timeline;\n      segment.duration = segmentTime.duration;\n      segment.number = segmentTime.number;\n      return segment;\n    } // Since we're mapping we should get rid of any blank segments (in case\n    // the given SegmentTimeline is handling for more elements than we have\n    // SegmentURLs for).\n\n  }).filter(function (segment) {\n    return segment;\n  });\n  return segments;\n};\n\nvar generateSegments = function generateSegments(_ref) {\n  var attributes = _ref.attributes,\n      segmentInfo = _ref.segmentInfo;\n  var segmentAttributes;\n  var segmentsFn;\n\n  if (segmentInfo.template) {\n    segmentsFn = segmentsFromTemplate;\n    segmentAttributes = merge(attributes, segmentInfo.template);\n  } else if (segmentInfo.base) {\n    segmentsFn = segmentsFromBase;\n    segmentAttributes = merge(attributes, segmentInfo.base);\n  } else if (segmentInfo.list) {\n    segmentsFn = segmentsFromList;\n    segmentAttributes = merge(attributes, segmentInfo.list);\n  }\n\n  var segmentsInfo = {\n    attributes: attributes\n  };\n\n  if (!segmentsFn) {\n    return segmentsInfo;\n  }\n\n  var segments = segmentsFn(segmentAttributes, segmentInfo.timeline); // The @duration attribute will be used to determin the playlist's targetDuration which\n  // must be in seconds. Since we've generated the segment list, we no longer need\n  // @duration to be in @timescale units, so we can convert it here.\n\n  if (segmentAttributes.duration) {\n    var _segmentAttributes = segmentAttributes,\n        duration = _segmentAttributes.duration,\n        _segmentAttributes$ti = _segmentAttributes.timescale,\n        timescale = _segmentAttributes$ti === void 0 ? 1 : _segmentAttributes$ti;\n    segmentAttributes.duration = duration / timescale;\n  } else if (segments.length) {\n    // if there is no @duration attribute, use the largest segment duration as\n    // as target duration\n    segmentAttributes.duration = segments.reduce(function (max, segment) {\n      return Math.max(max, Math.ceil(segment.duration));\n    }, 0);\n  } else {\n    segmentAttributes.duration = 0;\n  }\n\n  segmentsInfo.attributes = segmentAttributes;\n  segmentsInfo.segments = segments; // This is a sidx box without actual segment information\n\n  if (segmentInfo.base && segmentAttributes.indexRange) {\n    segmentsInfo.sidx = segments[0];\n    segmentsInfo.segments = [];\n  }\n\n  return segmentsInfo;\n};\n\nvar toPlaylists = function toPlaylists(representations) {\n  return representations.map(generateSegments);\n};\n\nvar findChildren = function findChildren(element, name) {\n  return from(element.childNodes).filter(function (_ref) {\n    var tagName = _ref.tagName;\n    return tagName === name;\n  });\n};\n\nvar getContent = function getContent(element) {\n  return element.textContent.trim();\n};\n\nvar parseDuration = function parseDuration(str) {\n  var SECONDS_IN_YEAR = 365 * 24 * 60 * 60;\n  var SECONDS_IN_MONTH = 30 * 24 * 60 * 60;\n  var SECONDS_IN_DAY = 24 * 60 * 60;\n  var SECONDS_IN_HOUR = 60 * 60;\n  var SECONDS_IN_MIN = 60; // P10Y10M10DT10H10M10.1S\n\n  var durationRegex = /P(?:(\\d*)Y)?(?:(\\d*)M)?(?:(\\d*)D)?(?:T(?:(\\d*)H)?(?:(\\d*)M)?(?:([\\d.]*)S)?)?/;\n  var match = durationRegex.exec(str);\n\n  if (!match) {\n    return 0;\n  }\n\n  var _match$slice = match.slice(1),\n      year = _match$slice[0],\n      month = _match$slice[1],\n      day = _match$slice[2],\n      hour = _match$slice[3],\n      minute = _match$slice[4],\n      second = _match$slice[5];\n\n  return parseFloat(year || 0) * SECONDS_IN_YEAR + parseFloat(month || 0) * SECONDS_IN_MONTH + parseFloat(day || 0) * SECONDS_IN_DAY + parseFloat(hour || 0) * SECONDS_IN_HOUR + parseFloat(minute || 0) * SECONDS_IN_MIN + parseFloat(second || 0);\n};\n\nvar parseDate = function parseDate(str) {\n  // Date format without timezone according to ISO 8601\n  // YYY-MM-DDThh:mm:ss.ssssss\n  var dateRegex = /^\\d+-\\d+-\\d+T\\d+:\\d+:\\d+(\\.\\d+)?$/; // If the date string does not specifiy a timezone, we must specifiy UTC. This is\n  // expressed by ending with 'Z'\n\n  if (dateRegex.test(str)) {\n    str += 'Z';\n  }\n\n  return Date.parse(str);\n};\n\nvar parsers = {\n  /**\n   * Specifies the duration of the entire Media Presentation. Format is a duration string\n   * as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  mediaPresentationDuration: function mediaPresentationDuration(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the Segment availability start time for all Segments referred to in this\n   * MPD. For a dynamic manifest, it specifies the anchor for the earliest availability\n   * time. Format is a date string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The date as seconds from unix epoch\n   */\n  availabilityStartTime: function availabilityStartTime(value) {\n    return parseDate(value) / 1000;\n  },\n\n  /**\n   * Specifies the smallest period between potential changes to the MPD. Format is a\n   * duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  minimumUpdatePeriod: function minimumUpdatePeriod(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the suggested presentation delay. Format is a\n   * duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  suggestedPresentationDelay: function suggestedPresentationDelay(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * specifices the type of mpd. Can be either \"static\" or \"dynamic\"\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   *\n   * @return {string}\n   *         The type as a string\n   */\n  type: function type(value) {\n    return value;\n  },\n\n  /**\n   * Specifies the duration of the smallest time shifting buffer for any Representation\n   * in the MPD. Format is a duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  timeShiftBufferDepth: function timeShiftBufferDepth(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the PeriodStart time of the Period relative to the availabilityStarttime.\n   * Format is a duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  start: function start(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the width of the visual presentation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed width\n   */\n  width: function width(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the height of the visual presentation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed height\n   */\n  height: function height(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the bitrate of the representation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed bandwidth\n   */\n  bandwidth: function bandwidth(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the number of the first Media Segment in this Representation in the Period\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed number\n   */\n  startNumber: function startNumber(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the timescale in units per seconds\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The aprsed timescale\n   */\n  timescale: function timescale(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the constant approximate Segment duration\n   * NOTE: The <Period> element also contains an @duration attribute. This duration\n   *       specifies the duration of the Period. This attribute is currently not\n   *       supported by the rest of the parser, however we still check for it to prevent\n   *       errors.\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed duration\n   */\n  duration: function duration(value) {\n    var parsedValue = parseInt(value, 10);\n\n    if (isNaN(parsedValue)) {\n      return parseDuration(value);\n    }\n\n    return parsedValue;\n  },\n\n  /**\n   * Specifies the Segment duration, in units of the value of the @timescale.\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed duration\n   */\n  d: function d(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the MPD start time, in @timescale units, the first Segment in the series\n   * starts relative to the beginning of the Period\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed time\n   */\n  t: function t(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the repeat count of the number of following contiguous Segments with the\n   * same duration expressed by the value of @d\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed number\n   */\n  r: function r(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Default parser for all other attributes. Acts as a no-op and just returns the value\n   * as a string\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {string}\n   *         Unparsed value\n   */\n  DEFAULT: function DEFAULT(value) {\n    return value;\n  }\n};\n/**\n * Gets all the attributes and values of the provided node, parses attributes with known\n * types, and returns an object with attribute names mapped to values.\n *\n * @param {Node} el\n *        The node to parse attributes from\n * @return {Object}\n *         Object with all attributes of el parsed\n */\n\nvar parseAttributes = function parseAttributes(el) {\n  if (!(el && el.attributes)) {\n    return {};\n  }\n\n  return from(el.attributes).reduce(function (a, e) {\n    var parseFn = parsers[e.name] || parsers.DEFAULT;\n    a[e.name] = parseFn(e.value);\n    return a;\n  }, {});\n};\n\nvar keySystemsMap = {\n  'urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b': 'org.w3.clearkey',\n  'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed': 'com.widevine.alpha',\n  'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95': 'com.microsoft.playready',\n  'urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb': 'com.adobe.primetime'\n};\n/**\n * Builds a list of urls that is the product of the reference urls and BaseURL values\n *\n * @param {string[]} referenceUrls\n *        List of reference urls to resolve to\n * @param {Node[]} baseUrlElements\n *        List of BaseURL nodes from the mpd\n * @return {string[]}\n *         List of resolved urls\n */\n\nvar buildBaseUrls = function buildBaseUrls(referenceUrls, baseUrlElements) {\n  if (!baseUrlElements.length) {\n    return referenceUrls;\n  }\n\n  return flatten(referenceUrls.map(function (reference) {\n    return baseUrlElements.map(function (baseUrlElement) {\n      return resolveUrl(reference, getContent(baseUrlElement));\n    });\n  }));\n};\n/**\n * Contains all Segment information for its containing AdaptationSet\n *\n * @typedef {Object} SegmentInformation\n * @property {Object|undefined} template\n *           Contains the attributes for the SegmentTemplate node\n * @property {Object[]|undefined} timeline\n *           Contains a list of atrributes for each S node within the SegmentTimeline node\n * @property {Object|undefined} list\n *           Contains the attributes for the SegmentList node\n * @property {Object|undefined} base\n *           Contains the attributes for the SegmentBase node\n */\n\n/**\n * Returns all available Segment information contained within the AdaptationSet node\n *\n * @param {Node} adaptationSet\n *        The AdaptationSet node to get Segment information from\n * @return {SegmentInformation}\n *         The Segment information contained within the provided AdaptationSet\n */\n\n\nvar getSegmentInformation = function getSegmentInformation(adaptationSet) {\n  var segmentTemplate = findChildren(adaptationSet, 'SegmentTemplate')[0];\n  var segmentList = findChildren(adaptationSet, 'SegmentList')[0];\n  var segmentUrls = segmentList && findChildren(segmentList, 'SegmentURL').map(function (s) {\n    return merge({\n      tag: 'SegmentURL'\n    }, parseAttributes(s));\n  });\n  var segmentBase = findChildren(adaptationSet, 'SegmentBase')[0];\n  var segmentTimelineParentNode = segmentList || segmentTemplate;\n  var segmentTimeline = segmentTimelineParentNode && findChildren(segmentTimelineParentNode, 'SegmentTimeline')[0];\n  var segmentInitializationParentNode = segmentList || segmentBase || segmentTemplate;\n  var segmentInitialization = segmentInitializationParentNode && findChildren(segmentInitializationParentNode, 'Initialization')[0]; // SegmentTemplate is handled slightly differently, since it can have both\n  // @initialization and an <Initialization> node.  @initialization can be templated,\n  // while the node can have a url and range specified.  If the <SegmentTemplate> has\n  // both @initialization and an <Initialization> subelement we opt to override with\n  // the node, as this interaction is not defined in the spec.\n\n  var template = segmentTemplate && parseAttributes(segmentTemplate);\n\n  if (template && segmentInitialization) {\n    template.initialization = segmentInitialization && parseAttributes(segmentInitialization);\n  } else if (template && template.initialization) {\n    // If it is @initialization we convert it to an object since this is the format that\n    // later functions will rely on for the initialization segment.  This is only valid\n    // for <SegmentTemplate>\n    template.initialization = {\n      sourceURL: template.initialization\n    };\n  }\n\n  var segmentInfo = {\n    template: template,\n    timeline: segmentTimeline && findChildren(segmentTimeline, 'S').map(function (s) {\n      return parseAttributes(s);\n    }),\n    list: segmentList && merge(parseAttributes(segmentList), {\n      segmentUrls: segmentUrls,\n      initialization: parseAttributes(segmentInitialization)\n    }),\n    base: segmentBase && merge(parseAttributes(segmentBase), {\n      initialization: parseAttributes(segmentInitialization)\n    })\n  };\n  Object.keys(segmentInfo).forEach(function (key) {\n    if (!segmentInfo[key]) {\n      delete segmentInfo[key];\n    }\n  });\n  return segmentInfo;\n};\n/**\n * Contains Segment information and attributes needed to construct a Playlist object\n * from a Representation\n *\n * @typedef {Object} RepresentationInformation\n * @property {SegmentInformation} segmentInfo\n *           Segment information for this Representation\n * @property {Object} attributes\n *           Inherited attributes for this Representation\n */\n\n/**\n * Maps a Representation node to an object containing Segment information and attributes\n *\n * @name inheritBaseUrlsCallback\n * @function\n * @param {Node} representation\n *        Representation node from the mpd\n * @return {RepresentationInformation}\n *         Representation information needed to construct a Playlist object\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping Representation nodes to\n * Segment information and attributes using inherited BaseURL nodes.\n *\n * @param {Object} adaptationSetAttributes\n *        Contains attributes inherited by the AdaptationSet\n * @param {string[]} adaptationSetBaseUrls\n *        Contains list of resolved base urls inherited by the AdaptationSet\n * @param {SegmentInformation} adaptationSetSegmentInfo\n *        Contains Segment information for the AdaptationSet\n * @return {inheritBaseUrlsCallback}\n *         Callback map function\n */\n\n\nvar inheritBaseUrls = function inheritBaseUrls(adaptationSetAttributes, adaptationSetBaseUrls, adaptationSetSegmentInfo) {\n  return function (representation) {\n    var repBaseUrlElements = findChildren(representation, 'BaseURL');\n    var repBaseUrls = buildBaseUrls(adaptationSetBaseUrls, repBaseUrlElements);\n    var attributes = merge(adaptationSetAttributes, parseAttributes(representation));\n    var representationSegmentInfo = getSegmentInformation(representation);\n    return repBaseUrls.map(function (baseUrl) {\n      return {\n        segmentInfo: merge(adaptationSetSegmentInfo, representationSegmentInfo),\n        attributes: merge(attributes, {\n          baseUrl: baseUrl\n        })\n      };\n    });\n  };\n};\n/**\n * Tranforms a series of content protection nodes to\n * an object containing pssh data by key system\n *\n * @param {Node[]} contentProtectionNodes\n *        Content protection nodes\n * @return {Object}\n *        Object containing pssh data by key system\n */\n\n\nvar generateKeySystemInformation = function generateKeySystemInformation(contentProtectionNodes) {\n  return contentProtectionNodes.reduce(function (acc, node) {\n    var attributes = parseAttributes(node);\n    var keySystem = keySystemsMap[attributes.schemeIdUri];\n\n    if (keySystem) {\n      acc[keySystem] = {\n        attributes: attributes\n      };\n      var psshNode = findChildren(node, 'cenc:pssh')[0];\n\n      if (psshNode) {\n        var pssh = getContent(psshNode);\n        var psshBuffer = pssh && decodeB64ToUint8Array(pssh);\n        acc[keySystem].pssh = psshBuffer;\n      }\n    }\n\n    return acc;\n  }, {});\n};\n/**\n * Maps an AdaptationSet node to a list of Representation information objects\n *\n * @name toRepresentationsCallback\n * @function\n * @param {Node} adaptationSet\n *        AdaptationSet node from the mpd\n * @return {RepresentationInformation[]}\n *         List of objects containing Representaion information\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping AdaptationSet nodes to a list of\n * Representation information objects\n *\n * @param {Object} periodAttributes\n *        Contains attributes inherited by the Period\n * @param {string[]} periodBaseUrls\n *        Contains list of resolved base urls inherited by the Period\n * @param {string[]} periodSegmentInfo\n *        Contains Segment Information at the period level\n * @return {toRepresentationsCallback}\n *         Callback map function\n */\n\n\nvar toRepresentations = function toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo) {\n  return function (adaptationSet) {\n    var adaptationSetAttributes = parseAttributes(adaptationSet);\n    var adaptationSetBaseUrls = buildBaseUrls(periodBaseUrls, findChildren(adaptationSet, 'BaseURL'));\n    var role = findChildren(adaptationSet, 'Role')[0];\n    var roleAttributes = {\n      role: parseAttributes(role)\n    };\n    var attrs = merge(periodAttributes, adaptationSetAttributes, roleAttributes);\n    var contentProtection = generateKeySystemInformation(findChildren(adaptationSet, 'ContentProtection'));\n\n    if (Object.keys(contentProtection).length) {\n      attrs = merge(attrs, {\n        contentProtection: contentProtection\n      });\n    }\n\n    var segmentInfo = getSegmentInformation(adaptationSet);\n    var representations = findChildren(adaptationSet, 'Representation');\n    var adaptationSetSegmentInfo = merge(periodSegmentInfo, segmentInfo);\n    return flatten(representations.map(inheritBaseUrls(attrs, adaptationSetBaseUrls, adaptationSetSegmentInfo)));\n  };\n};\n/**\n * Maps an Period node to a list of Representation inforamtion objects for all\n * AdaptationSet nodes contained within the Period\n *\n * @name toAdaptationSetsCallback\n * @function\n * @param {Node} period\n *        Period node from the mpd\n * @param {number} periodIndex\n *        Index of the Period within the mpd\n * @return {RepresentationInformation[]}\n *         List of objects containing Representaion information\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping Period nodes to a list of\n * Representation information objects\n *\n * @param {Object} mpdAttributes\n *        Contains attributes inherited by the mpd\n * @param {string[]} mpdBaseUrls\n *        Contains list of resolved base urls inherited by the mpd\n * @return {toAdaptationSetsCallback}\n *         Callback map function\n */\n\n\nvar toAdaptationSets = function toAdaptationSets(mpdAttributes, mpdBaseUrls) {\n  return function (period, index) {\n    var periodBaseUrls = buildBaseUrls(mpdBaseUrls, findChildren(period, 'BaseURL'));\n    var periodAtt = parseAttributes(period);\n    var parsedPeriodId = parseInt(periodAtt.id, 10); // fallback to mapping index if Period@id is not a number\n\n    var periodIndex = window.isNaN(parsedPeriodId) ? index : parsedPeriodId;\n    var periodAttributes = merge(mpdAttributes, {\n      periodIndex: periodIndex\n    });\n    var adaptationSets = findChildren(period, 'AdaptationSet');\n    var periodSegmentInfo = getSegmentInformation(period);\n    return flatten(adaptationSets.map(toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo)));\n  };\n};\n/**\n * Traverses the mpd xml tree to generate a list of Representation information objects\n * that have inherited attributes from parent nodes\n *\n * @param {Node} mpd\n *        The root node of the mpd\n * @param {Object} options\n *        Available options for inheritAttributes\n * @param {string} options.manifestUri\n *        The uri source of the mpd\n * @param {number} options.NOW\n *        Current time per DASH IOP.  Default is current time in ms since epoch\n * @param {number} options.clientOffset\n *        Client time difference from NOW (in milliseconds)\n * @return {RepresentationInformation[]}\n *         List of objects containing Representation information\n */\n\n\nvar inheritAttributes = function inheritAttributes(mpd, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$manifestUri = _options.manifestUri,\n      manifestUri = _options$manifestUri === void 0 ? '' : _options$manifestUri,\n      _options$NOW = _options.NOW,\n      NOW = _options$NOW === void 0 ? Date.now() : _options$NOW,\n      _options$clientOffset = _options.clientOffset,\n      clientOffset = _options$clientOffset === void 0 ? 0 : _options$clientOffset;\n  var periods = findChildren(mpd, 'Period');\n\n  if (!periods.length) {\n    throw new Error(errors.INVALID_NUMBER_OF_PERIOD);\n  }\n\n  var locations = findChildren(mpd, 'Location');\n  var mpdAttributes = parseAttributes(mpd);\n  var mpdBaseUrls = buildBaseUrls([manifestUri], findChildren(mpd, 'BaseURL'));\n  mpdAttributes.sourceDuration = mpdAttributes.mediaPresentationDuration || 0;\n  mpdAttributes.NOW = NOW;\n  mpdAttributes.clientOffset = clientOffset;\n\n  if (locations.length) {\n    mpdAttributes.locations = locations.map(getContent);\n  }\n\n  return {\n    locations: mpdAttributes.locations,\n    representationInfo: flatten(periods.map(toAdaptationSets(mpdAttributes, mpdBaseUrls)))\n  };\n};\n\nvar stringToMpdXml = function stringToMpdXml(manifestString) {\n  if (manifestString === '') {\n    throw new Error(errors.DASH_EMPTY_MANIFEST);\n  }\n\n  var parser = new DOMParser();\n  var xml = parser.parseFromString(manifestString, 'application/xml');\n  var mpd = xml && xml.documentElement.tagName === 'MPD' ? xml.documentElement : null;\n\n  if (!mpd || mpd && mpd.getElementsByTagName('parsererror').length > 0) {\n    throw new Error(errors.DASH_INVALID_XML);\n  }\n\n  return mpd;\n};\n/**\n * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n *\n * @param {string} mpd\n *        XML string of the MPD manifest\n * @return {Object|null}\n *         Attributes of UTCTiming node specified in the manifest. Null if none found\n */\n\n\nvar parseUTCTimingScheme = function parseUTCTimingScheme(mpd) {\n  var UTCTimingNode = findChildren(mpd, 'UTCTiming')[0];\n\n  if (!UTCTimingNode) {\n    return null;\n  }\n\n  var attributes = parseAttributes(UTCTimingNode);\n\n  switch (attributes.schemeIdUri) {\n    case 'urn:mpeg:dash:utc:http-head:2014':\n    case 'urn:mpeg:dash:utc:http-head:2012':\n      attributes.method = 'HEAD';\n      break;\n\n    case 'urn:mpeg:dash:utc:http-xsdate:2014':\n    case 'urn:mpeg:dash:utc:http-iso:2014':\n    case 'urn:mpeg:dash:utc:http-xsdate:2012':\n    case 'urn:mpeg:dash:utc:http-iso:2012':\n      attributes.method = 'GET';\n      break;\n\n    case 'urn:mpeg:dash:utc:direct:2014':\n    case 'urn:mpeg:dash:utc:direct:2012':\n      attributes.method = 'DIRECT';\n      attributes.value = Date.parse(attributes.value);\n      break;\n\n    case 'urn:mpeg:dash:utc:http-ntp:2014':\n    case 'urn:mpeg:dash:utc:ntp:2014':\n    case 'urn:mpeg:dash:utc:sntp:2014':\n    default:\n      throw new Error(errors.UNSUPPORTED_UTC_TIMING_SCHEME);\n  }\n\n  return attributes;\n};\n\nvar VERSION = version;\n\nvar parse = function parse(manifestString, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var parsedManifestInfo = inheritAttributes(stringToMpdXml(manifestString), options);\n  var playlists = toPlaylists(parsedManifestInfo.representationInfo);\n  return toM3u8(playlists, parsedManifestInfo.locations, options.sidxMapping);\n};\n/**\n * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n *\n * @param {string} manifestString\n *        XML string of the MPD manifest\n * @return {Object|null}\n *         Attributes of UTCTiming node specified in the manifest. Null if none found\n */\n\n\nvar parseUTCTiming = function parseUTCTiming(manifestString) {\n  return parseUTCTimingScheme(stringToMpdXml(manifestString));\n};\n\nexport { VERSION, inheritAttributes, parse, parseUTCTiming, stringToMpdXml, toM3u8, toPlaylists };","/*! @name @videojs/vhs-utils @version 2.2.1 @license MIT */\n'use strict';\n\nvar window = require('global/window');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar window__default = /*#__PURE__*/_interopDefaultLegacy(window);\n\nvar atob = function atob(s) {\n  return window__default['default'].atob ? window__default['default'].atob(s) : Buffer.from(s, 'base64').toString('binary');\n};\n\nfunction decodeB64ToUint8Array(b64Text) {\n  var decodedString = atob(b64Text);\n  var array = new Uint8Array(decodedString.length);\n\n  for (var i = 0; i < decodedString.length; i++) {\n    array[i] = decodedString.charCodeAt(i);\n  }\n\n  return array;\n}\n\nmodule.exports = decodeB64ToUint8Array;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.ScrollContainer = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _scrollHandler = require(\"./scroll-handler\");\n\nvar _router = require(\"@reach/router\");\n\n// TODO: In Gatsby v3, this file should be removed.\n// We are deprecating this in V2 in favor of useScrollRestoration\nvar propTypes = {\n  scrollKey: _propTypes.default.string.isRequired,\n  shouldUpdateScroll: _propTypes.default.func,\n  children: _propTypes.default.element.isRequired\n};\nvar hasNotWarnedDeprecation = true;\n\nvar ScrollContainerImplementation = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(ScrollContainerImplementation, _React$Component);\n\n  function ScrollContainerImplementation(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    if (process.env.NODE_ENV !== \"production\" && hasNotWarnedDeprecation) {\n      hasNotWarnedDeprecation = false;\n      console.log(\"Deprecation Warning:\\n\\n  Gatsby <ScrollContainer> is deprecated in Gatsby v2 and will be removed in Gatsby v3.\\n  Update to the React hook alternative useScrollRestoration, like this:.\\n  \\n  ```\\n  import React from 'react';\\n  import { useScrollRestoration } from 'gatsby-react-router-scroll';\\n\\n  function Component() {\\n    const scrollRestoration = useScrollRestoration('\" + _this.props.scrollKey + \"');\\n\\n    return <ul {...scrollRestoration} />;\\n  }\\n  ```\\n  \");\n    }\n\n    return _this;\n  }\n\n  var _proto = ScrollContainerImplementation.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    // eslint-disable-next-line react/no-find-dom-node\n    var node = _reactDom.default.findDOMNode(this);\n\n    var _this$props = this.props,\n        location = _this$props.location,\n        scrollKey = _this$props.scrollKey;\n    if (!node) return;\n    node.addEventListener(\"scroll\", function () {\n      _this2.props.context.save(location, scrollKey, node.scrollTop);\n    });\n    var position = this.props.context.read(location, scrollKey);\n    node.scrollTo(0, position || 0);\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return ScrollContainerImplementation;\n}(React.Component);\n\nvar ScrollContainer = function ScrollContainer(props) {\n  return /*#__PURE__*/React.createElement(_router.Location, null, function (_ref) {\n    var location = _ref.location;\n    return /*#__PURE__*/React.createElement(_scrollHandler.ScrollContext.Consumer, null, function (context) {\n      return /*#__PURE__*/React.createElement(ScrollContainerImplementation, (0, _extends2.default)({}, props, {\n        context: context,\n        location: location\n      }));\n    });\n  });\n};\n\nexports.ScrollContainer = ScrollContainer;\nScrollContainer.propTypes = propTypes;","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var parseSampleFlags = require('./parse-sample-flags.js');\n\nvar trun = function trun(data) {\n  var result = {\n    version: data[0],\n    flags: new Uint8Array(data.subarray(1, 4)),\n    samples: []\n  },\n      view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n      // Flag interpretation\n  dataOffsetPresent = result.flags[2] & 0x01,\n      // compare with 2nd byte of 0x1\n  firstSampleFlagsPresent = result.flags[2] & 0x04,\n      // compare with 2nd byte of 0x4\n  sampleDurationPresent = result.flags[1] & 0x01,\n      // compare with 2nd byte of 0x100\n  sampleSizePresent = result.flags[1] & 0x02,\n      // compare with 2nd byte of 0x200\n  sampleFlagsPresent = result.flags[1] & 0x04,\n      // compare with 2nd byte of 0x400\n  sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\n      // compare with 2nd byte of 0x800\n  sampleCount = view.getUint32(4),\n      offset = 8,\n      sample;\n\n  if (dataOffsetPresent) {\n    // 32 bit signed integer\n    result.dataOffset = view.getInt32(offset);\n    offset += 4;\n  } // Overrides the flags for the first sample only. The order of\n  // optional values will be: duration, size, compositionTimeOffset\n\n\n  if (firstSampleFlagsPresent && sampleCount) {\n    sample = {\n      flags: parseSampleFlags(data.subarray(offset, offset + 4))\n    };\n    offset += 4;\n\n    if (sampleDurationPresent) {\n      sample.duration = view.getUint32(offset);\n      offset += 4;\n    }\n\n    if (sampleSizePresent) {\n      sample.size = view.getUint32(offset);\n      offset += 4;\n    }\n\n    if (sampleCompositionTimeOffsetPresent) {\n      if (result.version === 1) {\n        sample.compositionTimeOffset = view.getInt32(offset);\n      } else {\n        sample.compositionTimeOffset = view.getUint32(offset);\n      }\n\n      offset += 4;\n    }\n\n    result.samples.push(sample);\n    sampleCount--;\n  }\n\n  while (sampleCount--) {\n    sample = {};\n\n    if (sampleDurationPresent) {\n      sample.duration = view.getUint32(offset);\n      offset += 4;\n    }\n\n    if (sampleSizePresent) {\n      sample.size = view.getUint32(offset);\n      offset += 4;\n    }\n\n    if (sampleFlagsPresent) {\n      sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\n      offset += 4;\n    }\n\n    if (sampleCompositionTimeOffsetPresent) {\n      if (result.version === 1) {\n        sample.compositionTimeOffset = view.getInt32(offset);\n      } else {\n        sample.compositionTimeOffset = view.getUint32(offset);\n      }\n\n      offset += 4;\n    }\n\n    result.samples.push(sample);\n  }\n\n  return result;\n};\n\nmodule.exports = trun;","module.exports = SafeParseTuple;\n\nfunction SafeParseTuple(obj, reviver) {\n  var json;\n  var error = null;\n\n  try {\n    json = JSON.parse(obj, reviver);\n  } catch (err) {\n    error = err;\n  }\n\n  return [error, json];\n}","var parseType = function parseType(buffer) {\n  var result = '';\n  result += String.fromCharCode(buffer[0]);\n  result += String.fromCharCode(buffer[1]);\n  result += String.fromCharCode(buffer[2]);\n  result += String.fromCharCode(buffer[3]);\n  return result;\n};\n\nmodule.exports = parseType;","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? nBytes - 1 : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n  i += d;\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n  var i = isLE ? 0 : nBytes - 1;\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = e << mLen | m;\n  eLen += mLen;\n\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n};","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _gatsby = require(\"gatsby\");\n\nvar _getManifestPathname = _interopRequireDefault(require(\"./get-manifest-pathname\"));\n\n/* global __MANIFEST_PLUGIN_HAS_LOCALISATION__ */\n// when we don't have localisation in our manifest, we tree shake everything away\nif (__MANIFEST_PLUGIN_HAS_LOCALISATION__) {\n  exports.onRouteUpdate = function (_ref, pluginOptions) {\n    var location = _ref.location;\n    var localize = pluginOptions.localize;\n    var manifestFilename = (0, _getManifestPathname.default)(location.pathname, localize);\n    var manifestEl = document.head.querySelector(\"link[rel=\\\"manifest\\\"]\");\n\n    if (manifestEl) {\n      manifestEl.setAttribute(\"href\", (0, _gatsby.withPrefix)(manifestFilename));\n    }\n  };\n}","/*\n  Why commonjs and not ES imports/exports?\n\n  This module is used to alias `create-react-context` package, but drop the the actual implementation part\n  because Gatsby requires version of react that has implementatoin baked in.\n  \n  Package source is using ES modules:\n    - https://github.com/jamiebuilds/create-react-context/blob/v0.3.0/src/index.js\n  \n  But to build this package `babel-plugin-add-module-exports` is used ( https://www.npmjs.com/package/babel-plugin-add-module-exports).\n  Which result in both `module.exports` and `exports.default` being set to same thing.\n\n  We don't use that babel plugin so we only have `exports.default`.\n\n  This cause problems in various 3rd party react components that rely on `module.exports` being set.\n  See https://github.com/gatsbyjs/gatsby/issues/23645 for example of it.\n  \n  Instead of adding same babel plugin we mimic output here. Adding babel plugin just for this would:\n   a) unnecesairly slow down compilation for all other files (if we just apply it everywhere)\n   b) or complicate babel-loader configuration with overwrite specifically for this file\n*/\n\nconst { createContext } = require(`react`)\n\nmodule.exports = createContext\nmodule.exports.default = createContext\n","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","\"use strict\";\n\nexports.__esModule = true;\nexports.onRouteUpdate = void 0;\n\nvar onRouteUpdate = function onRouteUpdate(_ref, pluginOptions) {\n  var location = _ref.location;\n\n  if (pluginOptions === void 0) {\n    pluginOptions = {};\n  }\n\n  if (process.env.NODE_ENV !== \"production\" || typeof ga !== \"function\") {\n    return null;\n  }\n\n  var pathIsExcluded = location && typeof window.excludeGAPaths !== \"undefined\" && window.excludeGAPaths.some(function (rx) {\n    return rx.test(location.pathname);\n  });\n  if (pathIsExcluded) return null; // wrap inside a timeout to make sure react-helmet is done with it's changes (https://github.com/gatsbyjs/gatsby/issues/9139)\n  // reactHelmet is using requestAnimationFrame: https://github.com/nfl/react-helmet/blob/5.2.0/src/HelmetUtils.js#L296-L299\n\n  var sendPageView = function sendPageView() {\n    var pagePath = location ? location.pathname + location.search + location.hash : undefined;\n    window.ga(\"set\", \"page\", pagePath);\n    window.ga(\"send\", \"pageview\");\n  }; // Minimum delay for reactHelmet's requestAnimationFrame\n\n\n  var delay = Math.max(32, pluginOptions.pageTransitionDelay || 0);\n  setTimeout(sendPageView, delay);\n  return null;\n};\n\nexports.onRouteUpdate = onRouteUpdate;","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","/*! @name @videojs/vhs-utils @version 2.2.1 @license MIT */\n'use strict';\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar isTypedArray = function isTypedArray(obj) {\n  return ArrayBuffer.isView(obj);\n};\n\nvar toUint8 = function toUint8(bytes) {\n  return bytes instanceof Uint8Array ? bytes : new Uint8Array(bytes && bytes.buffer || bytes, bytes && bytes.byteOffset || 0, bytes && bytes.byteLength || 0);\n};\n\nvar bytesToString = function bytesToString(bytes) {\n  if (!bytes) {\n    return '';\n  }\n\n  bytes = Array.prototype.slice.call(bytes);\n  var string = String.fromCharCode.apply(null, toUint8(bytes));\n\n  try {\n    return decodeURIComponent(escape(string));\n  } catch (e) {// if decodeURIComponent/escape fails, we are dealing with partial\n    // or full non string data. Just return the potentially garbled string.\n  }\n\n  return string;\n};\n\nvar stringToBytes = function stringToBytes(string, stringIsBytes) {\n  if (stringIsBytes === void 0) {\n    stringIsBytes = false;\n  }\n\n  var bytes = [];\n\n  if (typeof string !== 'string' && string && typeof string.toString === 'function') {\n    string = string.toString();\n  }\n\n  if (typeof string !== 'string') {\n    return bytes;\n  } // If the string already is bytes, we don't have to do this\n\n\n  if (!stringIsBytes) {\n    string = unescape(encodeURIComponent(string));\n  }\n\n  return string.split('').map(function (s) {\n    return s.charCodeAt(0) & 0xFF;\n  });\n};\n\nvar concatTypedArrays = function concatTypedArrays() {\n  for (var _len = arguments.length, buffers = new Array(_len), _key = 0; _key < _len; _key++) {\n    buffers[_key] = arguments[_key];\n  }\n\n  var totalLength = buffers.reduce(function (total, buf) {\n    var len = buf && (buf.byteLength || buf.length);\n    total += len || 0;\n    return total;\n  }, 0);\n  var tempBuffer = new Uint8Array(totalLength);\n  var offset = 0;\n  buffers.forEach(function (buf) {\n    buf = toUint8(buf);\n    tempBuffer.set(buf, offset);\n    offset += buf.byteLength;\n  });\n  return tempBuffer;\n};\n\nexports.bytesToString = bytesToString;\nexports.concatTypedArrays = concatTypedArrays;\nexports.isTypedArray = isTypedArray;\nexports.stringToBytes = stringToBytes;\nexports.toUint8 = toUint8;","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\n'use strict';\n\nmodule.exports = {\n  H264_STREAM_TYPE: 0x1B,\n  ADTS_STREAM_TYPE: 0x0F,\n  METADATA_STREAM_TYPE: 0x15\n};","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport loader from \"./loader\"\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.loadPageSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar autoKeyword = \"auto\";\nvar directionSetting = {\n  \"\": 1,\n  \"lr\": 1,\n  \"rl\": 1\n};\nvar alignSetting = {\n  \"start\": 1,\n  \"center\": 1,\n  \"end\": 1,\n  \"left\": 1,\n  \"right\": 1,\n  \"auto\": 1,\n  \"line-left\": 1,\n  \"line-right\": 1\n};\n\nfunction findDirectionSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  var dir = directionSetting[value.toLowerCase()];\n  return dir ? value.toLowerCase() : false;\n}\n\nfunction findAlignSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  var align = alignSetting[value.toLowerCase()];\n  return align ? value.toLowerCase() : false;\n}\n\nfunction VTTCue(startTime, endTime, text) {\n  /**\n   * Shim implementation specific properties. These properties are not in\n   * the spec.\n   */\n  // Lets us know when the VTTCue's data has changed in such a way that we need\n  // to recompute its display state. This lets us compute its display state\n  // lazily.\n  this.hasBeenReset = false;\n  /**\n   * VTTCue and TextTrackCue properties\n   * http://dev.w3.org/html5/webvtt/#vttcue-interface\n   */\n\n  var _id = \"\";\n  var _pauseOnExit = false;\n  var _startTime = startTime;\n  var _endTime = endTime;\n  var _text = text;\n  var _region = null;\n  var _vertical = \"\";\n  var _snapToLines = true;\n  var _line = \"auto\";\n  var _lineAlign = \"start\";\n  var _position = \"auto\";\n  var _positionAlign = \"auto\";\n  var _size = 100;\n  var _align = \"center\";\n  Object.defineProperties(this, {\n    \"id\": {\n      enumerable: true,\n      get: function get() {\n        return _id;\n      },\n      set: function set(value) {\n        _id = \"\" + value;\n      }\n    },\n    \"pauseOnExit\": {\n      enumerable: true,\n      get: function get() {\n        return _pauseOnExit;\n      },\n      set: function set(value) {\n        _pauseOnExit = !!value;\n      }\n    },\n    \"startTime\": {\n      enumerable: true,\n      get: function get() {\n        return _startTime;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"Start time must be set to a number.\");\n        }\n\n        _startTime = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"endTime\": {\n      enumerable: true,\n      get: function get() {\n        return _endTime;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"End time must be set to a number.\");\n        }\n\n        _endTime = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"text\": {\n      enumerable: true,\n      get: function get() {\n        return _text;\n      },\n      set: function set(value) {\n        _text = \"\" + value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"region\": {\n      enumerable: true,\n      get: function get() {\n        return _region;\n      },\n      set: function set(value) {\n        _region = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"vertical\": {\n      enumerable: true,\n      get: function get() {\n        return _vertical;\n      },\n      set: function set(value) {\n        var setting = findDirectionSetting(value); // Have to check for false because the setting an be an empty string.\n\n        if (setting === false) {\n          throw new SyntaxError(\"Vertical: an invalid or illegal direction string was specified.\");\n        }\n\n        _vertical = setting;\n        this.hasBeenReset = true;\n      }\n    },\n    \"snapToLines\": {\n      enumerable: true,\n      get: function get() {\n        return _snapToLines;\n      },\n      set: function set(value) {\n        _snapToLines = !!value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"line\": {\n      enumerable: true,\n      get: function get() {\n        return _line;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\" && value !== autoKeyword) {\n          throw new SyntaxError(\"Line: an invalid number or illegal string was specified.\");\n        }\n\n        _line = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"lineAlign\": {\n      enumerable: true,\n      get: function get() {\n        return _lineAlign;\n      },\n      set: function set(value) {\n        var setting = findAlignSetting(value);\n\n        if (!setting) {\n          console.warn(\"lineAlign: an invalid or illegal string was specified.\");\n        } else {\n          _lineAlign = setting;\n          this.hasBeenReset = true;\n        }\n      }\n    },\n    \"position\": {\n      enumerable: true,\n      get: function get() {\n        return _position;\n      },\n      set: function set(value) {\n        if (value < 0 || value > 100) {\n          throw new Error(\"Position must be between 0 and 100.\");\n        }\n\n        _position = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"positionAlign\": {\n      enumerable: true,\n      get: function get() {\n        return _positionAlign;\n      },\n      set: function set(value) {\n        var setting = findAlignSetting(value);\n\n        if (!setting) {\n          console.warn(\"positionAlign: an invalid or illegal string was specified.\");\n        } else {\n          _positionAlign = setting;\n          this.hasBeenReset = true;\n        }\n      }\n    },\n    \"size\": {\n      enumerable: true,\n      get: function get() {\n        return _size;\n      },\n      set: function set(value) {\n        if (value < 0 || value > 100) {\n          throw new Error(\"Size must be between 0 and 100.\");\n        }\n\n        _size = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"align\": {\n      enumerable: true,\n      get: function get() {\n        return _align;\n      },\n      set: function set(value) {\n        var setting = findAlignSetting(value);\n\n        if (!setting) {\n          throw new SyntaxError(\"align: an invalid or illegal alignment string was specified.\");\n        }\n\n        _align = setting;\n        this.hasBeenReset = true;\n      }\n    }\n  });\n  /**\n   * Other <track> spec defined properties\n   */\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n\n  this.displayState = undefined;\n}\n/**\n * VTTCue methods\n */\n\n\nVTTCue.prototype.getCueAsHTML = function () {\n  // Assume WebVTT.convertCueToDOMTree is on the global.\n  return WebVTT.convertCueToDOMTree(window, this.text);\n};\n\nmodule.exports = VTTCue;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","/*! @name @videojs/vhs-utils @version 2.2.1 @license MIT */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar MPEGURL_REGEX = /^(audio|video|application)\\/(x-|vnd\\.apple\\.)?mpegurl/i;\nvar DASH_REGEX = /^application\\/dash\\+xml/i;\n/**\n * Returns a string that describes the type of source based on a video source object's\n * media type.\n *\n * @see {@link https://dev.w3.org/html5/pf-summary/video.html#dom-source-type|Source Type}\n *\n * @param {string} type\n *        Video source object media type\n * @return {('hls'|'dash'|'vhs-json'|null)}\n *         VHS source type string\n */\n\nvar simpleTypeFromSourceType = function simpleTypeFromSourceType(type) {\n  if (MPEGURL_REGEX.test(type)) {\n    return 'hls';\n  }\n\n  if (DASH_REGEX.test(type)) {\n    return 'dash';\n  } // Denotes the special case of a manifest object passed to http-streaming instead of a\n  // source URL.\n  //\n  // See https://en.wikipedia.org/wiki/Media_type for details on specifying media types.\n  //\n  // In this case, vnd stands for vendor, video.js for the organization, VHS for this\n  // project, and the +json suffix identifies the structure of the media type.\n\n\n  if (type === 'application/vnd.videojs.vhs+json') {\n    return 'vhs-json';\n  }\n\n  return null;\n};\n\nexports.simpleTypeFromSourceType = simpleTypeFromSourceType;","var win;\n\nif (typeof window !== \"undefined\") {\n  win = window;\n} else if (typeof global !== \"undefined\") {\n  win = global;\n} else if (typeof self !== \"undefined\") {\n  win = self;\n} else {\n  win = {};\n}\n\nmodule.exports = win;","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = false;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","const plugins = require(`./api-runner-browser-plugins`)\nconst {\n  getResourcesForPathname,\n  getResourcesForPathnameSync,\n  getResourceURLsForPathname,\n  loadPage,\n  loadPageSync,\n} = require(`./loader`).publicLoader\n\nexports.apiRunner = (api, args = {}, defaultReturn, argTransform) => {\n  // Hooks for gatsby-cypress's API handler\n  if (process.env.CYPRESS_SUPPORT) {\n    if (window.___apiHandler) {\n      window.___apiHandler(api)\n    } else if (window.___resolvedAPIs) {\n      window.___resolvedAPIs.push(api)\n    } else {\n      window.___resolvedAPIs = [api]\n    }\n  }\n\n  let results = plugins.map(plugin => {\n    if (!plugin.plugin[api]) {\n      return undefined\n    }\n\n    // Deprecated April 2019. Use `loadPageSync` instead\n    args.getResourcesForPathnameSync = getResourcesForPathnameSync\n    // Deprecated April 2019. Use `loadPage` instead\n    args.getResourcesForPathname = getResourcesForPathname\n    args.getResourceURLsForPathname = getResourceURLsForPathname\n    args.loadPage = loadPage\n    args.loadPageSync = loadPageSync\n\n    const result = plugin.plugin[api](args, plugin.options)\n    if (result && argTransform) {\n      args = argTransform({ args, result, plugin })\n    }\n    return result\n  })\n\n  // Filter out undefined results.\n  results = results.filter(result => typeof result !== `undefined`)\n\n  if (results.length > 0) {\n    return results\n  } else if (defaultReturn) {\n    return [defaultReturn]\n  } else {\n    return []\n  }\n}\n\nexports.apiRunnerAsync = (api, args, defaultReturn) =>\n  plugins.reduce(\n    (previous, next) =>\n      next.plugin[api]\n        ? previous.then(() => next.plugin[api](args, next.options))\n        : previous,\n    Promise.resolve()\n  )\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var tfhd = function tfhd(data) {\n  var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n      result = {\n    version: data[0],\n    flags: new Uint8Array(data.subarray(1, 4)),\n    trackId: view.getUint32(4)\n  },\n      baseDataOffsetPresent = result.flags[2] & 0x01,\n      sampleDescriptionIndexPresent = result.flags[2] & 0x02,\n      defaultSampleDurationPresent = result.flags[2] & 0x08,\n      defaultSampleSizePresent = result.flags[2] & 0x10,\n      defaultSampleFlagsPresent = result.flags[2] & 0x20,\n      durationIsEmpty = result.flags[0] & 0x010000,\n      defaultBaseIsMoof = result.flags[0] & 0x020000,\n      i;\n  i = 8;\n\n  if (baseDataOffsetPresent) {\n    i += 4; // truncate top 4 bytes\n    // FIXME: should we read the full 64 bits?\n\n    result.baseDataOffset = view.getUint32(12);\n    i += 4;\n  }\n\n  if (sampleDescriptionIndexPresent) {\n    result.sampleDescriptionIndex = view.getUint32(i);\n    i += 4;\n  }\n\n  if (defaultSampleDurationPresent) {\n    result.defaultSampleDuration = view.getUint32(i);\n    i += 4;\n  }\n\n  if (defaultSampleSizePresent) {\n    result.defaultSampleSize = view.getUint32(i);\n    i += 4;\n  }\n\n  if (defaultSampleFlagsPresent) {\n    result.defaultSampleFlags = view.getUint32(i);\n  }\n\n  if (durationIsEmpty) {\n    result.durationIsEmpty = true;\n  }\n\n  if (!baseDataOffsetPresent && defaultBaseIsMoof) {\n    result.baseDataOffsetIsMoof = true;\n  }\n\n  return result;\n};\n\nmodule.exports = tfhd;","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var topLevel = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : {};\n\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n  doccy = document;\n} else {\n  doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n  if (!doccy) {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n  }\n}\n\nmodule.exports = doccy;","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var parseSampleFlags = function parseSampleFlags(flags) {\n  return {\n    isLeading: (flags[0] & 0x0c) >>> 2,\n    dependsOn: flags[0] & 0x03,\n    isDependedOn: (flags[1] & 0xc0) >>> 6,\n    hasRedundancy: (flags[1] & 0x30) >>> 4,\n    paddingValue: (flags[1] & 0x0e) >>> 1,\n    isNonSyncSample: flags[1] & 0x01,\n    degradationPriority: flags[2] << 8 | flags[3]\n  };\n};\n\nmodule.exports = parseSampleFlags;"],"sourceRoot":""}